/*! For license information please see main.3243a48d.js.LICENSE.txt */
!function(){var e={6910:function(e,t,n){var r=n(8416).default,i=n(6690).default,a=n(9728).default,o=n(1655).default,s=n(6389).default;!function(){var t={271:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var r=function(e,t){return e?function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=console).log.apply(e,["<".concat(t,"/> Debug Log: ")].concat(r))}:function(){}}},88:function(e,t,n){"use strict";n.d(t,{Z:function(){return R}});var l=n(497),u=n.n(l),c=n(379),d=n.n(c),f=n(795),h=n.n(f),p=n(569),v=n.n(p),g=n(565),m=n.n(g),y=n(216),b=n.n(y),E=n(589),S=n.n(E),T=n(563),w={};w.styleTagTransform=S(),w.setAttributes=m(),w.insert=v().bind(null,"head"),w.domAPI=h(),w.insertStyleElement=b();d()(T.Z,w),T.Z&&T.Z.locals&&T.Z.locals;var k,L=n(271),x=n(542);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=["afterLoad","afterRender","afterResize","afterResponsive","afterSlideLoad","onLeave","onSlideLeave"],P=function(e){o(l,e);var t=s(l);function l(e){var r;i(this,l);var a=(r=t.call(this,e)).props,o=a.render,s=a.pluginWrapper;if("function"!==typeof o)throw new Error("must provide render prop to <ReactFullpage />");return r.log=(0,L.Z)(r.props.debug,"ReactFullpage"),r.log("Building component"),r.log("Importing vendor files"),r.importVendors(),s&&(r.log("Calling plugin wrapper"),s()),r.log("Requiring fullpage.js"),k=n(933),r.state={initialized:!1,sectionCount:0,slideCount:0},r}return a(l,[{key:"componentDidMount",value:function(){var e=this.buildOptions();this.log("React Lifecycle: componentDidMount()"),k&&(this.init(e),this.markInitialized())}},{key:"isReRenderNecessary",value:function(e){var t=this,n=this.getSectionCount(),r=this.getSlideCount(),i=this.state,a=i.sectionCount,o=i.slideCount,s=a!==n||o!==r;return["sectionsColor","navigationTooltips","navigationPosition","navigation","scrollBar"].forEach((function(n){var r,i;"undefined"!==typeof e[n]&&(s=Array.isArray(e[n])?s||(r=e[n],i=t.props[n],!(r.length===i.length&&null==r.find((function(e){return!i.includes(e)})))):s||e[n]!==t.props[n])})),s}},{key:"componentDidUpdate",value:function(e){if(this.log("React Lifecycle: componentDidUpdate()"),this.isReRenderNecessary(e))return this.log("rebuilding due to a change in fullpage.js props or num sections/slides"),void this.reRender()}},{key:"componentWillUnmount",value:function(){this.destroy()}},{key:"getSectionCount",value:function(){var e=this.props.sectionSelector,t=void 0===e?x.uS:e;return document.querySelectorAll(t).length}},{key:"getSlideCount",value:function(){var e=this.props.slideSelector,t=void 0===e?x.xH:e;return document.querySelectorAll(t).length}},{key:"importVendors",value:function(){var e=this.props,t=e.easing,r=e.css3;t&&!r&&n(239)}},{key:"init",value:function(e){this.log("Reinitializing fullpage with options",e);var t=e.animateAnchor;e.animateAnchor=!1,new k(x.Km,e),this.fullpageApi=window.fullpage_api,this.fpUtils=window.fp_utils,this.fpEasings=window.fp_easings,window.fullpage_api.getFullpageData().options.animateAnchor=t}},{key:"destroy",value:function(){this.log("Destroying fullpage instance"),this.fullpageApi.destroy("all")}},{key:"reRender",value:function(){var e=this.props.slideSelector||".slide",t=this.props.sectionSelector||".section",n=document.querySelector(t+".active"),r=n?this.fpUtils.index(n):this.state.destination?this.state.destination.index-1:0,i=document.querySelector(t+".active "+e+".active"),a=i?this.fpUtils.index(i):-1;this.destroy(),r>-1&&this.fpUtils.addClass(document.querySelectorAll(t)[r],"active"),a>-1&&this.fpUtils.addClass(i,"active"),this.init(this.buildOptions())}},{key:"markInitialized",value:function(){this.log("Marking initialized"),this.setState({initialized:!0,sectionCount:this.getSectionCount(),slideCount:this.getSlideCount()})}},{key:"buildOptions",value:function(){var e=this,t=this,n=null;if(!this.state.initialized){n=O.filter((function(t){return!!Object.keys(e.props).find((function(e){return e===t}))})).reduce((function(e,n){return _(_({},e),{},r({},n,(function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return t.update.apply(t,[n].concat(r))})))}),{})}var i=_(_({},this.props),n);return this.log("Building fullpage.js options: ",i),i}},{key:"update",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.log("Event trigger: ",e);var a=_(_({},this.state),{},{sectionCount:this.getSectionCount(),slideCount:this.getSlideCount()}),o=function(t){return _(_(_({},a),t),{},{lastEvent:e})},s=function(e){return e.reduce((function(e,t,n){var i=r[n];return e[t]=i,e}),{})};switch(e){case"afterLoad":case"onLeave":a=o(s(["origin","destination","direction"]));break;case"afterResize":a=o(s([""]));break;case"afterResponsive":a=o(s(["isResponsive"]));break;case"afterSlideLoad":a=o(s(["section","origin","destination","direction"]));break;case"onSlideLeave":a=o(s(["section","origin","slideIndex","destination","direction"]))}var l=(t=this.props)[e].apply(t,r);return this.log("Called callback: Returning => ",l),this.log("Updating State => ",a),this.setState(a),l}},{key:"render",value:function(){return this.log("<== Rendering ==>"),u().createElement("div",{id:x.W1},this.props.render(this))}}]),l}(u().Component);P.defaultProps={sectionsColor:[]};var R=P},882:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(497),l=n.n(r),u=n(271),c=n(542),d=function(e){o(n,e);var t=s(n);function n(e){var r;return i(this,n),(r=t.call(this,e)).state={},r.log=(0,u.Z)(r.props.debug,"ReactFullpageShell"),r.log("Building component"),r}return a(n,[{key:"render",value:function(){return l().createElement("div",{id:c.W1},this.props.render(this))}}]),n}(l().Component)},542:function(e,t,n){"use strict";n.d(t,{W1:function(){return r},Km:function(){return i},uS:function(){return a},xH:function(){return o}});var r="fullpage",i="#".concat(r),a=".section",o=".SLIDE"},563:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(645),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,"/*!\r\n * fullPage 4.0.18\r\n * https://github.com/alvarotrigo/fullPage.js\r\n *\r\n * @license GPLv3 for open source use only\r\n * or Fullpage Commercial License for commercial use\r\n * http://alvarotrigo.com/fullPage/pricing/\r\n *\r\n * Copyright (C) 2021 http://alvarotrigo.com/fullPage - A project by Alvaro Trigo\r\n */.fp-enabled body,html.fp-enabled{margin:0;padding:0;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0)}.fp-section{position:relative;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;height:100%;display:block;transform:translate3d(0,0,0);-webkit-transform:translate3d(0,0,0)}.fp-slide{float:left}.fp-slide,.fp-slidesContainer{height:100%;display:block}.fp-slides{z-index:1;height:100%;overflow:hidden;position:relative;-webkit-transition:all .3s ease-out;transition:all .3s ease-out}.fp-table{display:flex;flex-direction:column;justify-content:center;width:100%}.fp-slidesContainer{float:left;position:relative}.fp-controlArrow{-webkit-user-select:none;-moz-user-select:none;-khtml-user-select:none;-ms-user-select:none;position:absolute;z-index:4;top:50%;cursor:pointer;margin-top:-38px;-webkit-transform:translate3d(0,0,0);-ms-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}.fp-prev{left:15px}.fp-next{right:15px}.fp-arrow{width:0;height:0;border-style:solid}.fp-arrow.fp-prev{border-width:38.5px 34px 38.5px 0;border-color:transparent #fff transparent transparent}.fp-arrow.fp-next{border-width:38.5px 0 38.5px 34px;border-color:transparent transparent transparent #fff}.fp-notransition{-webkit-transition:none!important;transition:none!important}#fp-nav{position:fixed;z-index:100;top:50%;opacity:1;transform:translateY(-50%);-ms-transform:translateY(-50%);-webkit-transform:translate3d(0,-50%,0)}#fp-nav.fp-right{right:17px}#fp-nav.fp-left{left:17px}.fp-slidesNav{position:absolute;z-index:4;opacity:1;-webkit-transform:translate3d(0,0,0);-ms-transform:translate3d(0,0,0);transform:translate3d(0,0,0);left:0!important;right:0;margin:0 auto!important}.fp-slidesNav.fp-bottom{bottom:17px}.fp-slidesNav.fp-top{top:17px}#fp-nav ul,.fp-slidesNav ul{margin:0;padding:0}#fp-nav ul li,.fp-slidesNav ul li{display:block;width:14px;height:13px;margin:7px;position:relative}.fp-slidesNav ul li{display:inline-block}#fp-nav ul li a,.fp-slidesNav ul li a{display:block;position:relative;z-index:1;width:100%;height:100%;cursor:pointer;text-decoration:none}#fp-nav ul li a.active span,#fp-nav ul li:hover a.active span,.fp-slidesNav ul li a.active span,.fp-slidesNav ul li:hover a.active span{height:12px;width:12px;margin:-6px 0 0 -6px;border-radius:100%}#fp-nav ul li a span,.fp-slidesNav ul li a span{border-radius:50%;position:absolute;z-index:1;height:4px;width:4px;border:0;background:#333;left:50%;top:50%;margin:-2px 0 0 -2px;-webkit-transition:all .1s ease-in-out;-moz-transition:all .1s ease-in-out;-o-transition:all .1s ease-in-out;transition:all .1s ease-in-out}#fp-nav ul li:hover a span,.fp-slidesNav ul li:hover a span{width:10px;height:10px;margin:-5px 0 0 -5px}#fp-nav ul li .fp-tooltip{position:absolute;top:-2px;color:#fff;font-size:14px;font-family:arial,helvetica,sans-serif;white-space:nowrap;max-width:220px;overflow:hidden;display:block;opacity:0;width:0;cursor:pointer}#fp-nav ul li:hover .fp-tooltip,#fp-nav.fp-show-active a.active+.fp-tooltip{-webkit-transition:opacity .2s ease-in;transition:opacity .2s ease-in;width:auto;opacity:1}#fp-nav ul li .fp-tooltip.fp-right{right:20px}#fp-nav ul li .fp-tooltip.fp-left{left:20px}.fp-auto-height .fp-slide,.fp-auto-height.fp-section{height:auto!important}.fp-responsive .fp-is-overflow.fp-section{height:auto!important}.fp-scrollable .fp-section,.fp-scrollable .fp-slide,.fp-scrollable.fp-responsive .fp-is-overflow.fp-section{height:100vh;height:calc(var(--vh,1vh) * 100)}.fp-scrollable .fp-section:not(.fp-auto-height):not([data-percentage]),.fp-scrollable .fp-slide:not(.fp-auto-height):not([data-percentage]),.fp-scrollable.fp-responsive .fp-is-overflow.fp-section:not(.fp-auto-height):not([data-percentage]){min-height:100vh;min-height:calc(var(--vh,1vh) * 100)}.fp-overflow{justify-content:flex-start;max-height:100vh}.fp-scrollable .fp-auto-height .fp-overflow{max-height:none}.fp-is-overflow .fp-overflow.fp-auto-height,.fp-is-overflow .fp-overflow.fp-auto-height-responsive,.fp-is-overflow>.fp-overflow{overflow-y:auto}.fp-overflow{outline:0}.fp-overflow.fp-table{display:block}.fp-responsive .fp-auto-height-responsive .fp-slide,.fp-responsive .fp-auto-height-responsive.fp-section{height:auto!important;min-height:auto!important}.fp-sr-only{position:absolute;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}.fp-scroll-mac .fp-overflow::-webkit-scrollbar{background-color:transparent;width:9px}.fp-scroll-mac .fp-overflow::-webkit-scrollbar-track{background-color:transparent}.fp-scroll-mac .fp-overflow::-webkit-scrollbar-thumb{background-color:rgba(0,0,0,.4);border-radius:16px;border:4px solid transparent}.fp-warning,.fp-watermark{z-index:9999999;position:absolute;bottom:0}.fp-warning,.fp-watermark a{text-decoration:none;color:#000;background:rgba(255,255,255,.6);padding:5px 8px;font-size:14px;font-family:arial;color:#000;display:inline-block;border-radius:3px;margin:12px}.fp-noscroll .fp-overflow{overflow:hidden}\r\n",""]);var a=i},645:function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"===typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var a=0;a<this.length;a++){var o=this[a][0];null!=o&&(i[o]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);r&&i[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},933:function(e){e.exports=function(){"use strict";var e,t,n,r;Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var r=arguments[1],i=0;i<n;){var a=t[i];if(e.call(r,a,i,t))return a;i++}}}),Array.from||(Array.from=(e=Object.prototype.toString,t=function(t){return"function"==typeof t||"[object Function]"===e.call(t)},n=Math.pow(2,53)-1,r=function(e){var t=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t}(e);return Math.min(Math.max(t,0),n)},function(e){var n=this,i=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var a,o=arguments.length>1?arguments[1]:void 0;if(void 0!==o){if(!t(o))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(a=arguments[2])}for(var s,l=r(i.length),u=t(n)?Object(new n(l)):new Array(l),c=0;c<l;)s=i[c],u[c]=o?void 0===a?o(s,c):o.call(a,s,c):s,c+=1;return u.length=l,u}));var i=window,a=document,o=navigator.userAgent.match(/(iPhone|iPod|iPad|Android|playbook|silk|BlackBerry|BB10|Windows Phone|Tizen|Bada|webOS|IEMobile|Opera Mini)/),s=/(Mac|iPhone|iPod|iPad)/i.test(i.navigator.userAgent),l="ontouchstart"in i||navigator.msMaxTouchPoints>0||navigator.maxTouchPoints,u=!!window.MSInputMethodContext&&!!document.documentMode,c={test:{},shared:{}};function d(e,t){i.console&&i.console[e]&&i.console[e]("fullPage: "+t)}function f(e){return"none"!==i.getComputedStyle(e).display}function h(e){return Array.from(e).filter((function(e){return f(e)}))}function p(e,t){return(t=arguments.length>1?t:document)?t.querySelectorAll(e):null}function v(e){e=e||{};for(var t=1,n=arguments.length;t<n;++t){var r=arguments[t];if(r)for(var i in r)r.hasOwnProperty(i)&&"__proto__"!=i&&"constructor"!=i&&("[object Object]"!==Object.prototype.toString.call(r[i])?e[i]=r[i]:e[i]=v(e[i],r[i]))}return e}function g(e,t){return null!=e&&e.classList.contains(t)}function m(){return"innerHeight"in i?i.innerHeight:a.documentElement.offsetHeight}function y(){return i.innerWidth}function b(e,t){var n;for(n in e=k(e),t)if(t.hasOwnProperty(n)&&null!==n)for(var r=0;r<e.length;r++)e[r].style[n]=t[n];return e}function E(e,t){if(null==t)return e.previousElementSibling;var n=E(e);return n&&Y(n,t)?n:null}function S(e,t){if(null==t)return e.nextElementSibling;var n=S(e);return n&&Y(n,t)?n:null}function T(e){return e[e.length-1]}function w(e,t){e=C(e)?e[0]:e;for(var n=null!=t?p(t,e.parentNode):e.parentNode.childNodes,r=0,i=0;i<n.length;i++){if(n[i]==e)return r;1==n[i].nodeType&&r++}return-1}function k(e){return C(e)?e:[e]}function L(e){e=k(e);for(var t=0;t<e.length;t++)e[t].style.display="none";return e}function x(e){e=k(e);for(var t=0;t<e.length;t++)e[t].style.display="block";return e}function C(e){return"[object Array]"===Object.prototype.toString.call(e)||"[object NodeList]"===Object.prototype.toString.call(e)}function _(e,t){e=k(e);for(var n=0;n<e.length;n++)e[n].classList.add(t);return e}function A(e,t){e=k(e);for(var n=t.split(" "),r=0;r<n.length;r++){t=n[r];for(var i=0;i<e.length;i++)e[i].classList.remove(t)}return e}function O(e,t){t.appendChild(e)}function P(e,t,n){var r;t=t||a.createElement("div");for(var i=0;i<e.length;i++){var o=e[i];(n&&!i||!n)&&(r=t.cloneNode(!0),o.parentNode.insertBefore(r,o)),r.appendChild(o)}return e}function R(e,t){P(e,t,!0)}function D(e,t){for("string"==typeof t&&(t=Q(t)),e.appendChild(t);e.firstChild!==t;)t.appendChild(e.firstChild)}function I(e){for(var t=a.createDocumentFragment();e.firstChild;)t.appendChild(e.firstChild);e.parentNode.replaceChild(t,e)}function M(e,t){return e&&1===e.nodeType?Y(e,t)?e:M(e.parentNode,t):null}function F(e,t){j(e,e.nextSibling,t)}function N(e,t){j(e,e,t)}function j(e,t,n){C(n)||("string"==typeof n&&(n=Q(n)),n=[n]);for(var r=0;r<n.length;r++)e.parentNode.insertBefore(n[r],t)}function B(){var e=a.documentElement;return(i.pageYOffset||e.scrollTop)-(e.clientTop||0)}function U(e){return Array.prototype.filter.call(e.parentNode.children,(function(t){return t!==e}))}function G(e){e.preventDefault()}function z(e,t){return e.getAttribute(t)}function H(e,t,n){a.addEventListener(e,t,"undefined"===n?null:n)}function K(e,t,n){i.addEventListener(e,t,"undefined"===n?null:n)}function V(e,t,n){a.removeEventListener(e,t,"undefined"===n?null:n)}function W(e,t,n){i.removeEventListener(e,t,"undefined"===n?null:n)}function J(e){if("function"==typeof e)return!0;var t=Object.prototype.toString.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t}function q(e,t,n){var r;n=void 0===n?{}:n,"function"==typeof i.CustomEvent?r=new CustomEvent(t,{detail:n}):(r=a.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,n),e.dispatchEvent(r)}function Y(e,t){return(e.matches||e.t||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector).call(e,t)}function X(e,t){if("boolean"==typeof t)for(var n=0;n<e.length;n++)e[n].style.display=t?"block":"none";return e}function Q(e){var t=a.createElement("div");return t.innerHTML=e.trim(),t.firstChild}function $(e){e=k(e);for(var t=0;t<e.length;t++){var n=e[t];n&&n.parentElement&&n.parentNode.removeChild(n)}}function Z(e,t){Array.prototype.filter.call(e,t)}function ee(e,t,n){for(var r=e[n],i=[];r;)(Y(r,t)||null==t)&&i.push(r),r=r[n];return i}function te(e,t){return ee(e,t,"nextElementSibling")}function ne(e,t){return ee(e,t,"previousElementSibling")}function re(e){return Object.keys(e).map((function(t){return e[t]}))}function ie(e){return e[e.length-1]}function ae(e,t){for(var n=0,r=e.slice(Math.max(e.length-t,1)),i=0;i<r.length;i++)n+=r[i];return Math.ceil(n/t)}function oe(e,t){e.setAttribute(t,z(e,"data-"+t)),e.removeAttribute("data-"+t)}function se(e,t){var n=[e];do{e=e.parentNode,n.push(e)}while(!Y(e,t));return n}function le(){var e=a.activeElement;return Y(e,"textarea")||Y(e,"input")||Y(e,"select")||"true"==z(e,"contentEditable")||""==z(e,"contentEditable")}i.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var n=0;n<this.length;n++)e.call(t,this[n],n,this)}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}return n},writable:!0,i:!0}),window.fp_utils={$:p,deepExtend:v,hasClass:g,getWindowHeight:m,css:b,prev:E,next:S,last:T,index:w,getList:k,hide:L,show:x,isArrayOrList:C,addClass:_,removeClass:A,appendTo:O,wrap:P,wrapAll:R,wrapInner:D,unwrap:I,closest:M,after:F,before:N,insertBefore:j,getScrollTop:B,siblings:U,preventDefault:G,isFunction:J,trigger:q,matches:Y,toggle:X,createElementFromHTML:Q,remove:$,filter:Z,untilAll:ee,nextAll:te,prevAll:ne,showError:d};var ue=Object.freeze({__proto__:null,showError:d,isVisible:f,getVisible:h,$:p,deepExtend:v,hasClass:g,getWindowHeight:m,o:y,css:b,prev:E,next:S,last:T,index:w,getList:k,hide:L,show:x,isArrayOrList:C,addClass:_,removeClass:A,appendTo:O,wrap:P,wrapAll:R,wrapInner:D,unwrap:I,closest:M,after:F,before:N,insertBefore:j,getScrollTop:B,siblings:U,preventDefault:G,l:z,u:H,v:K,p:V,h:W,isFunction:J,trigger:q,matches:Y,toggle:X,createElementFromHTML:Q,remove:$,filter:Z,untilAll:ee,nextAll:te,prevAll:ne,toArray:re,g:ie,S:ae,M:oe,T:se,A:le});function ce(e){return ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ce(e)}var de={O:{},R:function(e,t){var n=this;return"object"!==ce(this.O[e])&&(this.O[e]=[]),this.O[e].push(t),function(){return n.removeListener(e,t)}},removeListener:function(e,t){if("object"===ce(this.O[e])){var n=this.O[e].indexOf(t);n>-1&&this.O[e].splice(n,1)}},j:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];"object"===ce(this.O[e])&&this.O[e].forEach((function(e){return e.apply(t,r)}))},once:function(e,t){var n=this,r=this.R(e,(function(){r();for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];t.apply(n,i)}))}},fe={L:0,D:0,slides:[],N:[],P:null,H:null,C:!1,I:!1,W:!1,F:!1,V:!1,Z:void 0,B:void 0,G:!1,canScroll:!0,Y:"none",U:"none",X:!1,_:!1,J:!0,K:0,q:m(),nn:!1,tn:{}};function he(e){Object.assign(fe,e)}function pe(){return fe}i.state=fe;var ve="onAfterRenderNoAnchor",ge="onClickOrTouch",me="moveSlideLeft",ye="moveSlideRight",be="onInitialise",Ee="bindEvents",Se="onDestroy",Te="contentChanged",we="onScrollOverflowScrolled",ke="onScrollPageAndSlide",Le="onKeyDown",xe="onMenuClick",Ce="scrollPage",_e="landscapeScroll",Ae="scrollBeyondFullpage",Oe="onPerformMovement",Pe="onSlideLeave",Re="onLeave",De="afterSectionLoads",Ie="afterSlideLoads";function Me(e){de.j(ge,{e:e,target:e.target})}function Fe(){["click","touchstart"].forEach((function(e){V(e,Me)}))}function Ne(){he({J:!0})}de.R(Ee,(function(){["click","touchstart"].forEach((function(e){H(e,Me)})),K("focus",Ne),de.R(Se,Fe)}));var je="fullpage-wrapper",Be="."+je,Ue="fp-responsive",Ge="fp-notransition",ze="fp-destroyed",He="fp-enabled",Ke="active",Ve=".active",We="fp-completely",Je="fp-section",qe="."+Je,Ye=".fp-tableCell",Xe="#fp-nav",Qe="fp-slide",$e="."+Qe,Ze=".fp-slide.active",et="fp-slides",tt=".fp-slides",nt="fp-slidesContainer",rt="."+nt,it="fp-table",at="fp-overflow",ot="."+at,st="fp-is-overflow",lt=".fp-slidesNav",ut=".fp-slidesNav a",ct="fp-controlArrow",dt="."+ct,ft="fp-prev",ht=".fp-controlArrow.fp-prev",pt=".fp-controlArrow.fp-next",vt={menu:!1,anchors:[],lockAnchors:!1,navigation:!1,navigationPosition:"right",navigationTooltips:[],showActiveTooltip:!1,slidesNavigation:!1,slidesNavPosition:"bottom",scrollBar:!1,hybrid:!1,licenseKey:"",credits:{enabled:!0,label:"Made with fullPage.js",position:"right"},css3:!0,scrollingSpeed:700,autoScrolling:!0,fitToSection:!0,en:600,easing:"easeInOutCubic",easingcss3:"ease",loopBottom:!1,loopTop:!1,loopHorizontal:!0,continuousVertical:!1,continuousHorizontal:!1,scrollHorizontally:!1,interlockedSlides:!1,dragAndMove:!1,offsetSections:!1,resetSliders:!1,fadingEffect:!1,normalScrollElements:null,scrollOverflow:!0,scrollOverflowReset:!1,touchSensitivity:5,touchWrapper:null,bigSectionsDestination:null,keyboardScrolling:!0,animateAnchor:!0,recordHistory:!0,allowCorrectDirection:!1,scrollOverflowMacStyle:!0,controlArrows:!0,controlArrowsHTML:['<div class="fp-arrow"></div>','<div class="fp-arrow"></div>'],controlArrowColor:"#fff",verticalCentered:!0,sectionsColor:[],paddingTop:0,paddingBottom:0,fixedElements:null,responsive:0,responsiveWidth:0,responsiveHeight:0,responsiveSlides:!1,parallax:!1,parallaxOptions:{type:"reveal",percentage:62,property:"translate"},cards:!1,cardsOptions:{perspective:100,fadeContent:!0,fadeBackground:!0},sectionSelector:".section",slideSelector:".slide",afterLoad:null,beforeLeave:null,onLeave:null,afterRender:null,afterResize:null,afterReBuild:null,afterSlideLoad:null,onSlideLeave:null,afterResponsive:null,onScrollOverflow:null,lazyLoading:!0,observer:!0},gt=null,mt=!1,yt=v({},vt),bt=null;function Et(e){return gt}function St(){return bt||vt}function Tt(){return yt}function wt(e,t,n){bt[e]=t,"internal"!==n&&(yt[e]=t)}function kt(){if(!St().anchors.length){var e=p(St().sectionSelector.split(",").join("[data-anchor],")+"[data-anchor]",gt);e.length&&e.length===p(St().sectionSelector,gt).length&&(mt=!0,e.forEach((function(e){St().anchors.push(z(e,"data-anchor").toString())})))}if(!St().navigationTooltips.length){var t=p(St().sectionSelector.split(",").join("[data-tooltip],")+"[data-tooltip]",gt);t.length&&t.forEach((function(e){St().navigationTooltips.push(z(e,"data-tooltip").toString())}))}}function Lt(e){return void 0!==window["fp_"+e+"Extension"]}function xt(e){var t=St();return null!==t[e]&&"[object Array]"===Object.prototype.toString.call(t[e])?t[e].length&&c[e]:t[e]&&c[e]}function Ct(e,t,n){if(xt(e))return J(c[e][t])?c[e][t](n):c[e][t]}function _t(){return Ct("dragAndMove","isAnimating")}function At(){return Ct("dragAndMove","isGrabbing")}function Ot(e){if(St().offsetSections&&c.offsetSections){var t=Ct("offsetSections","getWindowHeight",e);return""!==t?Math.round(t)+"px":t}return m()+"px"}function Pt(e,t){e.insertBefore(t,e.firstChild)}function Rt(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function n(e){var n,r,i,a,o,s,l="",u=0;for(e=e.replace(/[^A-Za-z0-9+/=]/g,"");u<e.length;)n=t.indexOf(e.charAt(u++))<<2|(a=t.indexOf(e.charAt(u++)))>>4,r=(15&a)<<4|(o=t.indexOf(e.charAt(u++)))>>2,i=(3&o)<<6|(s=t.indexOf(e.charAt(u++))),l+=String.fromCharCode(n),64!=o&&(l+=String.fromCharCode(r)),64!=s&&(l+=String.fromCharCode(i));return l=function(e){for(var t,n="",r=0,i=0,a=0;r<e.length;)(i=e.charCodeAt(r))<128?(n+=String.fromCharCode(i),r++):i>191&&i<224?(a=e.charCodeAt(r+1),n+=String.fromCharCode((31&i)<<6|63&a),r+=2):(a=e.charCodeAt(r+1),t=e.charCodeAt(r+2),n+=String.fromCharCode((15&i)<<12|(63&a)<<6|63&t),r+=3);return n}(l),l}function r(e){return e.slice(3).slice(0,-3)}return function(e){var t=e.split("_");if(t.length>1){var i=t[1];return n(e.replace(r(t[1]),"").split("_")[0].slice(2).slice(0,-2))+"_"+n(i.slice(3).slice(0,-3))}return r(e)}(n(e))}i.fp_utils=i.fp_utils||{},Object.assign(i.fp_utils,{prependTo:Pt,toggleClass:function(e,t,n){if(e.classList&&null==n)e.classList.toggle(t);else{var r=g(e,t);r&&null==n||!n?A(e,t):(!r&&null==n||n)&&_(e,t)}}});var Dt=function(e){this.anchor=e.anchor,this.item=e.item,this.index=e.index(),this.isLast=this.index===e.item.parentElement.querySelectorAll(e.selector).length-1,this.isFirst=!this.index,this.isActive=e.isActive},It=function(e,t){this.parent=this.parent||null,this.selector=t,this.anchor=z(e,"data-anchor")||St().anchors[w(e,St().sectionSelector)],this.item=e,this.isVisible=f(e),this.isActive=g(e,Ke),this.on=g(e,at)||null!=p(ot,e)[0],this.rn=t===St().sectionSelector,this.container=M(e,rt)||M(e,Be),this.index=function(){return this.siblings().indexOf(this)}};function Mt(e){return e.map((function(e){return e.item}))}function Ft(e,t){return e.find((function(e){return e.item===t}))}It.prototype.siblings=function(){return this.rn?this.isVisible?fe.N:fe.an:this.parent?this.parent.slides:0},It.prototype.prev=function(){var e=this.siblings(),t=(this.rn?e.indexOf(this):this.parent.slides.indexOf(this))-1;return t>=0?e[t]:null},It.prototype.next=function(){var e=this.siblings(),t=(this.rn?e.indexOf(this):this.parent.slides.indexOf(this))+1;return t<e.length?e[t]:null},It.prototype.prevPanel=function(){return this===this.prev()?this.parent?this.parent.prev():null:this.prev()||(this.parent?this.parent.prev():null)},It.prototype.nextPanel=function(){return this===this.next()?this.parent?this.parent.next():null:this.next()||(this.parent?this.parent.next():null)},It.prototype.ln=function(){return this.rn?fe.N:fe.un};var Nt,jt=function(e){Dt.call(this,e)},Bt=function(e){Dt.call(this,e)};function Ut(e){var t=p(Ze,e);return t.length&&(e=t[0]),e}function Gt(e){return e?e.activeSlide?e.activeSlide:e:null}function zt(e){var t,n,r=St();return r.autoScrolling&&!r.scrollBar?(t=-e,n=p(Be)[0]):(t=e,n=window),{options:t,element:n}}function Ht(e,t){!St().autoScrolling||St().scrollBar||e.self!=window&&g(e,et)?e.self!=window&&g(e,et)?e.scrollLeft=t:e.scrollTo(0,t):e.style.top=t+"px"}function Kt(e){var t="transform "+St().scrollingSpeed+"ms "+St().easingcss3;return A(e,Ge),b(e,{"-webkit-transition":t,transition:t})}function Vt(e,t){var n=e.index(),r=w(t,qe);return n==r?"none":n>r?"up":"down"}function Wt(e){return _(e,Ge)}function Jt(e){return{"-webkit-transform":e,"-moz-transform":e,"-ms-transform":e,transform:e}}function qt(e,t){t?Kt(Et()):Wt(Et()),clearTimeout(Nt),b(Et(),Jt(e)),c.test.cn=e,Nt=setTimeout((function(){A(Et(),Ge)}),10)}function Yt(e){var t=Math.round(e);if(St().css3&&St().autoScrolling&&!St().scrollBar)qt("translate3d(0px, -"+t+"px, 0px)",!1);else if(St().autoScrolling&&!St().scrollBar)b(Et(),{top:-t+"px"}),c.test.top=-t+"px";else{var n=zt(t);Ht(n.element,n.options)}}function Xt(e,t){"internal"!==t&&Ct("fadingEffect","update",e),Ct("cards","update_",e),wt("scrollingSpeed",e,t)}c.setScrollingSpeed=Xt;var Qt,$t=null,Zt=null,en=null;function tn(e,t,n,r){var a,o=function(e){return e.self!=i&&g(e,et)?e.scrollLeft:!St().autoScrolling||St().scrollBar?B():e.offsetTop}(e),s=t-o,l=!1,u=fe.G;he({G:!0}),Qt&&window.cancelAnimationFrame(Qt),Qt=function(c){a||(a=c);var d=Math.floor(c-a);if(fe.G){var f=t;n&&(f=i.fp_easings[St().easing](d,o,s,n)),d<=n&&Ht(e,f),d<n?window.requestAnimationFrame(Qt):void 0===r||l||(r(),he({G:!1}),l=!0)}else l||u||(r(),he({G:!1}),l=!0)},window.requestAnimationFrame(Qt)}function nn(e){return e&&!e.item?new jt(new hr(e)):e?new jt(e):null}function rn(e){return e?new Bt(e):null}function an(e,t){var n=function(e,t){var n={afterRender:function(){return{section:nn(pe().P),sn:rn(pe().P.activeSlide)}},onLeave:function(){return{origin:nn(t.items.origin),destination:nn(t.items.destination),direction:t.direction,trigger:pe().H}},afterLoad:function(){return n.onLeave()},afterSlideLoad:function(){return{section:nn(t.items.section),origin:nn(t.items.origin),destination:nn(t.items.destination),direction:t.direction,trigger:pe().H}},onSlideLeave:function(){return n.afterSlideLoad()},beforeLeave:function(){return n.onLeave()},onScrollOverflow:function(){return{section:nn(pe().P),sn:rn(pe().P.activeSlide),position:t.position,direction:t.direction}}};return n[e]()}(e,t);return q(Et(),e,n),!1!==St()[e].apply(n[Object.keys(n)[0]],re(n))}function on(e){var t=Ut(e);p("video, audio",t).forEach((function(e){e.hasAttribute("data-autoplay")&&"function"==typeof e.play&&e.play()})),p('iframe[src*="youtube.com/embed/"]',t).forEach((function(e){e.hasAttribute("data-autoplay")&&sn(e),e.onload=function(){e.hasAttribute("data-autoplay")&&sn(e)}}))}function sn(e){e.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*")}function ln(e){var t=Ut(e);p("video, audio",t).forEach((function(e){e.hasAttribute("data-keepplaying")||"function"!=typeof e.pause||e.pause()})),p('iframe[src*="youtube.com/embed/"]',t).forEach((function(e){/youtube\.com\/embed\//.test(z(e,"src"))&&!e.hasAttribute("data-keepplaying")&&e.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")}))}function un(e){St().lazyLoading&&p("img[data-src], img[data-srcset], source[data-src], source[data-srcset], video[data-src], audio[data-src], iframe[data-src]",Ut(e)).forEach((function(e){if(["src","srcset"].forEach((function(t){var n=z(e,"data-"+t);null!=n&&n&&(oe(e,t),e.addEventListener("load",(function(){})))})),Y(e,"source")){var t=M(e,"video, audio");t&&(t.load(),t.onloadeddata=function(){})}}))}function cn(){var e=pe().P.item,t=pe().P.activeSlide,n=dn(e),r=String(n);t&&(r=r+"-"+dn(t.item)),r=r.replace("/","-").replace("#","");var i=new RegExp("\\b\\s?fp-viewing-[^\\s]+\\b","g");$t.className=$t.className.replace(i,""),_($t,"fp-viewing-"+r)}function dn(e){if(!e)return null;var t=z(e,"data-anchor"),n=w(e);return null==t&&(t=n),t}function fn(e,t,n){var r="";St().anchors.length&&!St().lockAnchors&&(e?(null!=n&&(r=n),null==t&&(t=e),he({B:t}),hn(r+"/"+t)):null!=e?(he({B:t}),hn(n)):hn(n)),cn()}function hn(e){if(St().recordHistory)location.hash=e;else if(o||l)i.history.replaceState(void 0,void 0,"#"+e);else{var t=i.location.href.split("#")[0];i.location.replace(t+"#"+e)}}function pn(e,t,n){var r="Section"===t?St().anchors[e]:z(n,"data-anchor");return encodeURI(St().navigationTooltips[e]||r||t+" "+(e+1))}function vn(e){G(e),he({H:"horizontalNav"});var t=M(this,qe),n=p(tt,M(this,qe))[0],r=Ft(pe().N,t).slides[w(M(this,"li"))];de.j(_e,{slides:n,destination:r.item})}var gn,mn={};function yn(e,t,n){"all"!==t?mn[n][t]=e:Object.keys(mn[n]).forEach((function(t){mn[n][t]=e}))}function bn(){return mn}function En(){var e=M(this,qe);g(this,ft)?bn().m.left&&(he({H:"slideArrow"}),de.j(me,{section:e})):bn().m.right&&(he({H:"slideArrow"}),de.j(ye,{section:e}))}function Sn(e){!St().loopHorizontal&&St().controlArrows&&(X(p(ht,e.section),0!==e.slideIndex),X(p(pt,e.section),null!=S(e.destiny)))}function Tn(){clearTimeout(gn),he({W:!1})}function wn(e,t,n){var r=M(e,qe),i=pe().N.filter((function(e){return e.item==r}))[0],a=i.slides.filter((function(e){return e.item==t}))[0],o={slides:e,destiny:t,direction:n,destinyPos:{left:t.offsetLeft},slideIndex:a.index(),section:r,sectionIndex:i.index(),anchorLink:i.anchor,slidesNav:p(lt,r)[0],slideAnchor:a.anchor,prevSlide:i.activeSlide.item,prevSlideIndex:i.activeSlide.index(),items:{section:i,origin:i.activeSlide,destination:a},localIsResizing:fe.F};o.xMovement=Ln(o.prevSlideIndex,o.slideIndex),o.direction=o.direction?o.direction:o.xMovement,o.localIsResizing||he({canScroll:!1}),Ct("parallax","applyHorizontal",o),Ct("cards","apply",o),Ct("dropEffect","apply",o),Ct("waterEffect","apply",o),St().onSlideLeave&&!o.localIsResizing&&"none"!==o.xMovement&&J(St().onSlideLeave)&&!1===an("onSlideLeave",o)?he({W:!1}):(xt("dropEffect")&&St().dropEffect||(_(t,Ke),A(U(t),Ke)),ur(),o.localIsResizing||(ln(o.prevSlide),un(t)),Sn(o),i.isActive&&!o.localIsResizing&&fn(o.slideIndex,o.slideAnchor,o.anchorLink),Ct("continuousHorizontal","apply",o),de.j(Pe,o),At()?Cn(o):kn(e,o,!0),St().interlockedSlides&&c.interlockedSlides&&(xt("continuousHorizontal")&&void 0!==n&&n!==o.xMovement||Ct("interlockedSlides","apply",o)))}function kn(e,t,n){var r,i,a=t.destinyPos;if(r=t.slidesNav,i=t.slideIndex,St().slidesNavigation&&null!=r&&(A(p(Ve,r),Ke),_(p("a",p("li",r)[i]),Ke)),he({scrollX:Math.round(a.left)}),St().css3){var o="translate3d(-"+Math.round(a.left)+"px, 0px, 0px)";c.test.dn[t.sectionIndex]=o,xt("dragAndMove")&&void 0!==t.vn||Kt(p(rt,e)),b(p(rt,e),Jt(o)),xt("interlockedSlides")||clearTimeout(gn),gn=setTimeout((function(){n&&Cn(t)}),St().scrollingSpeed)}else c.test.left[t.sectionIndex]=Math.round(a.left),tn(e,Math.round(a.left),St().scrollingSpeed,(function(){n&&Cn(t)}))}function Ln(e,t){return e==t?"none":e>t?"left":"right"}function xn(){clearTimeout(gn)}function Cn(e){Ct("continuousHorizontal","afterSlideLoads",e),e.localIsResizing||(Ct("parallax","afterSlideLoads"),Ct("scrollOverflowReset","setPrevious",e.prevSlide),Ct("scrollOverflowReset","reset"),J(St().afterSlideLoad)&&an("afterSlideLoad",e),he({canScroll:!0}),on(e.destiny),de.j(Ie,e)),he({W:!1}),Ct("interlockedSlides","interlockedSlides",e)}function _n(e,t){Xt(0,"internal"),void 0!==t&&he({F:!0}),wn(M(e,tt),e),void 0!==t&&he({F:!1}),Xt(Tt().scrollingSpeed,"internal")}function An(e,t){wt("recordHistory",e,t)}function On(e,t){e||Yt(0),wt("autoScrolling",e,t);var n=pe().P.item;if(St().autoScrolling&&!St().scrollBar)b(en,{overflow:"hidden",height:"100%"}),A($t,"fp-scrollable"),An(Tt().recordHistory,"internal"),b(Et(),{"-ms-touch-action":"none","touch-action":"none"}),null!=n&&Yt(n.offsetTop);else if(b(en,{overflow:"visible",height:"initial"}),_($t,"fp-scrollable"),An(!!St().autoScrolling&&Tt().recordHistory,"internal"),b(Et(),{"-ms-touch-action":"","touch-action":""}),Wt(Et()),null!=n){var r=zt(n.offsetTop);r.element.scrollTo(0,r.options)}q(Et(),"setAutoScrolling",e)}function Pn(){for(var e=p(Ze),t=0;t<e.length;t++)_n(e[t],"internal")}function Rn(){var e=p(".fp-auto-height")[0]||$n()&&p(".fp-auto-height-responsive")[0];St().lazyLoading&&e&&p(".fp-section:not(.active)").forEach((function(e){var t,n,r,i,a;n=(t=e.getBoundingClientRect()).top,r=t.bottom,i=n+2<fe.q&&n>0,a=r>2&&r<fe.q,(i||a)&&un(e)}))}function Dn(){q(E(this),"click")}function In(){$(p(Xe));var e=a.createElement("div");e.setAttribute("id","fp-nav");var t=a.createElement("ul");e.appendChild(t),O(e,$t);var n=p(Xe)[0];_(n,"fp-"+St().navigationPosition),St().showActiveTooltip&&_(n,"fp-show-active");for(var r="",i=0;i<pe().N.length;i++){var o=pe().N[i],s="";St().anchors.length&&(s=o.anchor),r+='<li><a href="#'+encodeURI(s)+'"><span class="fp-sr-only">'+pn(o.index(),"Section")+"</span><span></span></a>";var l=St().navigationTooltips[o.index()];void 0!==l&&""!==l&&(r+='<div class="fp-tooltip fp-'+St().navigationPosition+'">'+l+"</div>"),r+="</li>"}p("ul",n)[0].innerHTML=r;var u=p("li",p(Xe)[0])[pe().P.index()];_(p("a",u),Ke)}function Mn(e){e.preventDefault&&G(e),he({H:"verticalNav"});var t=w(M(this,"#fp-nav li"));de.j(Ce,{destination:pe().N[t]})}function Fn(e,t){var n;n=e,St().menu&&St().menu.length&&p(St().menu).forEach((function(e){null!=e&&(A(p(Ve,e),Ke),_(p('[data-menuanchor="'+n+'"]',e),Ke))})),function(e,t){var n=p(Xe)[0];St().navigation&&null!=n&&"none"!==n.style.display&&(A(p(Ve,n),Ke),_(e?p('a[href="#'+e+'"]',n):p("a",p("li",n)[t]),Ke))}(e,t)}mn.m={up:!0,down:!0,left:!0,right:!0},mn.k=v({},mn.m),de.R(ge,(function(e){var t=e.target;(Y(t,dt)||M(t,dt))&&En.call(t,e)})),c.landscapeScroll=wn,de.R(Ee,(function(){de.R(Oe,Tn)})),c.setRecordHistory=An,c.setAutoScrolling=On,c.test.setAutoScrolling=On,(new Date).getTime();var Nn,jn,Bn,Un,Gn,zn,Hn=(jn=!0,Bn=(new Date).getTime(),Un=!i.fullpage_api,function(e,t){var n=(new Date).getTime(),r="wheel"===e?St().scrollingSpeed:100;return jn=Un||n-Bn>=r,Un=!i.fullpage_api,jn&&(Nn=t(),Bn=n),void 0===Nn||Nn});function Kn(e,t){if(J(St().beforeLeave))return Hn(pe().H,(function(){return an(e,t)}))}function Vn(e,t,n){var r=e.item;if(null!=r){var i,a,o={element:r,callback:t,isMovementUp:n,dtop:Wn(r),yMovement:Vt(pe().P,r),anchorLink:e.anchor,sectionIndex:e.index(),activeSlide:e.activeSlide?e.activeSlide.item:null,leavingSection:pe().P.index()+1,localIsResizing:fe.F,items:{origin:pe().P,destination:e},direction:null};if(!(pe().P.item==r&&!fe.F||St().scrollBar&&B()===o.dtop&&!g(r,"fp-auto-height"))){if(null!=o.activeSlide&&(i=z(o.activeSlide,"data-anchor"),a=w(o.activeSlide,null)),!o.localIsResizing){var s=o.yMovement;if(void 0!==n&&(s=n?"up":"down"),o.direction=s,Lt("dropEffect")&&c.dropEffect.onLeave_(o),Lt("waterEffect")&&c.waterEffect.onLeave_(o),J(St().beforeLeave)&&!1===Kn("beforeLeave",o))return;if(J(St().onLeave)&&!an("onLeave",o))return}Ct("parallax","apply",o),Ct("cards","apply",o),Ct("dropEffect","apply",o),Ct("waterEffect","apply",o),St().autoScrolling&&St().continuousVertical&&void 0!==o.isMovementUp&&(!o.isMovementUp&&"up"==o.yMovement||o.isMovementUp&&"down"==o.yMovement)&&(o=function(e){he({nn:!0});var t=pe().P.item;return e.isMovementUp?N(t,te(t,qe)):F(t,ne(t,qe).reverse()),Yt(pe().P.item.offsetTop),Pn(),e.pn=t,e.dtop=e.element.offsetTop,e.yMovement=Vt(pe().P,e.element),e.leavingSection=e.items.origin.index()+1,e.sectionIndex=e.items.destination.index(),q(Et(),"onContinuousVertical",e),e}(o)),Ct("scrollOverflowReset","setPrevious",pe().P.item),o.localIsResizing||ln(pe().P.item),xt("dropEffect")&&St().dropEffect||(_(r,Ke),A(U(r),Ke)),ur(),un(r),he({canScroll:c.test.hn}),fn(a,i,o.anchorLink),de.j(Re,o),function(e){var t=St().scrollingSpeed<700,n=t?700:St().scrollingSpeed;if(he({Y:"none",scrollY:Math.round(e.dtop)}),de.j(Oe),St().css3&&St().autoScrolling&&!St().scrollBar)qt("translate3d(0px, -"+Math.round(e.dtop)+"px, 0px)",!0),xt("waterEffect")&&Pn(),St().scrollingSpeed?(clearTimeout(Gn),Gn=setTimeout((function(){Jn(e),he({canScroll:!t||c.test.hn})}),St().scrollingSpeed)):Jn(e);else{var r=zt(e.dtop);c.test.top=-e.dtop+"px",clearTimeout(Gn),tn(r.element,r.options,St().scrollingSpeed,(function(){St().scrollBar?Gn=setTimeout((function(){Jn(e)}),30):(Jn(e),he({canScroll:!t||c.test.hn}))}))}t&&(clearTimeout(zn),zn=setTimeout((function(){he({canScroll:!0})}),n))}(o),he({Z:o.anchorLink}),Fn(o.anchorLink,function(e){return null!=e.pn?e.isMovementUp?fe.L-1:0:e.sectionIndex}(o))}}}function Wn(e){var t=e.offsetHeight,n=e.offsetTop,r=n,i=xt("dragAndMove")&&Ct("dragAndMove","isGrabbing")?Ct("dragAndMove","isScrollingDown"):n>fe.K,a=r-m()+t,o=St().bigSectionsDestination;return t>m()?(i||o)&&"bottom"!==o||(r=a):(i||fe.F&&null==S(e))&&(r=a),xt("offsetSections")&&(r=c.offsetSections.getSectionPosition_(i,r,e)),he({K:r}),r}function Jn(e){he({C:!1}),function(e){null!=e.pn&&(e.isMovementUp?N(p(qe)[0],e.pn):F(p(qe)[pe().N.length-1],e.pn),Yt(pe().P.item.offsetTop),function(){for(var e=p(Ze),t=0;t<e.length;t++)_n(e[t],"internal")}(),e.sectionIndex=e.items.destination.index(),e.leavingSection=e.items.origin.index()+1,he({nn:!1}))}(e),J(St().afterLoad)&&!e.localIsResizing&&an("afterLoad",e),Ct("parallax","afterLoad"),Ct("waterEffect","afterLoad"),Ct("dropEffect","afterLoad"),Ct("scrollOverflowReset","reset"),Ct("resetSliders","apply",e),ur(),e.localIsResizing||on(e.element),_(e.element,We),A(U(e.element),We),Rn(),he({canScroll:!0}),de.j(De,e),J(e.callback)&&e.callback()}function qn(e,t){wt("fitToSection",e,t)}function Yn(){fe.canScroll&&(he({F:!0}),Vn(fe.P),he({F:!1}))}function Xn(){var e=St().responsive||St().responsiveWidth,t=St().responsiveHeight,n=e&&i.innerWidth<e,r=t&&i.innerHeight<t;e&&t?Qn(n||r):e?Qn(n):t&&Qn(r)}function Qn(e){var t=$n();e?t||(On(!1,"internal"),qn(!1,"internal"),L(p(Xe)),_($t,Ue),J(St().afterResponsive)&&St().afterResponsive.call(Et(),e),Ct("responsiveSlides","toSections"),q(Et(),"afterResponsive",e)):t&&(On(Tt().autoScrolling,"internal"),qn(Tt().autoScrolling,"internal"),x(p(Xe)),A($t,Ue),J(St().afterResponsive)&&St().afterResponsive.call(Et(),e),Ct("responsiveSlides","toSlides"),q(Et(),"afterResponsive",e))}function $n(){return g($t,Ue)}function Zn(e){St().verticalCentered&&(!St().scrollOverflow&&or.gn(e.item)||or.mn(e)||g(e.item,it)||_(e.item,it))}c.moveTo=moveTo,c.getScrollY=function(){return fe.scrollY},de.R(Se,(function(){clearTimeout(Gn),clearTimeout(zn)})),c.setFitToSection=qn,c.fitToSection=Yn,c.setResponsive=Qn;var er,tr=null;function nr(e){var t=e.item,n=e.wn.length,r=e.index();!pe().P&&e.isVisible&&(_(t,Ke),ur(),tr=pe().P.item),xt("offsetSections")&&b(t,{height:Ot(t)}),St().paddingTop&&b(t,{"padding-top":St().paddingTop}),St().paddingBottom&&b(t,{"padding-bottom":St().paddingBottom}),void 0!==St().sectionsColor[r]&&b(t,{"background-color":St().sectionsColor[r]}),void 0!==St().anchors[r]&&t.setAttribute("data-anchor",e.anchor),n||Zn(e)}function rr(){St().scrollOverflow&&!St().scrollBar&&(or.bn(),or.Sn())}function ir(){V("keyup",or.yn)}c.getActiveSection=function(){return pe().P},de.R(Ee,(function(){de.R(ve,rr),de.R(Re,or.onLeave),de.R(Pe,or.onLeave),de.R(Ie,or.afterLoad),de.R(De,or.afterLoad),de.R(Se,ir),H("keyup",or.yn)}));var ar,or={Mn:null,Tn:!0,An:!0,xn:null,On:null,kn:function(e){if(!fe.canScroll)return G(e),!1},En:function(e){if(!le()&&St().keyboardScrolling&&[38,33,32,40,34,36,35].indexOf(e.keyCode)>-1&&!or.An)return G(e),!1},yn:function(){or.Tn=fe.canScroll},onLeave:function(){clearTimeout(er),or.An=!1},afterLoad:function(){or.An=!1,clearTimeout(er),er=setTimeout((function(){or.Tn=fe.canScroll}),200)},Rn:function(){a.activeElement===this.Mn&&(this.Mn.blur(),or.An=!1)},Sn:function(){if(St().scrollOverflow&&or.Tn){or.Rn();var e=or.jn(pe().P.item);!e||o||l||(this.Mn=e,requestAnimationFrame((function(){e.focus(),or.An=!0}))),or.Tn=!1}},bn:function(){St().scrollOverflowMacStyle&&!s&&_($t,"fp-scroll-mac"),pe().un.forEach((function(e){if(!(e.slides&&e.slides.length||g(e.item,"fp-auto-height-responsive")&&$n())){var t,n=Ut(e.item),r=or.gn(e.item),i=(t=e).rn?t:t.parent;if(u){var a=r?"addClass":"removeClass";ue[a](i.item,st),ue[a](e.item,st)}else _(i.item,st),_(e.item,st);e.on||(or.Ln(n),or.zn(n)),e.on=!0}}))},zn:function(e){or.jn(e).addEventListener("scroll",or.Dn),e.addEventListener("wheel",or.kn,{passive:!1}),e.addEventListener("keydown",or.En,{passive:!1})},Ln:function(e){var t=document.createElement("div");t.className=at,D(e,t),t.setAttribute("tabindex","-1")},Nn:function(e){var t=p(ot,e)[0];t&&(I(t),e.removeAttribute("tabindex"))},jn:function(e){var t=Ut(e);return p(ot,t)[0]||t},on:function(e){return g(e,at)||null!=p(ot,e)[0]},mn:function(e){return e.rn&&e.activeSlide?e.activeSlide.on:e.on},gn:function(e){return or.jn(e).scrollHeight>i.innerHeight},Pn:function(e,t){if(!fe.canScroll)return!1;if(St().scrollBar)return!0;var n=or.jn(t);if(!St().scrollOverflow||!g(n,at)||g(t,"fp-noscroll")||g(Ut(t),"fp-noscroll"))return!0;var r=u?1:0,i=n.scrollTop,a="up"===e&&i<=0,o="down"===e&&n.scrollHeight<=Math.ceil(n.offsetHeight+i)+r,s=a||o;return s||(this.xn=(new Date).getTime()),s},Hn:function(){this.On=(new Date).getTime();var e=this.On-or.xn,t=(o||l)&&fe.X,n=fe._&&e>600;return t&&e>400||n},Dn:(ar=0,function(e){var t=e.target.scrollTop,n="none"!==fe.Y?fe.Y:ar<t?"down":"up";ar=t,J(St().onScrollOverflow)&&an("onScrollOverflow",{position:t,direction:n}),g(e.target,at)&&fe.canScroll&&or.Pn(n,e.target)&&or.Hn()&&or.gn(pe().P.item)&&de.j(we,{direction:n})})},sr=null,lr=null;function ur(){fe.P=null,fe.N.map((function(e){var t=g(e.item,Ke);e.isActive=t,e.on=or.on(e.item),t&&(fe.P=e),e.slides.length&&(e.activeSlide=null,e.slides.map((function(t){var n=g(t.item,Ke);t.on=or.on(e.item),t.isActive=n,n&&(e.activeSlide=t)})))})),function(){var e=fe.P,t=!!fe.P&&fe.P.slides.length,n=fe.P?fe.P.activeSlide:null;if(!e&&fe.N.length&&!pe().C){if(sr){var r=fr(sr,fe.N);r&&(fe.P=r,fe.P.isActive=!0,_(fe.P.item,Ke)),fe.P&&Yt(fe.P.item.offsetTop)}if(t&&!n&&lr){var i=fr(lr,fe.P.slides);i&&(fe.P.activeSlide=i,fe.P.activeSlide.isActive=!0,_(fe.P.activeSlide.item,Ke)),fe.P.activeSlide&&_n(fe.P.activeSlide.item,"internal")}}}(),q(Et(),"onUpdateStateDone")}function cr(){var e=p(St().sectionSelector+", "+qe,Et()),t=h(e),n=Array.from(e).map((function(e){return new hr(e)})),r=n.filter((function(e){return e.isVisible})),i=r.reduce((function(e,t){return e.concat(t.slides)}),[]);sr=dr(fe.P),lr=dr(fe.P?fe.P.activeSlide:null),fe.L=t.length,fe.D=r.reduce((function(e,t){return e+t.slides.length}),0),fe.N=r,fe.an=n,fe.slides=i,fe.un=fe.N.concat(fe.slides)}function dr(e){if(!e)return null;var t=e?e.item:null,n=e.rn?fe.an:fe.P.Cn;if(t){var r=Ft(n,t);return r?r.index():null}return null}function fr(e,t){var n,r=e-1,i=e;do{if(n=t[r]||t[i])break;r-=1,i+=1}while(r>=0||i<t.length);return n}var hr=function(e){var t=this;[].push.call(arguments,St().sectionSelector),It.apply(this,arguments),this.wn=p(St().slideSelector,e),this.Cn=Array.from(this.wn).map((function(e){return new vr(e,t)})),this.slides=this.Cn.filter((function(e){return e.isVisible})),this.activeSlide=this.slides.length?this.slides.filter((function(e){return e.isActive}))[0]||this.slides[0]:null};hr.prototype=It.prototype,hr.prototype.constructor=hr;var pr,vr=function(e,t){this.parent=t,It.call(this,e,St().slideSelector)};function gr(){_(p(St().sectionSelector,Et()),Je),_(p(St().slideSelector,Et()),Qe)}function mr(e){var t=e.slides.length,n=e.wn,r=e.slides,i=100*t,o=100/t;if(!p(tt,e.item)[0]){var s=a.createElement("div");s.className=et,R(n,s);var l=a.createElement("div");l.className=nt,R(n,l)}b(p(rt,e.item),{width:i+"%"}),t>1&&(St().controlArrows&&function(e){var t=e.item,n=[Q(St().controlArrowsHTML[0]),Q(St().controlArrowsHTML[1])];F(p(tt,t)[0],n),_(n,ct),_(n[0],ft),_(n[1],"fp-next"),"#fff"!==St().controlArrowColor&&(b(p(pt,t),{"border-color":"transparent transparent transparent "+St().controlArrowColor}),b(p(ht,t),{"border-color":"transparent "+St().controlArrowColor+" transparent transparent"})),St().loopHorizontal||L(p(ht,t))}(e),St().slidesNavigation&&function(e){var t=e.item,n=e.slides.length;O(Q('<div class="fp-slidesNav"><ul></ul></div>'),t);var r=p(lt,t)[0];_(r,"fp-"+St().slidesNavPosition);for(var i=0;i<n;i++)O(Q('<li><a href="#"><span class="fp-sr-only">'+pn(i,"Slide",p($e,t)[i])+"</span><span></span></a></li>"),p("ul",r)[0]);b(r,{"margin-left":"-"+r.innerWidth/2+"px"});var a=e.activeSlide?e.activeSlide.index():0;_(p("a",p("li",r)[a]),Ke)}(e)),r.forEach((function(e){b(e.item,{width:o+"%"}),St().verticalCentered&&Zn(e)}));var u=xt("responsiveSlides")?null:e.activeSlide||null;null!=u&&fe.P&&(0!==fe.P.index()||0===fe.P.index()&&0!==u.index())?(_n(u.item,"internal"),_(u.item,"fp-initial")):_(n[0],Ke)}vr.prototype=It.prototype,vr.prototype.constructor=hr;var yr={attributes:!1,subtree:!0,childList:!0,characterData:!0};function br(){return Ct("responsiveSlides","isResponsiveSlidesChanging")||h(p(St().slideSelector,Et())).length!==pe().D}function Er(e){var t=br();(br()||Ct("responsiveSlides","isResponsiveSlidesChanging")||h(p(St().sectionSelector,Et())).length!==pe().L)&&!fe.nn&&(St().observer&&pr&&pr.disconnect(),cr(),ur(),St().anchors=[],$(p(Xe)),Ct("responsiveSlides","isResponsiveSlidesChanging")||gr(),kt(),St().navigation&&In(),t&&($(p(lt)),$(p(dt))),pe().N.forEach((function(e){e.slides.length?t&&mr(e):nr(e)}))),St().observer&&pr&&p(Be)[0]&&pr.observe(p(Be)[0],yr)}de.R(Ee,(function(){var e,t,n;St().observer&&"MutationObserver"in window&&p(Be)[0]&&(e=p(Be)[0],t=yr,(n=new MutationObserver(Er)).observe(e,t),pr=n),de.R(Te,Er)})),c.render=Er;var Sr=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});K("testPassive",null,t),W("testPassive",null,t)}catch(e){}return function(){return e}}();function Tr(){return!!Sr()&&{passive:!1}}var wr,kr,Lr,xr,Cr=(Lr=(new Date).getTime(),xr=[],{In:function(e){var t=(e=e||i.event).wheelDelta||-e.deltaY||-e.detail,n=Math.max(-1,Math.min(1,t)),r=void 0!==e.wheelDeltaX||void 0!==e.deltaX;wr=Math.abs(e.wheelDeltaX)<Math.abs(e.wheelDelta)||Math.abs(e.deltaX)<Math.abs(e.deltaY)||!r;var a=(new Date).getTime();kr=n<0?"down":"up",xr.length>149&&xr.shift(),xr.push(Math.abs(t));var o=a-Lr;Lr=a,o>200&&(xr=[])},Wn:function(){var e=ae(xr,10)>=ae(xr,70);return!!xr.length&&e&&wr},Fn:function(){return kr}});function _r(){var e=St().css3?B()+m():ie(pe().N).item.offsetTop+ie(pe().N).item.offsetHeight,t=zt(e);c.test.top=-e+"px",he({canScroll:!1}),tn(t.element,t.options,St().scrollingSpeed,(function(){setTimeout((function(){he({C:!0}),he({canScroll:!0})}),30)}))}function Ar(){Et().getBoundingClientRect().bottom>=0&&Or()}function Or(){var e=zt(ie(pe().N).item.offsetTop);he({canScroll:!1}),tn(e.element,e.options,St().scrollingSpeed,(function(){he({canScroll:!0}),he({C:!1}),he({Vn:!1})}))}var Pr,Rr,Dr,Ir=(Pr=!1,Rr={},Dr={},function(e,t,n){switch(e){case"set":Rr[t]=(new Date).getTime(),Dr[t]=n;break;case"isNewKeyframe":var r=(new Date).getTime();Pr=r-Rr[t]>Dr[t]}return Pr});function Mr(){var e=pe().P.next();e||!St().loopBottom&&!St().continuousVertical||(e=pe().N[0]),null!=e?Vn(e,null,!1):Et().scrollHeight<$t.scrollHeight&&de.j(Ae)}function Fr(){var e=pe().P.prev();e||!St().loopTop&&!St().continuousVertical||(e=ie(pe().N)),null!=e&&Vn(e,null,!0)}c.moveSectionDown=Mr,c.moveSectionUp=Fr;var Nr=0;function jr(e){St().autoScrolling&&(fe.canScroll&&(e.pageY<Nr&&bn().m.up?Fr():e.pageY>Nr&&bn().m.down&&Mr()),Nr=e.pageY)}function Br(e){if(bn().m[e]){var t="down"===e?Mr:Fr;xt("scrollHorizontally")&&(t=Ct("scrollHorizontally","getScrollSection",{type:e,scrollSection:t})),St().scrollOverflow&&or.mn(pe().P)?or.Pn(e,pe().P.item)&&or.Hn()&&t():t()}}var Ur,Gr,zr,Hr=0,Kr=0,Vr=0,Wr=0,Jr=ei(),qr={Zn:"ontouchmove"in window?"touchmove":Jr?Jr.move:null,Bn:"ontouchstart"in window?"touchstart":Jr?Jr.down:null};function Yr(e){var t=M(e.target,qe)||pe().P.item,n=or.mn(pe().P);if(Xr(e)){he({X:!0,_:!1}),St().autoScrolling&&(n&&!fe.canScroll||St().scrollBar)&&G(e);var r=Zr(e);Vr=r.y,Wr=r.x;var a=Math.abs(Hr-Vr)>i.innerHeight/100*St().touchSensitivity,o=Math.abs(Kr-Wr)>y()/100*St().touchSensitivity,s=p(tt,t).length&&Math.abs(Kr-Wr)>Math.abs(Hr-Vr),l=Hr>Vr?"down":"up";he({Y:s?Kr>Wr?"right":"left":l}),s?!fe.W&&o&&(Kr>Wr?bn().m.right&&de.j(ye,{section:t}):bn().m.left&&de.j(me,{section:t})):St().autoScrolling&&fe.canScroll&&a&&Br(l)}}function Xr(e){return void 0===e.pointerType||"mouse"!=e.pointerType}function Qr(e){if(St().fitToSection&&he({G:!1}),Xr(e)){var t=Zr(e);Hr=t.y,Kr=t.x}K("touchend",$r)}function $r(){W("touchend",$r),he({X:!1})}function Zr(e){var t={};return t.y=void 0!==e.pageY&&(e.pageY||e.pageX)?e.pageY:e.touches[0].pageY,t.x=void 0!==e.pageX&&(e.pageY||e.pageX)?e.pageX:e.touches[0].pageX,l&&Xr(e)&&St().scrollBar&&void 0!==e.touches&&(t.y=e.touches[0].pageY,t.x=e.touches[0].pageX),t}function ei(){var e;return i.PointerEvent&&(e={down:"pointerdown",move:"pointermove"}),e}function ti(e){St().autoScrolling&&Xr(e)&&bn().m.up&&(fe.canScroll||G(e))}function ni(e,t){var n=null==t?pe().P.item:t,r=Ft(fe.N,n),i=p(tt,n)[0];if(!(null==i||_t()||fe.W||r.slides.length<2)){var a=r.activeSlide,o="left"===e?a.prev():a.next();if(!o){if(!St().loopHorizontal)return;o="left"===e?ie(r.slides):r.slides[0]}he({W:!c.test.hn}),wn(i,o.item,e)}}function ri(e){ni("left",e)}function ii(e){ni("right",e)}function ai(e){var t=pe().N.filter((function(t){return t.anchor===e}))[0];if(!t){var n=void 0!==e?e-1:0;t=pe().N[n]}return t}function oi(e){null!=e&&wn(M(e,tt),e)}function si(e,t){var n=ai(e);if(null!=n){var r=function(e,t){var n=t.slides.filter((function(t){return t.anchor===e}))[0];return null==n&&(e=void 0!==e?e:0,n=t.slides[e]),n?n.item:null}(t,n);n.anchor===fe.Z||g(n.item,Ke)?oi(r):Vn(n,(function(){oi(r)}))}}function li(e,t){var n=ai(e);void 0!==t?si(e,t):null!=n&&Vn(n)}function ui(){clearTimeout(Gr),V("keydown",ci),V("keyup",di)}function ci(e){clearTimeout(Gr);var t=e.keyCode,n=[37,39].indexOf(t)>-1,r=St().autoScrolling||St().fitToSection||n;9===t?function(e){var t=e.shiftKey,n=a.activeElement,r=gi(Ut(pe().P.item));function i(e){return G(e),r[0]?r[0].focus():null}if(!function(e){var t=gi(a),n=t.indexOf(a.activeElement),r=t[e.shiftKey?n-1:n+1],i=M(r,$e),o=M(r,qe);return!i&&!o}(e)){n?null==M(n,".fp-section.active,.fp-section.active .fp-slide.active")&&(n=i(e)):i(e);var o=n==r[0],s=n==r[r.length-1],l=t&&o;if(l||!t&&s){G(e);var u=function(e){var t,n=e?"prevPanel":"nextPanel",r=[],i=Gt((fe.P&&fe.P.activeSlide?fe.P.activeSlide:fe.P)[n]());do{(r=gi(i.item)).length&&(t={Gn:i,Yn:r[e?r.length-1:0]}),i=Gt(i[n]())}while(i&&0===r.length);return t}(l),c=u?u.Gn:null;if(c){var d=c.rn?c:c.parent;de.j(ke,{Un:d.index()+1,slideAnchor:c.rn?0:c.index()}),zr=u.Yn,G(e)}}}}(e):!le()&&St().keyboardScrolling&&r&&(Ur=e.ctrlKey,Gr=setTimeout((function(){!function(e){var t=e.shiftKey,n=a.activeElement,r=Y(n,"video")||Y(n,"audio"),i=or.Pn("up",pe().P.item),o=or.Pn("down",pe().P.item),s=[37,39].indexOf(e.keyCode)>-1;if(function(e){(function(e){return[40,38,32,33,34].indexOf(e.keyCode)>-1&&!fe.C})(e)&&!M(e.target,ot)&&e.preventDefault()}(e),fe.canScroll||s)switch(he({H:"keydown"}),e.keyCode){case 38:case 33:bn().k.up&&i?fe.C?de.j(Le,{e:e}):Fr():or.Sn();break;case 32:if(t&&bn().k.up&&!r&&i){Fr();break}case 40:case 34:if(bn().k.down&&o){if(fe.C)return;32===e.keyCode&&r||Mr()}else or.Sn();break;case 36:bn().k.up&&li(1);break;case 35:bn().k.down&&li(pe().N.length);break;case 37:bn().k.left&&ri();break;case 39:bn().k.right&&ii()}}(e)}),0))}function di(e){fe.J&&(Ur=e.ctrlKey)}function fi(){he({J:!1}),Ur=!1}function hi(e){vi()}function pi(e){M(zr,$e)&&!M(zr,Ze)||vi()}function vi(){zr&&(zr.focus(),zr=null)}function gi(e){return[].slice.call(p('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex="0"], [contenteditable]',e)).filter((function(e){return"-1"!==z(e,"tabindex")&&null!==e.offsetParent}))}c.moveSlideLeft=ri,c.moveSlideRight=ii,c.moveTo=li,de.R(Ee,(function(){K("blur",fi),H("keydown",ci),H("keyup",di),de.R(Se,ui),de.R(Ie,hi),de.R(De,pi)}));var mi=(new Date).getTime(),yi=[];function bi(e){e?(function(){var e,t="";i.addEventListener?e="addEventListener":(e="attachEvent",t="on");var n="onwheel"in a.createElement("div")?"wheel":void 0!==a.onmousewheel?"mousewheel":"DOMMouseScroll",r=Tr();"DOMMouseScroll"==n?a[e](t+"MozMousePixelScroll",Ei,r):a[e](t+n,Ei,r)}(),Et().addEventListener("mousedown",Si),Et().addEventListener("mouseup",Ti)):(a.addEventListener?(V("mousewheel",Ei,!1),V("wheel",Ei,!1),V("MozMousePixelScroll",Ei,!1)):a.detachEvent("onmousewheel",Ei),Et().removeEventListener("mousedown",Si),Et().removeEventListener("mouseup",Ti))}function Ei(e){var t=(new Date).getTime(),n=g(p(".fp-completely")[0],"fp-normal-scroll"),r=function(e,t){(new Date).getTime();var n=pe().C&&e.getBoundingClientRect().bottom>=0&&"up"===Cr.Fn(),r=pe().Vn;if(r)return G(t),!1;if(pe().C){if(n){var i;if(!(r||Ir("isNewKeyframe","beyondFullpage")&&Cr.Wn()))return(i=zt(ie(pe().N).item.offsetTop+ie(pe().N).item.offsetHeight)).element.scrollTo(0,i.options),he({Vn:!1}),G(t),!1;if(Cr.Wn())return n=!1,he({Vn:!0}),he({H:"wheel"}),Or(),G(t),!1}else Ir("set","beyondFullpage",1e3);if(!r&&!n)return!0}}(Et(),e);if(fe._||he({X:!1,_:!0,Y:"none"}),!bn().m.down&&!bn().m.up)return G(e),!1;if(r)return!0;if(!1===r)return G(e),!1;if(St().autoScrolling&&!Ur&&!n){var a=(e=e||i.event).wheelDelta||-e.deltaY||-e.detail,o=Math.max(-1,Math.min(1,a)),s=void 0!==e.wheelDeltaX||void 0!==e.deltaX,l=Math.abs(e.wheelDeltaX)<Math.abs(e.wheelDelta)||Math.abs(e.deltaX)<Math.abs(e.deltaY)||!s,u=o<0?"down":o>0?"up":"none";yi.length>149&&yi.shift(),yi.push(Math.abs(a)),St().scrollBar&&G(e);var c=t-mi;return mi=t,c>200&&(yi=[]),he({U:u}),fe.canScroll&&!_t()&&ae(yi,10)>=ae(yi,70)&&l&&(he({H:"wheel"}),Br(o<0?"down":"up")),!1}St().fitToSection&&he({G:!1})}function Si(e){var t;2==e.which&&(t=e.pageY,Nr=t,Et().addEventListener("mousemove",jr))}function Ti(e){2==e.which&&Et().removeEventListener("mousemove",jr)}function wi(e){e?(bi(!0),function(){if(qr.Zn&&(o||l)&&(!xt("dragAndMove")||"mouseonly"===St().dragAndMove)){St().autoScrolling&&($t.removeEventListener(qr.Zn,ti,{passive:!1}),$t.addEventListener(qr.Zn,ti,{passive:!1}));var e=St().touchWrapper;e.removeEventListener(qr.Bn,Qr),e.removeEventListener(qr.Zn,Yr,{passive:!1}),e.addEventListener(qr.Bn,Qr),e.addEventListener(qr.Zn,Yr,{passive:!1})}}()):(bi(!1),function(){if(qr.Zn&&(o||l)){St().autoScrolling&&($t.removeEventListener(qr.Zn,Yr,{passive:!1}),$t.removeEventListener(qr.Zn,ti,{passive:!1}));var e=St().touchWrapper;e.removeEventListener(qr.Bn,Qr),e.removeEventListener(qr.Zn,Yr,{passive:!1})}}())}c.setMouseWheelScrolling=bi;var ki=!0;function Li(){["mouseenter","touchstart","mouseleave","touchend"].forEach((function(e){V(e,Ci,!0)}))}function xi(e,t){document["fp_"+e]=t,H(e,Ci,!0)}function Ci(e){var t=e.type,n=!1,r="mouseleave"===t?e.toElement||e.relatedTarget:e.target;r!=document&&r?("touchend"===t&&(ki=!1,setTimeout((function(){ki=!0}),800)),("mouseenter"!==t||ki)&&(St().normalScrollElements.split(",").forEach((function(e){if(!n){var t=Y(r,e),i=M(r,e);(t||i)&&(c.shared.Xn||wi(!1),c.shared.Xn=!0,n=!0)}})),!n&&c.shared.Xn&&(wi(!0),c.shared.Xn=!1))):wi(!0)}function _i(e,t){Xt(0,"internal"),li(e,t),Xt(Tt().scrollingSpeed,"internal")}de.R(Ee,(function(){St().normalScrollElements&&(["mouseenter","touchstart"].forEach((function(e){xi(e,!1)})),["mouseleave","touchend"].forEach((function(e){xi(e,!0)}))),de.R(Se,Li)})),c.silentMoveTo=_i;var Ai,Oi,Pi=m(),Ri=y(),Di=!1;function Ii(){clearTimeout(Ai),clearTimeout(Oi),W("resize",Mi)}function Mi(){Di||(St().autoScrolling&&!St().scrollBar||!St().fitToSection)&&Ni(m()),function(){if(o)for(var e=0;e<4;e++)Oi=setTimeout((function(){window.requestAnimationFrame((function(){St().autoScrolling&&!St().scrollBar&&(he({F:!0}),_i(fe.P.index()+1),he({F:!1}))}))}),200*e)}(),Di=!0,clearTimeout(Ai),Ai=setTimeout((function(){!function(){if(he({F:!0}),Ni(""),q(Et(),"onResize"),St().autoScrolling||fe.C||function(){if(!St().autoScrolling||St().scrollBar){var e=.01*i.innerHeight;a.documentElement.style.setProperty("--vh","".concat(e,"px"))}}(),de.j(Te),ur(),Xn(),o){var e=a.activeElement;if(!Y(e,"textarea")&&!Y(e,"input")&&!Y(e,"select")){var t=m();Math.abs(t-Pi)>20*Math.max(Pi,t)/100&&(Fi(!0),Pi=t)}}else n=m(),r=y(),fe.q===n&&Ri===r||(he({q:n}),Ri=r,Fi(!0));var n,r;q(Et(),"onResizeEnds"),he({F:!1})}(),Di=!1}),400)}function Fi(e){if(!g(Et(),ze)){he({F:!0,q:m(),_n:y()});for(var t=pe().N,n=0;n<t.length;++n){var r=t[n],a=p(tt,r.item)[0],o=r.slides;xt("offsetSections")&&b(r.item,{height:Ot(r.item)}),o.length>1&&wn(a,r.activeSlide.item)}St().scrollOverflow&&or.bn();var s=pe().P.index();fe.C||!s||xt("fadingEffect")||xt("dropEffect")||xt("waterEffect")||_i(s+1),he({F:!1}),J(St().afterResize)&&e&&St().afterResize.call(Et(),i.innerWidth,i.innerHeight),J(St().afterReBuild)&&!e&&St().afterReBuild.call(Et()),q(Et(),"afterRebuild")}}function Ni(e){pe().N.forEach((function(t){var n=""!==e||xt("offsetSections")?Ot(t.item):"";b(t.item,{height:n})}))}function ji(){var e,t,n=i.location.hash;if(n.length){var r=n.replace("#","").split("/"),a=n.indexOf("#/")>-1;e=a?"/"+r[1]:decodeURIComponent(r[0]);var o=a?r[2]:r[1];o&&o.length&&(t=decodeURIComponent(o))}return{section:e,sn:t}}function Bi(){W("hashchange",Ui)}function Ui(){if(!fe.V&&!St().lockAnchors){var e=ji(),t=e.section,n=e.sn,r=void 0===fe.Z,i=void 0===fe.Z&&void 0===n&&!fe.W;t&&t.length&&(t&&t!==fe.Z&&!r||i&&!_t()||!fe.W&&fe.B!=n&&!_t())&&de.j(ke,{Un:t,slideAnchor:n})}}function Gi(e){var t=e.target;M(t,St().menu+" [data-menuanchor]")&&zi.call(t,e)}function zi(e){he({H:"menu"}),!p(St().menu)[0]||!St().lockAnchors&&St().anchors.length||(G(e),de.j(xe,{anchor:z(this,"data-menuanchor")}))}function Hi(e){var t=e.target;t&&M(t,"#fp-nav a")?Mn.call(t,e.e):Y(t,".fp-tooltip")?Dn.call(t):(Y(t,ut)||null!=M(t,ut))&&vn.call(t,e.e)}c.reBuild=Fi,de.R(Ee,(function(){Mi(),K("resize",Mi),de.R(Se,Ii)})),c.setLockAnchors=function(e){St().lockAnchors=e},de.R(Ee,(function(){K("hashchange",Ui),de.R(Se,Bi)})),de.R(Ee,(function(){H("wheel",Cr.In,Tr()),de.R(Ae,_r),de.R(Le,Ar)})),de.R(Ee,(function(){de.R(ge,Gi)})),de.R(Ee,(function(){de.R(ge,Hi)}));var Ki,Vi,Wi=0;function Ji(e){var t,n,r,i,a;if(q(Et(),"onScroll"),!fe.F&&pe().P&&(ie(pe().N),!pe().C&&!pe().Vn&&(!St().autoScrolling||St().scrollBar||xt("dragAndMove"))&&!At())){var o=xt("dragAndMove")?Math.abs(Ct("dragAndMove","getCurrentScroll")):B(),s=function(e){var t=e>Wi?"down":"up";return Wi=e,he({K:e}),t}(o),l=0,u=o+m()/2,c=(xt("dragAndMove")?Ct("dragAndMove","getDocumentHeight"):$t.scrollHeight-m())===o,d=pe().N;if(he({scrollY:o}),c)l=d.length-1;else if(o)for(var f=0;f<d.length;++f)(M(d[f].item,qe)||d[f].item).offsetTop<=u&&(l=f);else l=0;if(r=s,a=(i=pe().P.item.offsetTop)+m(),("up"==r?a>=B()+m():i<=B())&&(g(pe().P.item,We)||(_(pe().P.item,We),A(U(pe().P.item),We))),n=(t=d[l]).item,!t.isActive){he({V:!0});var h,p,v=pe().P.item,y=pe().P.index()+1,b=Vt(pe().P,n),E=t.anchor,S=t.index()+1,T=t.activeSlide,w={P:v,sectionIndex:S-1,anchorLink:E,element:n,leavingSection:y,direction:b,items:{origin:pe().P,destination:t}};T&&(p=T.anchor,h=T.index()),fe.canScroll&&(A(d.filter((function(e){return e.index()!==t.index()})).map((function(e){return e.item})),Ke),_(n,Ke),Ct("parallax","afterLoad"),J(St().beforeLeave)&&Kn("beforeLeave",w),J(St().onLeave)&&an("onLeave",w),J(St().afterLoad)&&an("afterLoad",w),Ct("resetSliders","apply",{localIsResizing:fe.F,leavingSection:y}),ln(v),un(n),on(n),Fn(E,S-1),St().anchors.length&&he({Z:E}),ur(),fn(h,p,E)),clearTimeout(Ki),Ki=setTimeout((function(){he({V:!1})}),100)}St().fitToSection&&fe.canScroll&&(clearTimeout(Vi),Vi=setTimeout((function(){fe.N.filter((function(e){var t=e.item.getBoundingClientRect();return Math.round(t.bottom)===Math.round(m())||0===Math.round(t.top)})).length||Yn()}),St().en))}}function qi(e,t){void 0!==t?(t=t.replace(/ /g,"").split(",")).forEach((function(t){yn(e,t,"k")})):(yn(e,"all","k"),St().keyboardScrolling=e)}function Yi(e){var t=e.index();void 0!==St().anchors[t]&&e.isActive&&Fn(St().anchors[t],t),St().menu&&St().css3&&null!=M(p(St().menu)[0],Be)&&p(St().menu).forEach((function(e){$t.appendChild(e)}))}function Xi(){var e,t,n=pe().P,r=pe().P.item;_(r,We),un(r),Rn(),on(r),t=ai((e=ji()).section),e.section&&t&&(void 0===t||t.index()!==w(tr))||!J(St().afterLoad)||an("afterLoad",{P:r,element:r,direction:null,anchorLink:n.anchor,sectionIndex:n.index(),items:{origin:pe().P,destination:pe().P}}),J(St().afterRender)&&an("afterRender"),q(Et(),"afterRender")}function Qi(e,t){void 0!==t?(t=t.replace(/ /g,"").split(",")).forEach((function(t){yn(e,t,"m")})):yn(e,"all","m"),q(Et(),"setAllowScrolling",{value:e,Qn:t})}function $i(){var e=ji(),t=e.section,n=e.sn;t?St().animateAnchor?si(t,n):_i(t,n):de.j(ve,null)}de.R(Se,(function(){clearTimeout(Ki),clearTimeout(Vi)})),de.R(Ee,(function(){K("scroll",Ji),a.body.addEventListener("scroll",Ji),de.R(ke,(function(e){si(e.Un,e.slideAnchor)})),de.R(xe,(function(e){li(e.anchor,void 0)})),de.R(we,(function(e){("down"===e.direction?Mr:Fr)()})),de.R(Ce,(function(e){Vn(e.destination)}))})),de.R(Se,(function(){W("scroll",Ji)})),c.getActiveSlide=function(){return rn(pe().P.activeSlide)},c.getScrollX=function(){return fe.scrollX},de.R(Ee,(function(){de.R(Se,xn),de.R(_e,(function(e){wn(e.slides,e.destination)})),de.R(ye,(function(e){ii(e.section)})),de.R(me,(function(e){ri(e.section)}))})),de.R(Ee,(function(){var e=St().credits.position,t=["left","right"].indexOf(e)>-1?"".concat(e,": 0;"):"",n='\n        <div class="fp-watermark" style="'.concat(t,'">\n            <a href="https://alvarotrigo.com/fullPage/" \n                rel="nofollow noopener" \n                target="_blank" \n                style="text-decoration:none; color: #000;">\n                    ').concat(St().credits.label,"\n            </a>\n        </div>\n    "),r=ie(fe.N),i=!fe.Jn||St().credits.enabled;r&&r.item&&i&&r.item.insertAdjacentHTML("beforeend",n)})),function(){de.R(be,(function(){var t,s,l;he({Jn:(St().licenseKey,t=St().licenseKey,s=function(t){var n=parseInt("514").toString(16);if(!t||t.length<29||4===t.split(e[0]).length)return null;var r=["Each","for"][i()]().join(""),s=t[["split"]]("-"),l=[];s[r]((function(e,t){if(t<4){var r=function(e){var t=e[e.length-1],n=["NaN","is"][i()]().join("");return window[n](t)?a(t):function(e){return e-Ke.length}(t)}(e);l.push(r);var o=a(e[r]);if(1===t){var s=["pa","dS","t","art"].join("");o=o.toString()[s](2,"0")}n+=o,0!==t&&1!==t||(n+="-")}}));var u=0,c="";return t.split("-").forEach((function(e,t){if(t<4){for(var n=0,r=0;r<4;r++)r!==l[t]&&(n+=Math.abs(a(e[r])),isNaN(e[r])||u++);var i=o(n);c+=i}})),c+=o(u),{Kn:new Date(n+"T00:00"),qn:n.split("-")[2]===8*(Ke.length-2)+"",$n:c}}(t),l=function(e){var t=r[i()]().join("");return e&&0===t.indexOf(e)&&e.length===t.length}(t),(s||l)&&(s&&n<=s.Kn&&s.$n===t.split(e[0])[4]||l||s.qn)||!1)})}));var e=["-"],t="2023-2-1".split("-"),n=new Date(t[0],t[1],t[2]),r=["se","licen","-","v3","l","gp"];function i(){return[["re","verse"].join("")]["".length]}function a(e){return e?isNaN(e)?e.charCodeAt(0)-72:e:""}function o(e){var t=72+e;return t>90&&t<97&&(t+=15),String.fromCharCode(t).toUpperCase()}}(),c.setKeyboardScrolling=qi,c.shared.nt=Xi,c.setAllowScrolling=Qi;var Zi={};function ea(){return Zi}var ta,na,ra,ia,aa=!g($t,Rt("OHNsd3AtZnVsbHBhZ2UtanM5T20="));function oa(e){if(na=a.createElement("div"),ta=Rt("MTIzPGRpdj48YSBocmVmPSJodHRwOi8vYWx2YXJvdHJpZ28uY29tL2Z1bGxQYWdlL2V4dGVuc2lvbnMvIiBzdHlsZT0iY29sb3I6ICNmZmYgIWltcG9ydGFudDsgdGV4dC1kZWNvcmF0aW9uOm5vbmUgIWltcG9ydGFudDsiPlVubGljZW5zZWQgZnVsbFBhZ2UuanMgRXh0ZW5zaW9uPC9hPjwvZGl2PjEyMw=="),aa||(ta=ta.replace("extensions/","").replace("Extension","")),na.innerHTML=ta,na=na.firstChild,"MutationObserver"in window&&new MutationObserver(la).observe(a.body,{childList:!0,subtree:!1}),(!aa||xt(e)&&c[e])&&(!function(e){var t=void 0!==ea()[e]&&ea()[e].length,n=[],r=!1;return C(ea()[e])?n=ea()[e]:n.push(ea()[e]),n.forEach((function(n){var i=function(){if(a.domain.length){for(var e=a.domain.replace(/^(www\.)/,"").split(".");e.length>2;)e.shift();return e.join(".").replace(/(^\.*)|(\.*$)/g,"")}return""}(),o=["MTM0bG9jYWxob3N0MjM0","MTM0MC4xMjM0","MTM0anNoZWxsLm5ldDIzNA==","UDdDQU5ZNlNN","NTY3YnVuZGxlNzg5","NTU1S2V5Nzc3","NDU2dGVzdDQ1Ng=="],s=Rt(o[0]),l=Rt(o[1]),u=Rt(o[2]),c=Rt(o[6]),d=Rt(o[3]),f=Rt(o[4]),h=Rt(o[5]),p=void 0!==St()[f+h];t=t||p;var v=[s,l,u,c].indexOf(i)<0&&0!==i.length;if(!t&&!p&&v)return!1;var g=t?Rt(n):"",m=(g=g.split("_")).length>1&&g[1].indexOf(e,g[1].length-e.length)>-1,y=g.length>1&&g[1].toLowerCase().indexOf(f)>-1,b=g[0].indexOf(i,g[0].length-i.length)<0,E=m||y;r=r||!(b&&v&&d!=g[0])&&E||!v})),r}(e)||!aa)){sa();var t=Rt("MzQ1c2V0SW50ZXJ2YWwxMjM=");window[t](sa,2e3)}}function sa(){na&&(ia||(Math.random()<.5?Pt($t,na):O(na,$t),ia=!0),na.setAttribute("style",Rt("MTIzei1pbmRleDo5OTk5OTk5O3Bvc2l0aW9uOmZpeGVkO3RvcDoyMHB4O2JvdHRvbTphdXRvO2xlZnQ6MjBweDtyaWdodDphdXRvO2JhY2tncm91bmQ6cmVkO3BhZGRpbmc6N3B4IDE1cHg7Zm9udC1zaXplOjE0cHg7Zm9udC1mYW1pbHk6YXJpYWw7Y29sb3I6I2ZmZjtkaXNwbGF5OmlubGluZS1ibG9jazt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwwLDApO29wYWNpdHk6MTtoZWlnaHQ6YXV0bzt3aWR0aDphdXRvO3pvb206MTttYXJnaW46YXV0bztib3JkZXI6bm9uZTt2aXNpYmlsaXR5OnZpc2libGU7Y2xpcC1wYXRoOm5vbmU7MTIz").replace(/;/g,Rt("MTIzICFpbXBvcnRhbnQ7MzQ1"))))}function la(e){e.forEach((function(e){if(e.removedNodes[0]&&e.removedNodes[0].isEqualNode(na)){clearTimeout(ra);var t=Rt("bDIwc2V0VGltZW91dDAzbA==");ra=window[t](ua,900)}}))}function ua(){ia=!1}function ca(){cr(),ur(),St().scrollBar=St().scrollBar||St().hybrid,kt(),function(){b(se(Et(),"body"),{height:"100%",position:"relative"}),_(Et(),je),_(Zt,He),he({q:m()}),A(Et(),ze),gr(),Ct("parallax","init");for(var e=pe().an,t=0;t<e.length;t++){var n=e[t],r=n.wn;n.item.setAttribute("data-fp-styles",z(n.item,"style")),nr(n),Yi(n),r.length>0&&mr(n)}St().fixedElements&&St().css3&&p(St().fixedElements).forEach((function(e){$t.appendChild(e)})),St().navigation&&In(),p('iframe[src*="youtube.com/embed/"]',Et()).forEach((function(e){var t,n;n=z(t=e,"src"),t.setAttribute("src",n+(/\?/.test(n)?"&":"?")+"enablejsapi=1")})),Ct("fadingEffect","apply"),Ct("waterEffect","init"),Ct("dropEffect","init"),Ct("cards","init"),St().scrollOverflow&&or.bn()}(),Qi(!0),wi(!0),On(St().autoScrolling,"internal"),Xn(),cn(),"complete"===a.readyState&&$i(),K("load",$i),Xi(),aa||oa("l"),cr(),ur()}function da(){var e=St().licenseKey;""===St().licenseKey.trim()?(d("error","Fullpage.js requires a `licenseKey` option. Read about it on the following URL:"),d("error","https://github.com/alvarotrigo/fullPage.js#options")):St()&&fe.Jn||a.domain.indexOf("alvarotrigo.com")>-1?e&&e.length:(d("error","Incorrect `licenseKey`. Get one for fullPage.js version 4 here:"),d("error","https://alvarotrigo.com/fullPage/pricing")),g(Zt,He)?d("error","Fullpage.js can only be initialized once and you are doing it multiple times!"):(St().continuousVertical&&(St().loopTop||St().loopBottom)&&(St().continuousVertical=!1,d("warn","Option `loopTop/loopBottom` is mutually exclusive with `continuousVertical`; `continuousVertical` disabled")),!St().scrollOverflow||!St().scrollBar&&St().autoScrolling||d("warn","Options scrollBar:true and autoScrolling:false are mutually exclusive with scrollOverflow:true. Sections with scrollOverflow might not work well in Firefox"),!St().continuousVertical||!St().scrollBar&&St().autoScrolling||(St().continuousVertical=!1,d("warn","Scroll bars (`scrollBar:true` or `autoScrolling:false`) are mutually exclusive with `continuousVertical`; `continuousVertical` disabled")),St().anchors.forEach((function(e){var t=[].slice.call(p("[name]")).filter((function(t){return z(t,"name")&&z(t,"name").toLowerCase()==e.toLowerCase()})),n=[].slice.call(p("[id]")).filter((function(t){return z(t,"id")&&z(t,"id").toLowerCase()==e.toLowerCase()}));if(n.length||t.length){d("error","data-anchor tags can not have the same value as any `id` element on the site (or `name` element for IE).");var r=n.length?"id":"name";(n.length||t.length)&&d("error",'"'+e+'" is is being used by another element `'+r+"` property")}})))}function fa(){return{options:St(),internals:{container:Et(),canScroll:fe.canScroll,isScrollAllowed:bn(),getDestinationPosition:Wn,isTouch:l,c:oa,getXmovement:Ln,removeAnimation:Wt,getTransforms:Jt,lazyLoad:un,addAnimation:Kt,performHorizontalMove:kn,landscapeScroll:wn,silentLandscapeScroll:_n,keepSlidesPosition:Pn,silentScroll:Yt,styleSlides:mr,styleSection:nr,scrollHandler:Ji,getEventsPage:Zr,getMSPointer:ei,isReallyTouch:Xr,usingExtension:xt,toggleControlArrows:Sn,touchStartHandler:Qr,touchMoveHandler:Yr,nullOrSection:nn,items:{SectionPanel:hr,SlidePanel:vr,Item:It},getVisible:h,getState:pe,updateState:ur,updateStructuralState:cr,getPanels:function(){return fe.un},getSections:function(){return fe.N},setActiveSection:function(e){fe.P=e}}}}function ha(e){var t=["NTY3YnVuZGxlNzg5","NTU1S2V5Nzc3"],n=Rt(t[0]),r=Rt(t[1]),i=void 0!==St()[n+r],a="fp_"+e+"Extension";ea()[e]=i?St()[n+r]:St()[e+r],c[e]=void 0!==window[a]?new window[a]:null,c[e]&&c[e].c(e)}function pa(e,t){var n;if($t=p("body")[0],Zt=p("html")[0],en=p("html, body"),!g(Zt,He))return n="string"==typeof e?p(e)[0]:e,vt.touchWrapper=n,function(e){bt=v({},vt,e),yt=Object.assign({},bt)}(t),function(e){gt=e}("string"==typeof e?p(e)[0]:e),de.j(be),da(),c.getFullpageData=fa,c.version="4.0.18",c.test=Object.assign(c.test,{top:"0px",cn:"translate3d(0px, 0px, 0px)",dn:function(){for(var e=[],t=0;t<p(St().sectionSelector,Et()).length;t++)e.push("translate3d(0px, 0px, 0px)");return e}(),left:function(){for(var e=[],t=0;t<p(St().sectionSelector,Et()).length;t++)e.push(0);return e}(),options:St(),setAutoScrolling:null}),c.shared=Object.assign(c.shared,{nt:null,Xn:!1}),i.fullpage_api=c,i.fullpage_extensions=!0,Et()&&(de.j("beforeInit"),ha("continuousHorizontal"),ha("scrollHorizontally"),ha("resetSliders"),ha("interlockedSlides"),ha("responsiveSlides"),ha("fadingEffect"),ha("dragAndMove"),ha("offsetSections"),ha("scrollOverflowReset"),ha("parallax"),ha("cards"),ha("dropEffect"),ha("waterEffect"),Ct("dragAndMove","init"),Ct("responsiveSlides","init"),ca(),de.j(Ee),Ct("dragAndMove","turnOffTouch")),i.fullpage_api;da()}return c.destroy=function(e){q(Et(),"destroy",e),On(!1,"internal"),Qi(!0),wi(!1),qi(!1),_(Et(),ze),de.j(Se),Ct("dragAndMove","destroy"),e&&(Yt(0),p("img[data-src], source[data-src], audio[data-src], iframe[data-src]",Et()).forEach((function(e){oe(e,"src")})),p("img[data-srcset]").forEach((function(e){oe(e,"srcset")})),$(p("#fp-nav, .fp-slidesNav, .fp-controlArrow")),b(Mt(pe().N),{height:"","background-color":"",padding:""}),b(Mt(pe().slides),{width:""}),b(Et(),{height:"",position:"","-ms-touch-action":"","touch-action":""}),b(en,{overflow:"",height:""}),A(Zt,He),A($t,Ue),$t.className.split(/\s+/).forEach((function(e){0===e.indexOf("fp-viewing")&&A($t,e)})),Mt(pe().un).forEach((function(e){St().scrollOverflow&&or.Nn(e),A(e,"fp-table active "+We),z(e,"data-fp-styles")&&e.setAttribute("style",z(e,"data-fp-styles")),g(e,Je)&&!mt&&e.removeAttribute("data-anchor")})),Wt(Et()),[Ye,rt,tt].forEach((function(e){p(e,Et()).forEach((function(e){I(e)}))})),b(Et(),{"-webkit-transition":"none",transition:"none"}),i.scrollTo(0,0),[Je,Qe,nt].forEach((function(e){A(p("."+e),e)})))},i.fp_easings=v(i.fp_easings,{easeInOutCubic:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t}}),i.jQuery&&function(e,t){e&&t?e.fn.fullpage=function(n){n=e.extend({},n,{$:e}),new t(this[0],n),Object.keys(c).forEach((function(e){St().$.fn.fullpage[e]=c[e]}))}:d("error","jQuery is required to use the jQuery fullpage adapter!")}(i.jQuery,pa),pa}()},239:function(){window.fp_easings={def:"easeOutQuad",linear:function(e,t,n,r){return n*e/r+t},swing:function(e,t,n,r){return window.fp_easings[window.fp_easings.def](e,t,n,r)},easeInQuad:function(e,t,n,r){return n*(e/=r)*e+t},easeOutQuad:function(e,t,n,r){return-n*(e/=r)*(e-2)+t},easeInOutQuad:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,n,r){return n*(e/=r)*e*e+t},easeOutCubic:function(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t},easeInOutCubic:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,n,r){return n*(e/=r)*e*e*e+t},easeOutQuart:function(e,t,n,r){return-n*((e=e/r-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,n,r){return n*(e/=r)*e*e*e*e+t},easeOutQuint:function(e,t,n,r){return n*((e=e/r-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,n,r){return-n*Math.cos(e/r*(Math.PI/2))+n+t},easeOutSine:function(e,t,n,r){return n*Math.sin(e/r*(Math.PI/2))+t},easeInOutSine:function(e,t,n,r){return-n/2*(Math.cos(Math.PI*e/r)-1)+t},easeInExpo:function(e,t,n,r){return 0==e?t:n*Math.pow(2,10*(e/r-1))+t},easeOutExpo:function(e,t,n,r){return e==r?t+n:n*(1-Math.pow(2,-10*e/r))+t},easeInOutExpo:function(e,t,n,r){return 0==e?t:e==r?t+n:(e/=r/2)<1?n/2*Math.pow(2,10*(e-1))+t:n/2*(2-Math.pow(2,-10*--e))+t},easeInCirc:function(e,t,n,r){return-n*(Math.sqrt(1-(e/=r)*e)-1)+t},easeOutCirc:function(e,t,n,r){return n*Math.sqrt(1-(e=e/r-1)*e)+t},easeInOutCirc:function(e,t,n,r){return(e/=r/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+t:n/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(e,t,n,r){var i=1.70158,a=0,o=n;return 0==e?t:1==(e/=r)?t+n:(a||(a=.3*r),o<Math.abs(n)?(o=n,i=a/4):i=a/(2*Math.PI)*Math.asin(n/o),-o*Math.pow(2,10*(e-=1))*Math.sin((e*r-i)*(2*Math.PI)/a)+t)},easeOutElastic:function(e,t,n,r){var i=1.70158,a=0,o=n;return 0==e?t:1==(e/=r)?t+n:(a||(a=.3*r),o<Math.abs(n)?(o=n,i=a/4):i=a/(2*Math.PI)*Math.asin(n/o),o*Math.pow(2,-10*e)*Math.sin((e*r-i)*(2*Math.PI)/a)+n+t)},easeInOutElastic:function(e,t,n,r){var i=1.70158,a=0,o=n;return 0==e?t:2==(e/=r/2)?t+n:(a||(a=r*(.3*1.5)),o<Math.abs(n)?(o=n,i=a/4):i=a/(2*Math.PI)*Math.asin(n/o),e<1?o*Math.pow(2,10*(e-=1))*Math.sin((e*r-i)*(2*Math.PI)/a)*-.5+t:o*Math.pow(2,-10*(e-=1))*Math.sin((e*r-i)*(2*Math.PI)/a)*.5+n+t)},easeInBack:function(e,t,n,r,i){return null==i&&(i=1.70158),n*(e/=r)*e*((i+1)*e-i)+t},easeOutBack:function(e,t,n,r,i){return null==i&&(i=1.70158),n*((e=e/r-1)*e*((i+1)*e+i)+1)+t},easeInOutBack:function(e,t,n,r,i){return null==i&&(i=1.70158),(e/=r/2)<1?n/2*(e*e*((1+(i*=1.525))*e-i))+t:n/2*((e-=2)*e*((1+(i*=1.525))*e+i)+2)+t},easeInBounce:function(e,t,n,r){return n-window.fp_easings.easeOutBounce(r-e,0,n,r)+t},easeOutBounce:function(e,t,n,r){return(e/=r)<1/2.75?n*(7.5625*e*e)+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOutBounce:function(e,t,n,r){return e<r/2?.5*window.fp_easings.easeInBounce(2*e,0,n,r)+t:.5*window.fp_easings.easeOutBounce(2*e-r,0,n,r)+.5*n+t}}},379:function(e){"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var a={},o=[],s=0;s<e.length;s++){var l=e[s],u=r.base?l[0]+r.base:l[0],c=a[u]||0,d="".concat(u," ").concat(c);a[u]=c+1;var f=n(d),h={css:l[1],media:l[2],sourceMap:l[3]};-1!==f?(t[f].references++,t[f].updater(h)):t.push({identifier:d,updater:i(h,r),references:1}),o.push(d)}return o}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var a=r(e=e||[],i=i||{});return function(e){e=e||[];for(var o=0;o<a.length;o++){var s=n(a[o]);t[s].references--}for(var l=r(e,i),u=0;u<a.length;u++){var c=n(a[u]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}a=l}}},569:function(e){"use strict";var t={};e.exports=function(e,n){var r=function(e){if("undefined"===typeof t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(r){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:function(e){"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t),t}},565:function(e,t,n){"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:function(e){"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r=n.css,i=n.media,a=n.sourceMap;i?e.setAttribute("media",i):e.removeAttribute("media"),a&&"undefined"!==typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(r,e)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:function(e){"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},497:function(e){"use strict";e.exports=n(2791)}},l={};function u(e){var n=l[e];if(void 0!==n)return n.exports;var r=l[e]={id:e,exports:{}};return t[e].call(r.exports,r,r.exports,u),r.exports}u.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return u.d(t,{a:t}),t},u.d=function(e,t){for(var n in t)u.o(t,n)&&!u.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var c={};!function(){"use strict";u.r(c),u.d(c,{default:function(){return r}});var e=u(497),t=u.n(e),n=function(n){var r=n.children;return t().createElement(e.Fragment,null,r)},r=function(){var e;return(e=function(){if("undefined"===typeof window)return!1;try{return!"production".toLowerCase().match(/test/)}catch(e){return!0}}()?u(88).Z:u(882).Z).Wrapper=n,e}()}(),e.exports=c}()},1694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},9644:function(e,t,n){var r=n(7061).default,i=n(7156).default,a=n(7424).default;e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=111)}([function(e,t){e.exports=n(2791)},function(e,t,n){(function(t){var n;n=function(){"use strict";var e=function(e){var t=e.id,n=e.viewBox,r=e.content;this.id=t,this.viewBox=n,this.content=r};function n(e,t){return e(t={exports:{}},t.exports),t.exports}e.prototype.stringify=function(){return this.content},e.prototype.toString=function(){return this.stringify()},e.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach((function(t){return delete e[t]}))},"undefined"!=typeof window?window:void 0!==t||"undefined"!=typeof self&&self;var r=n((function(e,t){e.exports=function(){function e(e){return e&&"object"==typeof e&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function t(t,n){var i;return n&&!0===n.clone&&e(t)?r((i=t,Array.isArray(i)?[]:{}),t,n):t}function n(n,i,a){var o=n.slice();return i.forEach((function(i,s){void 0===o[s]?o[s]=t(i,a):e(i)?o[s]=r(n[s],i,a):-1===n.indexOf(i)&&o.push(t(i,a))})),o}function r(i,a,o){var s=Array.isArray(a),l=(o||{arrayMerge:n}).arrayMerge||n;return s?Array.isArray(i)?l(i,a,o):t(a,o):function(n,i,a){var o={};return e(n)&&Object.keys(n).forEach((function(e){o[e]=t(n[e],a)})),Object.keys(i).forEach((function(s){e(i[s])&&n[s]?o[s]=r(n[s],i[s],a):o[s]=t(i[s],a)})),o}(i,a,o)}return r.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce((function(e,n){return r(e,n,t)}))},r}()})),i=n((function(e,t){t.default={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}},e.exports=t.default})),a=i.svg,o=i.xlink,s={};s[a.name]=a.uri,s[o.name]=o.uri;return function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={isMounted:{}};return n.isMounted.get=function(){return!!this.node},t.createFromExistingNode=function(e){return new t({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},t.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},t.prototype.mount=function(e){if(this.isMounted)return this.node;var t="string"==typeof e?document.querySelector(e):e,n=this.render();return this.node=n,t.appendChild(n),n},t.prototype.render=function(){return function(e){var t=!!document.importNode,n=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return t?document.importNode(n,!0):n}(function(e,t){return void 0===e&&(e=""),"<svg "+function(e){return Object.keys(e).map((function(t){return t+'="'+e[t].toString().replace(/"/g,"&quot;")+'"'})).join(" ")}(r(s,t||{}))+">"+e+"</svg>"}(this.stringify())).childNodes[0]},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(t.prototype,n),t}(e)},e.exports=n()}).call(this,n(48))},function(e,t,n){(function(t){var n;n=function(){"use strict";function e(e,t){return e(t={exports:{}},t.exports),t.exports}"undefined"!=typeof window?window:void 0!==t||"undefined"!=typeof self&&self;var n=e((function(e,t){e.exports=function(){function e(e){return e&&"object"==typeof e&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function t(t,n){var i;return n&&!0===n.clone&&e(t)?r((i=t,Array.isArray(i)?[]:{}),t,n):t}function n(n,i,a){var o=n.slice();return i.forEach((function(i,s){void 0===o[s]?o[s]=t(i,a):e(i)?o[s]=r(n[s],i,a):-1===n.indexOf(i)&&o.push(t(i,a))})),o}function r(i,a,o){var s=Array.isArray(a),l=(o||{arrayMerge:n}).arrayMerge||n;return s?Array.isArray(i)?l(i,a,o):t(a,o):function(n,i,a){var o={};return e(n)&&Object.keys(n).forEach((function(e){o[e]=t(n[e],a)})),Object.keys(i).forEach((function(s){e(i[s])&&n[s]?o[s]=r(n[s],i[s],a):o[s]=t(i[s],a)})),o}(i,a,o)}return r.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce((function(e,n){return r(e,n,t)}))},r}()})),r=e((function(e,t){t.default={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}},e.exports=t.default})),i=r.svg,a=r.xlink,o={};o[i.name]=i.uri,o[a.name]=a.uri;var s,l=function(e,t){return void 0===e&&(e=""),"<svg "+function(e){return Object.keys(e).map((function(t){return t+'="'+e[t].toString().replace(/"/g,"&quot;")+'"'})).join(" ")}(n(o,t||{}))+">"+e+"</svg>"},u=r.svg,c=r.xlink,d={attrs:(s={style:["position: absolute","width: 0","height: 0"].join("; "),"aria-hidden":"true"},s[u.name]=u.uri,s[c.name]=c.uri,s)},f=function(e){this.config=n(d,e||{}),this.symbols=[]};f.prototype.add=function(e){var t=this.symbols,n=this.find(e.id);return n?(t[t.indexOf(n)]=e,!1):(t.push(e),!0)},f.prototype.remove=function(e){var t=this.symbols,n=this.find(e);return!!n&&(t.splice(t.indexOf(n),1),n.destroy(),!0)},f.prototype.find=function(e){return this.symbols.filter((function(t){return t.id===e}))[0]||null},f.prototype.has=function(e){return null!==this.find(e)},f.prototype.stringify=function(){var e=this.config.attrs,t=this.symbols.map((function(e){return e.stringify()})).join("");return l(t,e)},f.prototype.toString=function(){return this.stringify()},f.prototype.destroy=function(){this.symbols.forEach((function(e){return e.destroy()}))};var h=function(e){var t=e.id,n=e.viewBox,r=e.content;this.id=t,this.viewBox=n,this.content=r};h.prototype.stringify=function(){return this.content},h.prototype.toString=function(){return this.stringify()},h.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach((function(t){return delete e[t]}))};var p=function(e){var t=!!document.importNode,n=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return t?document.importNode(n,!0):n},v=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={isMounted:{}};return n.isMounted.get=function(){return!!this.node},t.createFromExistingNode=function(e){return new t({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},t.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},t.prototype.mount=function(e){if(this.isMounted)return this.node;var t="string"==typeof e?document.querySelector(e):e,n=this.render();return this.node=n,t.appendChild(n),n},t.prototype.render=function(){var e=this.stringify();return p(l(e)).childNodes[0]},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(t.prototype,n),t}(h),g={autoConfigure:!0,mountTo:"body",syncUrlsWithBaseTag:!1,listenLocationChangeEvent:!0,locationChangeEvent:"locationChange",locationChangeAngularEmitter:!1,usagesToUpdate:"use[*|href]",moveGradientsOutsideSymbol:!1},m=function(e){return Array.prototype.slice.call(e,0)},y=function(e){return(e||window.location.href).split("#")[0]},b=function(e,t){return void 0===t&&(t="linearGradient, radialGradient, pattern, mask, clipPath"),m(e.querySelectorAll("symbol")).forEach((function(e){m(e.querySelectorAll(t)).forEach((function(t){e.parentNode.insertBefore(t,e)}))})),e},E=r.xlink.uri,S=/[{}|\\\^\[\]`"<>]/g;function T(e){return e.replace(S,(function(e){return"%"+e[0].charCodeAt(0).toString(16).toUpperCase()}))}var w,k=["clipPath","colorProfile","src","cursor","fill","filter","marker","markerStart","markerMid","markerEnd","mask","stroke","style"],L=k.map((function(e){return"["+e+"]"})).join(","),x="mount",C="symbol_mount",_=function(e){function t(t){var r=this;void 0===t&&(t={}),e.call(this,n(g,t));var i,a=(i=i||Object.create(null),{on:function(e,t){(i[e]||(i[e]=[])).push(t)},off:function(e,t){i[e]&&i[e].splice(i[e].indexOf(t)>>>0,1)},emit:function(e,t){(i[e]||[]).map((function(e){e(t)})),(i["*"]||[]).map((function(n){n(e,t)}))}});this._emitter=a,this.node=null;var o=this.config;if(o.autoConfigure&&this._autoConfigure(t),o.syncUrlsWithBaseTag){var s=document.getElementsByTagName("base")[0].getAttribute("href");a.on(x,(function(){return r.updateUrls("#",s)}))}var l=this._handleLocationChange.bind(this);this._handleLocationChange=l,o.listenLocationChangeEvent&&window.addEventListener(o.locationChangeEvent,l),o.locationChangeAngularEmitter&&function(e){angular.module("ng").run(["$rootScope",function(t){t.$on("$locationChangeSuccess",(function(t,n,r){var i,a,o;i=e,a={oldUrl:r,newUrl:n},(o=document.createEvent("CustomEvent")).initCustomEvent(i,!1,!1,a),window.dispatchEvent(o)}))}])}(o.locationChangeEvent),a.on(x,(function(e){o.moveGradientsOutsideSymbol&&b(e)})),a.on(C,(function(e){var t;o.moveGradientsOutsideSymbol&&b(e.parentNode),(/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/edge/i.test(navigator.userAgent))&&(t=[],m(e.querySelectorAll("style")).forEach((function(e){e.textContent+="",t.push(e)})))}))}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={isMounted:{}};return r.isMounted.get=function(){return!!this.node},t.prototype._autoConfigure=function(e){var t=this.config;void 0===e.syncUrlsWithBaseTag&&(t.syncUrlsWithBaseTag=void 0!==document.getElementsByTagName("base")[0]),void 0===e.locationChangeAngularEmitter&&(t.locationChangeAngularEmitter=void 0!==window.angular),void 0===e.moveGradientsOutsideSymbol&&(t.moveGradientsOutsideSymbol=/firefox/i.test(navigator.userAgent))},t.prototype._handleLocationChange=function(e){var t=e.detail,n=t.oldUrl,r=t.newUrl;this.updateUrls(n,r)},t.prototype.add=function(t){var n=e.prototype.add.call(this,t);return this.isMounted&&n&&(t.mount(this.node),this._emitter.emit(C,t.node)),n},t.prototype.attach=function(e){var t=this,n=this;if(n.isMounted)return n.node;var r="string"==typeof e?document.querySelector(e):e;return n.node=r,this.symbols.forEach((function(e){e.mount(n.node),t._emitter.emit(C,e.node)})),m(r.querySelectorAll("symbol")).forEach((function(e){var t=v.createFromExistingNode(e);t.node=e,n.add(t)})),this._emitter.emit(x,r),r},t.prototype.destroy=function(){var e=this.config,t=this.symbols,n=this._emitter;t.forEach((function(e){return e.destroy()})),n.off("*"),window.removeEventListener(e.locationChangeEvent,this._handleLocationChange),this.isMounted&&this.unmount()},t.prototype.mount=function(e,t){if(void 0===e&&(e=this.config.mountTo),void 0===t&&(t=!1),this.isMounted)return this.node;var n="string"==typeof e?document.querySelector(e):e,r=this.render();return this.node=r,t&&n.childNodes[0]?n.insertBefore(r,n.childNodes[0]):n.appendChild(r),this._emitter.emit(x,r),r},t.prototype.render=function(){return p(this.stringify())},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},t.prototype.updateUrls=function(e,t){if(!this.isMounted)return!1;var n=document.querySelectorAll(this.config.usagesToUpdate);return function(e,t,n,r){var i=T(n),a=T(r);(function(e,t){return m(e).reduce((function(e,n){if(!n.attributes)return e;var r=m(n.attributes),i=t?r.filter(t):r;return e.concat(i)}),[])})(e.querySelectorAll(L),(function(e){var t=e.localName,n=e.value;return-1!==k.indexOf(t)&&-1!==n.indexOf("url("+i)})).forEach((function(e){return e.value=e.value.replace(new RegExp(i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),a)})),function(e,t,n){m(e).forEach((function(e){var r=e.getAttribute("xlink:href");if(r&&0===r.indexOf(t)){var i=r.replace(t,n);e.setAttributeNS(E,"xlink:href",i)}}))}(t,i,a)}(this.node,n,y(e)+"#",y(t)+"#"),!0},Object.defineProperties(t.prototype,r),t}(f),A=e((function(e){var t,n,r,i,a;e.exports=(n=[],i=(r=document).documentElement.doScroll,(a=(i?/^loaded|^c/:/^loaded|^i|^c/).test(r.readyState))||r.addEventListener("DOMContentLoaded",t=function(){for(r.removeEventListener("DOMContentLoaded",t),a=1;t=n.shift();)t()}),function(e){a?setTimeout(e,0):n.push(e)})}));window.__SVG_SPRITE__?w=window.__SVG_SPRITE__:(w=new _({attrs:{id:"__SVG_SPRITE_NODE__","aria-hidden":"true"}}),window.__SVG_SPRITE__=w);var O=function(){var e=document.getElementById("__SVG_SPRITE_NODE__");e?w.attach(e):w.mount(document.body,!0)};return document.body?O():A(O),w},e.exports=n()}).call(this,n(48))},function(e,t,n){for(var r=n(50),i=n(25),a=n(19),o=n(6),s=n(9),l=n(27),u=n(8),c=u("iterator"),d=u("toStringTag"),f=l.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(h),v=0;v<p.length;v++){var g,m=p[v],y=h[m],b=o[m],E=b&&b.prototype;if(E&&(E[c]||s(E,c,f),E[d]||s(E,d,m),l[m]=f,y))for(g in r)E[g]||a(E,g,r[g],!0)}},function(e,t,n){"use strict";var r,i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function o(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function s(e,t){for(var n={},r=[],i=0;i<e.length;i++){var s=e[i],l=t.base?s[0]+t.base:s[0],u=n[l]||0,c="".concat(l," ").concat(u);n[l]=u+1;var d=o(c),f={css:s[1],media:s[2],sourceMap:s[3]};-1!==d?(a[d].references++,a[d].updater(f)):a.push({identifier:c,updater:v(f,t),references:1}),r.push(c)}return r}function l(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var a=n.nc;a&&(r.nonce=a)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var o=i(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}var u,c=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function d(e,t,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=c(t,i);else{var a=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}function f(e,t,n){var r=n.css,i=n.media,a=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var h=null,p=0;function v(e,t){var n,r,i;if(t.singleton){var a=p++;n=h||(h=l(t)),r=d.bind(null,n,a,!1),i=d.bind(null,n,a,!0)}else n=l(t),r=f.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var i=o(n[r]);a[i].references--}for(var l=s(e,t),u=0;u<n.length;u++){var c=o(n[u]);0===a[c].references&&(a[c].updater(),a.splice(c,1))}n=l}}}},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,r,i,a=e[1]||"",o=e[3];if(!o)return a;if(t&&"function"==typeof btoa){var s=(n=o,r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),"/*# ".concat(i," */")),l=o.sources.map((function(e){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(e," */")}));return[a].concat(l).concat([s]).join("\n")}return[a].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var a=0;a<this.length;a++){var o=this[a][0];null!=o&&(i[o]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);r&&i[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){e.exports=!n(11)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(21)("wks"),i=n(17),a=n(6).Symbol,o="function"==typeof a;(e.exports=function(e){return r[e]||(r[e]=o&&a[e]||(o?a:i)("Symbol."+e))}).store=r},function(e,t,n){var r=n(10),i=n(24);e.exports=n(7)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(14),i=n(36),a=n(26),o=Object.defineProperty;t.f=n(7)?Object.defineProperty:function(e,t,n){if(r(e),t=a(t,!0),r(n),i)try{return o(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){"use strict";var r=n(6),i=n(12),a=n(7),o=n(28),s=n(19),l=n(64).KEY,u=n(11),c=n(21),d=n(31),f=n(17),h=n(8),p=n(44),v=n(65),g=n(66),m=n(67),y=n(14),b=n(18),E=n(32),S=n(15),T=n(26),w=n(24),k=n(41),L=n(68),x=n(69),C=n(45),_=n(10),A=n(25),O=x.f,P=_.f,R=L.f,D=r.Symbol,I=r.JSON,M=I&&I.stringify,F=h("_hidden"),N=h("toPrimitive"),j={}.propertyIsEnumerable,B=c("symbol-registry"),U=c("symbols"),G=c("op-symbols"),z=Object.prototype,H="function"==typeof D&&!!C.f,K=r.QObject,V=!K||!K.prototype||!K.prototype.findChild,W=a&&u((function(){return 7!=k(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=O(z,t);r&&delete z[t],P(e,t,n),r&&e!==z&&P(z,t,r)}:P,J=function(e){var t=U[e]=k(D.prototype);return t._k=e,t},q=H&&"symbol"==typeof D.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof D},Y=function e(t,n,r){return t===z&&e(G,n,r),y(t),n=T(n,!0),y(r),i(U,n)?(r.enumerable?(i(t,F)&&t[F][n]&&(t[F][n]=!1),r=k(r,{enumerable:w(0,!1)})):(i(t,F)||P(t,F,w(1,{})),t[F][n]=!0),W(t,n,r)):P(t,n,r)},X=function(e,t){y(e);for(var n,r=g(t=S(t)),i=0,a=r.length;a>i;)Y(e,n=r[i++],t[n]);return e},Q=function(e){var t=j.call(this,e=T(e,!0));return!(this===z&&i(U,e)&&!i(G,e))&&(!(t||!i(this,e)||!i(U,e)||i(this,F)&&this[F][e])||t)},$=function(e,t){if(e=S(e),t=T(t,!0),e!==z||!i(U,t)||i(G,t)){var n=O(e,t);return!n||!i(U,t)||i(e,F)&&e[F][t]||(n.enumerable=!0),n}},Z=function(e){for(var t,n=R(S(e)),r=[],a=0;n.length>a;)i(U,t=n[a++])||t==F||t==l||r.push(t);return r},ee=function(e){for(var t,n=e===z,r=R(n?G:S(e)),a=[],o=0;r.length>o;)!i(U,t=r[o++])||n&&!i(z,t)||a.push(U[t]);return a};H||(s((D=function(){if(this instanceof D)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0);return a&&V&&W(z,e,{configurable:!0,set:function t(n){this===z&&t.call(G,n),i(this,F)&&i(this[F],e)&&(this[F][e]=!1),W(this,e,w(1,n))}}),J(e)}).prototype,"toString",(function(){return this._k})),x.f=$,_.f=Y,n(46).f=L.f=Z,n(33).f=Q,C.f=ee,a&&!n(23)&&s(z,"propertyIsEnumerable",Q,!0),p.f=function(e){return J(h(e))}),o(o.G+o.W+o.F*!H,{Symbol:D});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)h(te[ne++]);for(var re=A(h.store),ie=0;re.length>ie;)v(re[ie++]);o(o.S+o.F*!H,"Symbol",{for:function(e){return i(B,e+="")?B[e]:B[e]=D(e)},keyFor:function(e){if(!q(e))throw TypeError(e+" is not a symbol!");for(var t in B)if(B[t]===e)return t},useSetter:function(){V=!0},useSimple:function(){V=!1}}),o(o.S+o.F*!H,"Object",{create:function(e,t){return void 0===t?k(e):X(k(e),t)},defineProperty:Y,defineProperties:X,getOwnPropertyDescriptor:$,getOwnPropertyNames:Z,getOwnPropertySymbols:ee});var ae=u((function(){C.f(1)}));o(o.S+o.F*ae,"Object",{getOwnPropertySymbols:function(e){return C.f(E(e))}}),I&&o(o.S+o.F*(!H||u((function(){var e=D();return"[null]"!=M([e])||"{}"!=M({a:e})||"{}"!=M(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(b(t)||void 0!==e)&&!q(e))return m(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!q(t))return t}),r[1]=t,M.apply(I,r)}}),D.prototype[N]||n(9)(D.prototype,N,D.prototype.valueOf),d(D,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},function(e,t,n){var r=n(18);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var r=n(53),i=n(39);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(4),i=n(77);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(6),i=n(9),a=n(12),o=n(17)("src"),s=n(55),l=(""+s).split("toString");n(22).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var u="function"==typeof n;u&&(a(n,"name")||i(n,"name",t)),e[t]!==n&&(u&&(a(n,o)||i(n,o,e[t]?""+e[t]:l.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[o]||s.call(this)}))},function(e,t,n){!function(){"use strict";var t="undefined"!=typeof window&&void 0!==window.document?window.document:{},n=e.exports,r=function(){for(var e,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,i=n.length,a={};r<i;r++)if((e=n[r])&&e[1]in t){for(r=0;r<e.length;r++)a[n[0][r]]=e[r];return a}return!1}(),i={change:r.fullscreenchange,error:r.fullscreenerror},a={request:function(e,n){return new Promise(function(i,a){var o=function(){this.off("change",o),i()}.bind(this);this.on("change",o);var s=(e=e||t.documentElement)[r.requestFullscreen](n);s instanceof Promise&&s.then(o).catch(a)}.bind(this))},exit:function(){return new Promise(function(e,n){if(this.isFullscreen){var i=function(){this.off("change",i),e()}.bind(this);this.on("change",i);var a=t[r.exitFullscreen]();a instanceof Promise&&a.then(i).catch(n)}else e()}.bind(this))},toggle:function(e,t){return this.isFullscreen?this.exit():this.request(e,t)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(e,n){var r=i[e];r&&t.addEventListener(r,n,!1)},off:function(e,n){var r=i[e];r&&t.removeEventListener(r,n,!1)},raw:r};r?(Object.defineProperties(a,{isFullscreen:{get:function(){return Boolean(t[r.fullscreenElement])}},element:{enumerable:!0,get:function(){return t[r.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(t[r.fullscreenEnabled])}}}),n?e.exports=a:window.screenfull=a):n?e.exports={isEnabled:!1}:window.screenfull={isEnabled:!1}}()},function(e,t,n){var r=n(22),i=n(6),a=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(23)?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t){var n=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=n)},function(e,t){e.exports=!1},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(42),i=n(30);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(18);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports={}},function(e,t,n){var r=n(6),i=n(22),a=n(9),o=n(19),s=n(56),l=function e(t,n,l){var u,c,d,f,h=t&e.F,p=t&e.G,v=t&e.P,g=t&e.B,m=p?r:t&e.S?r[n]||(r[n]={}):(r[n]||{}).prototype,y=p?i:i[n]||(i[n]={}),b=y.prototype||(y.prototype={});for(u in p&&(l=n),l)d=((c=!h&&m&&void 0!==m[u])?m:l)[u],f=g&&c?s(d,r):v&&"function"==typeof d?s(Function.call,d):d,m&&o(m,u,d,t&e.U),y[u]!=d&&a(y,u,f),v&&b[u]!=d&&(b[u]=d)};r.core=i,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t,n){var r=n(21)("keys"),i=n(17);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(10).f,i=n(12),a=n(8)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,a)&&r(e,a,{configurable:!0,value:t})}},function(e,t,n){var r=n(39);e.exports=function(e){return Object(r(e))}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){"use strict";n(70);var r=n(14),i=n(47),a=n(7),o=/./.toString,s=function(e){n(19)(RegExp.prototype,"toString",e,!0)};n(11)((function(){return"/a/b"!=o.call({source:"a",flags:"b"})}))?s((function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!a&&e instanceof RegExp?i.call(e):void 0)})):"toString"!=o.name&&s((function(){return o.call(this)}))},function(e,t,n){var r;"undefined"!=typeof window&&(r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s="./src/hls.ts")}({"./node_modules/eventemitter3/index.js":function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,i="~";function a(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,n,r,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new o(n,r||e,a),l=i?i+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function l(e,t){0==--e._eventsCount?e._events=new a:delete e._events[t]}function u(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),(new a).__proto__||(i=!1)),u.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},u.prototype.listeners=function(e){var t=i?i+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,a=n.length,o=new Array(a);r<a;r++)o[r]=n[r].fn;return o},u.prototype.listenerCount=function(e){var t=i?i+e:e,n=this._events[t];return n?n.fn?1:n.length:0},u.prototype.emit=function(e,t,n,r,a,o){var s=i?i+e:e;if(!this._events[s])return!1;var l,u,c=this._events[s],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,r),!0;case 5:return c.fn.call(c.context,t,n,r,a),!0;case 6:return c.fn.call(c.context,t,n,r,a,o),!0}for(u=1,l=new Array(d-1);u<d;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var f,h=c.length;for(u=0;u<h;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,n);break;case 4:c[u].fn.call(c[u].context,t,n,r);break;default:if(!l)for(f=1,l=new Array(d-1);f<d;f++)l[f-1]=arguments[f];c[u].fn.apply(c[u].context,l)}}return!0},u.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},u.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},u.prototype.removeListener=function(e,t,n,r){var a=i?i+e:e;if(!this._events[a])return this;if(!t)return l(this,a),this;var o=this._events[a];if(o.fn)o.fn!==t||r&&!o.once||n&&o.context!==n||l(this,a);else{for(var s=0,u=[],c=o.length;s<c;s++)(o[s].fn!==t||r&&!o[s].once||n&&o[s].context!==n)&&u.push(o[s]);u.length?this._events[a]=1===u.length?u[0]:u:l(this,a)}return this},u.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&l(this,t)):(this._events=new a,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=i,u.EventEmitter=u,e.exports=u},"./node_modules/url-toolkit/src/url-toolkit.js":function(e,t,n){var r,i,a,o,s;r=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#[^]*)?$/,i=/^([^\/?#]*)([^]*)$/,a=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,s={buildAbsoluteURL:function(e,t,n){if(n=n||{},e=e.trim(),!(t=t.trim())){if(!n.alwaysNormalize)return e;var r=s.parseURL(e);if(!r)throw new Error("Error trying to parse base URL.");return r.path=s.normalizePath(r.path),s.buildURLFromParts(r)}var a=s.parseURL(t);if(!a)throw new Error("Error trying to parse relative URL.");if(a.scheme)return n.alwaysNormalize?(a.path=s.normalizePath(a.path),s.buildURLFromParts(a)):t;var o=s.parseURL(e);if(!o)throw new Error("Error trying to parse base URL.");if(!o.netLoc&&o.path&&"/"!==o.path[0]){var l=i.exec(o.path);o.netLoc=l[1],o.path=l[2]}o.netLoc&&!o.path&&(o.path="/");var u={scheme:o.scheme,netLoc:a.netLoc,path:null,params:a.params,query:a.query,fragment:a.fragment};if(!a.netLoc&&(u.netLoc=o.netLoc,"/"!==a.path[0]))if(a.path){var c=o.path,d=c.substring(0,c.lastIndexOf("/")+1)+a.path;u.path=s.normalizePath(d)}else u.path=o.path,a.params||(u.params=o.params,a.query||(u.query=o.query));return null===u.path&&(u.path=n.alwaysNormalize?s.normalizePath(a.path):a.path),s.buildURLFromParts(u)},parseURL:function(e){var t=r.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(a,"");e.length!==(e=e.replace(o,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=s},"./node_modules/webworkify-webpack/index.js":function(e,t,n){function r(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n.oe=function(e){throw console.error(e),e};var r=n(n.s=ENTRY_MODULE);return r.default||r}function i(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function a(e,t,r){var a={};a[r]=[];var o=t.toString(),s=o.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!s)return a;for(var l,u=s[1],c=new RegExp("(\\\\n|\\W)"+i(u)+"\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)","g");l=c.exec(o);)"dll-reference"!==l[3]&&a[r].push(l[3]);for(c=new RegExp("\\("+i(u)+'\\("(dll-reference\\s([\\.|\\-|\\+|\\w|/|@]+))"\\)\\)\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)',"g");l=c.exec(o);)e[l[2]]||(a[r].push(l[1]),e[l[2]]=n(l[1]).m),a[l[2]]=a[l[2]]||[],a[l[2]].push(l[4]);for(var d,f=Object.keys(a),h=0;h<f.length;h++)for(var p=0;p<a[f[h]].length;p++)d=a[f[h]][p],isNaN(1*d)||(a[f[h]][p]=1*a[f[h]][p]);return a}function o(e){return Object.keys(e).reduce((function(t,n){return t||e[n].length>0}),!1)}e.exports=function(e,t){t=t||{};var i={main:n.m},s=t.all?{main:Object.keys(i.main)}:function(e,t){for(var n={main:[t]},r={main:[]},i={main:{}};o(n);)for(var s=Object.keys(n),l=0;l<s.length;l++){var u=s[l],c=n[u].pop();if(i[u]=i[u]||{},!i[u][c]&&e[u][c]){i[u][c]=!0,r[u]=r[u]||[],r[u].push(c);for(var d=a(e,e[u][c],u),f=Object.keys(d),h=0;h<f.length;h++)n[f[h]]=n[f[h]]||[],n[f[h]]=n[f[h]].concat(d[f[h]])}}return r}(i,e),l="";Object.keys(s).filter((function(e){return"main"!==e})).forEach((function(e){for(var t=0;s[e][t];)t++;s[e].push(t),i[e][t]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",l=l+"var "+e+" = ("+r.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+s[e].map((function(t){return JSON.stringify(t)+": "+i[e][t].toString()})).join(",")+"});\n"})),l=l+"new (("+r.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+s.main.map((function(e){return JSON.stringify(e)+": "+i.main[e].toString()})).join(",")+"}))(self);";var u=new window.Blob([l],{type:"text/javascript"});if(t.bare)return u;var c=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(u),d=new window.Worker(c);return d.objectURL=c,d}},"./src/config.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"hlsDefaultConfig",(function(){return T})),n.d(t,"mergeConfig",(function(){return w})),n.d(t,"enableStreamingMode",(function(){return k}));var r=n("./src/controller/abr-controller.ts"),i=n("./src/controller/audio-stream-controller.ts"),a=n("./src/controller/audio-track-controller.ts"),o=n("./src/controller/subtitle-stream-controller.ts"),s=n("./src/controller/subtitle-track-controller.ts"),l=n("./src/controller/buffer-controller.ts"),u=n("./src/controller/timeline-controller.ts"),c=n("./src/controller/cap-level-controller.ts"),d=n("./src/controller/fps-controller.ts"),f=n("./src/controller/eme-controller.ts"),h=n("./src/utils/xhr-loader.ts"),p=n("./src/utils/fetch-loader.ts"),v=n("./src/utils/cues.ts"),g=n("./src/utils/mediakeys-helper.ts"),m=n("./src/utils/logger.ts");function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=E(E({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:h.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:r.default,bufferController:l.default,capLevelController:c.default,fpsController:d.default,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystemOptions:{},requestMediaKeySystemAccessFunc:g.requestMediaKeySystemAccess,testBandwidth:!0,progressive:!1,lowLatencyMode:!0},{cueHandler:v.default,enableCEA708Captions:!0,enableWebVTT:!0,enableIMSC1:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:o.SubtitleStreamController,subtitleTrackController:s.default,timelineController:u.TimelineController,audioStreamController:i.default,audioTrackController:a.default,emeController:f.default});function w(e,t){if((t.liveSyncDurationCount||t.liveMaxLatencyDurationCount)&&(t.liveSyncDuration||t.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==t.liveMaxLatencyDurationCount&&(void 0===t.liveSyncDurationCount||t.liveMaxLatencyDurationCount<=t.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==t.liveMaxLatencyDuration&&(void 0===t.liveSyncDuration||t.liveMaxLatencyDuration<=t.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');return y({},e,t)}function k(e){var t=e.loader;t!==p.default&&t!==h.default?(m.logger.log("[config]: Custom loader detected, cannot enable progressive streaming"),e.progressive=!1):Object(p.fetchSupported)()&&(e.loader=p.default,e.progressive=!0,e.enableSoftwareAES=!0,m.logger.log("[config]: Progressive streaming enabled, using FetchLoader"))}},"./src/controller/abr-controller.ts":function(e,t,n){"use strict";n.r(t);var r=n("./src/polyfills/number.ts"),i=n("./src/utils/ewma-bandwidth-estimator.ts"),a=n("./src/events.ts"),o=n("./src/utils/buffer-helper.ts"),s=n("./src/errors.ts"),l=n("./src/types/loader.ts"),u=n("./src/utils/logger.ts");function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d=function(){function e(e){this.hls=void 0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=void 0,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=e;var t=e.config;this.bwEstimator=new i.default(t.abrEwmaSlowVoD,t.abrEwmaFastVoD,t.abrEwmaDefaultEstimate),this.registerListeners()}var t,n,d=e.prototype;return d.registerListeners=function(){var e=this.hls;e.on(a.Events.FRAG_LOADING,this.onFragLoading,this),e.on(a.Events.FRAG_LOADED,this.onFragLoaded,this),e.on(a.Events.FRAG_BUFFERED,this.onFragBuffered,this),e.on(a.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.on(a.Events.ERROR,this.onError,this)},d.unregisterListeners=function(){var e=this.hls;e.off(a.Events.FRAG_LOADING,this.onFragLoading,this),e.off(a.Events.FRAG_LOADED,this.onFragLoaded,this),e.off(a.Events.FRAG_BUFFERED,this.onFragBuffered,this),e.off(a.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.off(a.Events.ERROR,this.onError,this)},d.destroy=function(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null},d.onFragLoading=function(e,t){var n,r=t.frag;r.type===l.PlaylistLevelType.MAIN&&(this.timer||(this.fragCurrent=r,this.partCurrent=null!=(n=t.part)?n:null,this.timer=self.setInterval(this.onCheck,100)))},d.onLevelLoaded=function(e,t){var n=this.hls.config;t.details.live?this.bwEstimator.update(n.abrEwmaSlowLive,n.abrEwmaFastLive):this.bwEstimator.update(n.abrEwmaSlowVoD,n.abrEwmaFastVoD)},d._abandonRulesCheck=function(){var e=this.fragCurrent,t=this.partCurrent,n=this.hls,i=n.autoLevelEnabled,s=n.config,l=n.media;if(e&&l){var c=t?t.stats:e.stats,d=t?t.duration:e.duration;if(c.aborted)return u.logger.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);if(i&&!l.paused&&l.playbackRate&&l.readyState){var f=performance.now()-c.loading.start,h=Math.abs(l.playbackRate);if(!(f<=500*d/h)){var p=n.levels,v=n.minAutoLevel,g=p[e.level],m=c.total||Math.max(c.loaded,Math.round(d*g.maxBitrate/8)),y=Math.max(1,c.bwEstimate?c.bwEstimate/8:1e3*c.loaded/f),b=(m-c.loaded)/y,E=l.currentTime,S=(o.BufferHelper.bufferInfo(l,E,s.maxBufferHole).end-E)/h;if(!(S>=2*d/h||b<=S)){var T,w=Number.POSITIVE_INFINITY;for(T=e.level-1;T>v&&!((w=d*p[T].maxBitrate/(6.4*y))<S);T--);if(!(w>=b)){var k=this.bwEstimator.getEstimate();u.logger.warn("Fragment "+e.sn+(t?" part "+t.index:"")+" of level "+e.level+" is loading too slowly and will cause an underbuffer; aborting and switching to level "+T+"\n      Current BW estimate: "+(Object(r.isFiniteNumber)(k)?(k/1024).toFixed(3):"Unknown")+" Kb/s\n      Estimated load time for current fragment: "+b.toFixed(3)+" s\n      Estimated load time for the next fragment: "+w.toFixed(3)+" s\n      Time to underbuffer: "+S.toFixed(3)+" s"),n.nextLoadLevel=T,this.bwEstimator.sample(f,c.loaded),this.clearTimer(),e.loader&&(this.fragCurrent=this.partCurrent=null,e.loader.abort()),n.trigger(a.Events.FRAG_LOAD_EMERGENCY_ABORTED,{frag:e,part:t,stats:c})}}}}}},d.onFragLoaded=function(e,t){var n=t.frag,i=t.part;if(n.type===l.PlaylistLevelType.MAIN&&Object(r.isFiniteNumber)(n.sn)){var o=i?i.stats:n.stats,s=i?i.duration:n.duration;if(this.clearTimer(),this.lastLoadedFragLevel=n.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var u=this.hls.levels[n.level],c=(u.loaded?u.loaded.bytes:0)+o.loaded,d=(u.loaded?u.loaded.duration:0)+s;u.loaded={bytes:c,duration:d},u.realBitrate=Math.round(8*c/d)}if(n.bitrateTest){var f={stats:o,frag:n,part:i,id:n.type};this.onFragBuffered(a.Events.FRAG_BUFFERED,f),n.bitrateTest=!1}}},d.onFragBuffered=function(e,t){var n=t.frag,r=t.part,i=r?r.stats:n.stats;if(!i.aborted&&n.type===l.PlaylistLevelType.MAIN&&"initSegment"!==n.sn){var a=i.parsing.end-i.loading.start;this.bwEstimator.sample(a,i.loaded),i.bwEstimate=this.bwEstimator.getEstimate(),n.bitrateTest?this.bitrateTestDelay=a/1e3:this.bitrateTestDelay=0}},d.onError=function(e,t){switch(t.details){case s.ErrorDetails.FRAG_LOAD_ERROR:case s.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}},d.clearTimer=function(){self.clearInterval(this.timer),this.timer=void 0},d.getNextABRAutoLevel=function(){var e=this.fragCurrent,t=this.partCurrent,n=this.hls,r=n.maxAutoLevel,i=n.config,a=n.minAutoLevel,s=n.media,l=t?t.duration:e?e.duration:0,c=s?s.currentTime:0,d=s&&0!==s.playbackRate?Math.abs(s.playbackRate):1,f=this.bwEstimator?this.bwEstimator.getEstimate():i.abrEwmaDefaultEstimate,h=(o.BufferHelper.bufferInfo(s,c,i.maxBufferHole).end-c)/d,p=this.findBestLevel(f,a,r,h,i.abrBandWidthFactor,i.abrBandWidthUpFactor);if(p>=0)return p;u.logger.trace((h?"rebuffering expected":"buffer is empty")+", finding optimal quality level");var v=l?Math.min(l,i.maxStarvationDelay):i.maxStarvationDelay,g=i.abrBandWidthFactor,m=i.abrBandWidthUpFactor;if(!h){var y=this.bitrateTestDelay;y&&(v=(l?Math.min(l,i.maxLoadingDelay):i.maxLoadingDelay)-y,u.logger.trace("bitrate test took "+Math.round(1e3*y)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*v)+" ms"),g=m=1)}return p=this.findBestLevel(f,a,r,h+v,g,m),Math.max(p,0)},d.findBestLevel=function(e,t,n,r,i,a){for(var o,s=this.fragCurrent,l=this.partCurrent,c=this.lastLoadedFragLevel,d=this.hls.levels,f=d[c],h=!(null==f||null===(o=f.details)||void 0===o||!o.live),p=null==f?void 0:f.codecSet,v=l?l.duration:s?s.duration:0,g=n;g>=t;g--){var m=d[g];if(m&&(!p||m.codecSet===p)){var y,b=m.details,E=(l?null==b?void 0:b.partTarget:null==b?void 0:b.averagetargetduration)||v;y=g<=c?i*e:a*e;var S=d[g].maxBitrate,T=S*E/y;if(u.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+g+"/"+Math.round(y)+"/"+S+"/"+E+"/"+r+"/"+T),y>S&&(!T||h&&!this.bitrateTestDelay||T<r))return g}}return-1},t=e,(n=[{key:"nextAutoLevel",get:function(){var e=this._nextAutoLevel,t=this.bwEstimator;if(!(-1===e||t&&t.canEstimate()))return e;var n=this.getNextABRAutoLevel();return-1!==e&&(n=Math.min(e,n)),n},set:function(e){this._nextAutoLevel=e}}])&&c(t.prototype,n),e}();t.default=d},"./src/controller/audio-stream-controller.ts":function(e,t,n){"use strict";n.r(t);var r=n("./src/polyfills/number.ts"),i=n("./src/controller/base-stream-controller.ts"),a=n("./src/events.ts"),o=n("./src/utils/buffer-helper.ts"),s=n("./src/controller/fragment-tracker.ts"),l=n("./src/types/level.ts"),u=n("./src/types/loader.ts"),c=n("./src/loader/fragment.ts"),d=n("./src/demux/chunk-cache.ts"),f=n("./src/demux/transmuxer-interface.ts"),h=n("./src/types/transmuxer.ts"),p=n("./src/controller/fragment-finders.ts"),v=n("./src/utils/discontinuities.ts"),g=n("./src/errors.ts"),m=n("./src/utils/logger.ts");function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E=function(e){var t,n;function E(t,n){var r;return(r=e.call(this,t,n,"[audio-stream-controller]")||this).videoBuffer=null,r.videoTrackCC=-1,r.waitingVideoCC=-1,r.audioSwitch=!1,r.trackId=-1,r.waitingData=null,r.mainDetails=null,r.bufferFlushed=!1,r._registerListeners(),r}n=e,(t=E).prototype=Object.create(n.prototype),t.prototype.constructor=t,b(t,n);var S=E.prototype;return S.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},S._registerListeners=function(){var e=this.hls;e.on(a.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(a.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(a.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(a.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.on(a.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.on(a.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(a.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(a.Events.ERROR,this.onError,this),e.on(a.Events.BUFFER_RESET,this.onBufferReset,this),e.on(a.Events.BUFFER_CREATED,this.onBufferCreated,this),e.on(a.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(a.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(a.Events.FRAG_BUFFERED,this.onFragBuffered,this)},S._unregisterListeners=function(){var e=this.hls;e.off(a.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(a.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(a.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(a.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.off(a.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.off(a.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(a.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(a.Events.ERROR,this.onError,this),e.off(a.Events.BUFFER_RESET,this.onBufferReset,this),e.off(a.Events.BUFFER_CREATED,this.onBufferCreated,this),e.off(a.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(a.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(a.Events.FRAG_BUFFERED,this.onFragBuffered,this)},S.onInitPtsFound=function(e,t){var n=t.frag,r=t.id,a=t.initPTS;if("main"===r){var o=n.cc;this.initPTS[n.cc]=a,this.log("InitPTS for cc: "+o+" found from main: "+a),this.videoTrackCC=o,this.state===i.State.WAITING_INIT_PTS&&this.tick()}},S.startLoad=function(e){if(!this.levels)return this.startPosition=e,void(this.state=i.State.STOPPED);var t=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),this.fragLoadError=0,t>0&&-1===e?(this.log("Override startPosition with lastCurrentTime @"+t.toFixed(3)),this.state=i.State.IDLE):(this.loadedmetadata=!1,this.state=i.State.WAITING_TRACK),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()},S.doTick=function(){switch(this.state){case i.State.IDLE:this.doTickIdle();break;case i.State.WAITING_TRACK:var t,n=this.levels,r=this.trackId,a=null==n||null===(t=n[r])||void 0===t?void 0:t.details;if(a){if(this.waitForCdnTuneIn(a))break;this.state=i.State.WAITING_INIT_PTS}break;case i.State.FRAG_LOADING_WAITING_RETRY:var s,l=performance.now(),u=this.retryDate;(!u||l>=u||null!==(s=this.media)&&void 0!==s&&s.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.state=i.State.IDLE);break;case i.State.WAITING_INIT_PTS:var c=this.waitingData;if(c){var d=c.frag,f=c.part,h=c.cache,v=c.complete;if(void 0!==this.initPTS[d.cc]){this.waitingData=null,this.waitingVideoCC=-1,this.state=i.State.FRAG_LOADING;var g={frag:d,part:f,payload:h.flush(),networkDetails:null};this._handleFragmentLoadProgress(g),v&&e.prototype._handleFragmentLoadComplete.call(this,g)}else if(this.videoTrackCC!==this.waitingVideoCC)m.logger.log("Waiting fragment cc ("+d.cc+") cancelled because video is at cc "+this.videoTrackCC),this.clearWaitingFragment();else{var y=this.getLoadPosition(),b=o.BufferHelper.bufferInfo(this.mediaBuffer,y,this.config.maxBufferHole);Object(p.fragmentWithinToleranceTest)(b.end,this.config.maxFragLookUpTolerance,d)<0&&(m.logger.log("Waiting fragment cc ("+d.cc+") @ "+d.start+" cancelled because another fragment at "+b.end+" is needed"),this.clearWaitingFragment())}}else this.state=i.State.IDLE}this.onTickEnd()},S.clearWaitingFragment=function(){var e=this.waitingData;e&&(this.fragmentTracker.removeFragment(e.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=i.State.IDLE)},S.onTickEnd=function(){var e=this.media;if(e&&e.readyState){var t=(this.mediaBuffer?this.mediaBuffer:e).buffered;!this.loadedmetadata&&t.length&&(this.loadedmetadata=!0),this.lastCurrentTime=e.currentTime}},S.doTickIdle=function(){var e,t,n=this.hls,r=this.levels,o=this.media,s=this.trackId,l=n.config;if(r&&r[s]&&(o||!this.startFragRequested&&l.startFragPrefetch)){var d=r[s].details;if(!d||d.live&&this.levelLastLoaded!==s||this.waitForCdnTuneIn(d))this.state=i.State.WAITING_TRACK;else{this.bufferFlushed&&(this.bufferFlushed=!1,this.afterBufferFlushed(this.mediaBuffer?this.mediaBuffer:this.media,c.ElementaryStreamTypes.AUDIO,u.PlaylistLevelType.AUDIO));var f=this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,u.PlaylistLevelType.AUDIO);if(null!==f){var h=f.len,p=this.getMaxBufferLength(),v=this.audioSwitch;if(!(h>=p)||v){if(!v&&this._streamEnded(f,d))return n.trigger(a.Events.BUFFER_EOS,{type:"audio"}),void(this.state=i.State.ENDED);var g=d.fragments[0].start,m=f.end;if(v){var y=this.getLoadPosition();m=y,d.PTSKnown&&y<g&&(f.end>g||f.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),o.currentTime=g+.05)}var b=this.getNextFragment(m,d);b?"identity"!==(null===(e=b.decryptdata)||void 0===e?void 0:e.keyFormat)||null!==(t=b.decryptdata)&&void 0!==t&&t.key?this.loadFragment(b,d,m):this.loadKey(b,d):this.bufferFlushed=!0}}}}},S.getMaxBufferLength=function(){var t=e.prototype.getMaxBufferLength.call(this),n=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,u.PlaylistLevelType.MAIN);return null===n?t:Math.max(t,n.len)},S.onMediaDetaching=function(){this.videoBuffer=null,e.prototype.onMediaDetaching.call(this)},S.onAudioTracksUpdated=function(e,t){var n=t.audioTracks;this.resetTransmuxer(),this.levels=n.map((function(e){return new l.Level(e)}))},S.onAudioTrackSwitching=function(e,t){var n=!!t.url;this.trackId=t.id;var r=this.fragCurrent;null!=r&&r.loader&&r.loader.abort(),this.fragCurrent=null,this.clearWaitingFragment(),n?this.setInterval(100):this.resetTransmuxer(),n?(this.audioSwitch=!0,this.state=i.State.IDLE):this.state=i.State.STOPPED,this.tick()},S.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1},S.onLevelLoaded=function(e,t){this.mainDetails=t.details},S.onAudioTrackLoaded=function(e,t){var n,r=this.levels,a=t.details,o=t.id;if(r){this.log("Track "+o+" loaded ["+a.startSN+","+a.endSN+"],duration:"+a.totalduration);var s=r[o],l=0;if(a.live||null!==(n=s.details)&&void 0!==n&&n.live){var u=this.mainDetails;if(a.fragments[0]||(a.deltaUpdateFailed=!0),a.deltaUpdateFailed||!u)return;!s.details&&a.hasProgramDateTime&&u.hasProgramDateTime?(Object(v.alignMediaPlaylistByPDT)(a,u),l=a.fragments[0].start):l=this.alignPlaylists(a,s.details)}s.details=a,this.levelLastLoaded=o,this.startFragRequested||!this.mainDetails&&a.live||this.setStartPosition(s.details,l),this.state!==i.State.WAITING_TRACK||this.waitForCdnTuneIn(a)||(this.state=i.State.IDLE),this.tick()}else this.warn("Audio tracks were reset while loading level "+o)},S._handleFragmentLoadProgress=function(e){var t,n=e.frag,r=e.part,a=e.payload,o=this.config,s=this.trackId,l=this.levels;if(l){var c=l[s];console.assert(c,"Audio track is defined on fragment load progress");var p=c.details;console.assert(p,"Audio track details are defined on fragment load progress");var v=o.defaultAudioCodec||c.audioCodec||"mp4a.40.2",g=this.transmuxer;g||(g=this.transmuxer=new f.default(this.hls,u.PlaylistLevelType.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));var y=this.initPTS[n.cc],b=null===(t=n.initSegment)||void 0===t?void 0:t.data;if(void 0!==y){var E=r?r.index:-1,S=-1!==E,T=new h.ChunkMetadata(n.level,n.sn,n.stats.chunkCount,a.byteLength,E,S);g.push(a,b,v,"",n,r,p.totalduration,!1,T,y)}else m.logger.log("Unknown video PTS for cc "+n.cc+", waiting for video PTS before demuxing audio frag "+n.sn+" of ["+p.startSN+" ,"+p.endSN+"],track "+s),(this.waitingData=this.waitingData||{frag:n,part:r,cache:new d.default,complete:!1}).cache.push(new Uint8Array(a)),this.waitingVideoCC=this.videoTrackCC,this.state=i.State.WAITING_INIT_PTS}else this.warn("Audio tracks were reset while fragment load was in progress. Fragment "+n.sn+" of level "+n.level+" will not be buffered")},S._handleFragmentLoadComplete=function(t){this.waitingData?this.waitingData.complete=!0:e.prototype._handleFragmentLoadComplete.call(this,t)},S.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},S.onBufferCreated=function(e,t){var n=t.tracks.audio;n&&(this.mediaBuffer=n.buffer),t.tracks.video&&(this.videoBuffer=t.tracks.video.buffer)},S.onFragBuffered=function(e,t){var n=t.frag,r=t.part;n.type===u.PlaylistLevelType.AUDIO&&(this.fragContextChanged(n)?this.warn("Fragment "+n.sn+(r?" p: "+r.index:"")+" of level "+n.level+" finished buffering, but was aborted. state: "+this.state+", audioSwitch: "+this.audioSwitch):("initSegment"!==n.sn&&(this.fragPrevious=n,this.audioSwitch&&(this.audioSwitch=!1,this.hls.trigger(a.Events.AUDIO_TRACK_SWITCHED,{id:this.trackId}))),this.fragBufferedComplete(n,r)))},S.onError=function(t,n){switch(n.details){case g.ErrorDetails.FRAG_LOAD_ERROR:case g.ErrorDetails.FRAG_LOAD_TIMEOUT:case g.ErrorDetails.KEY_LOAD_ERROR:case g.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(u.PlaylistLevelType.AUDIO,n);break;case g.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case g.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:this.state!==i.State.ERROR&&this.state!==i.State.STOPPED&&(this.state=n.fatal?i.State.ERROR:i.State.IDLE,this.warn(n.details+" while loading frag, switching to "+this.state+" state"));break;case g.ErrorDetails.BUFFER_FULL_ERROR:if("audio"===n.parent&&(this.state===i.State.PARSING||this.state===i.State.PARSED)){var r=!0,a=this.getFwdBufferInfo(this.mediaBuffer,u.PlaylistLevelType.AUDIO);a&&a.len>.5&&(r=!this.reduceMaxBufferLength(a.len)),r&&(this.warn("Buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,e.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.resetLoadingState()}}},S.onBufferFlushed=function(e,t){t.type===c.ElementaryStreamTypes.AUDIO&&(this.bufferFlushed=!0)},S._handleTransmuxComplete=function(e){var t,n="audio",r=this.hls,o=e.remuxResult,s=e.chunkMeta,l=this.getCurrentContext(s);if(!l)return this.warn("The loading context changed while buffering fragment "+s.sn+" of level "+s.level+". This chunk will not be buffered."),void this.resetLiveStartWhenNotLoaded(s.level);var u=l.frag,d=l.part,f=o.audio,h=o.text,p=o.id3,v=o.initSegment;if(!this.fragContextChanged(u)){if(this.state=i.State.PARSING,this.audioSwitch&&f&&this.completeAudioSwitch(),null!=v&&v.tracks&&(this._bufferInitSegment(v.tracks,u,s),r.trigger(a.Events.FRAG_PARSING_INIT_SEGMENT,{frag:u,id:n,tracks:v.tracks})),f){var g=f.startPTS,m=f.endPTS,b=f.startDTS,E=f.endDTS;d&&(d.elementaryStreams[c.ElementaryStreamTypes.AUDIO]={startPTS:g,endPTS:m,startDTS:b,endDTS:E}),u.setElementaryStreamInfo(c.ElementaryStreamTypes.AUDIO,g,m,b,E),this.bufferFragmentData(f,u,d,s)}if(null!=p&&null!==(t=p.samples)&&void 0!==t&&t.length){var S=y({frag:u,id:n},p);r.trigger(a.Events.FRAG_PARSING_METADATA,S)}if(h){var T=y({frag:u,id:n},h);r.trigger(a.Events.FRAG_PARSING_USERDATA,T)}}},S._bufferInitSegment=function(e,t,n){if(this.state===i.State.PARSING){e.video&&delete e.video;var r=e.audio;if(r){r.levelCodec=r.codec,r.id="audio",this.log("Init audio buffer, container:"+r.container+", codecs[parsed]=["+r.codec+"]"),this.hls.trigger(a.Events.BUFFER_CODECS,e);var o=r.initSegment;if(null!=o&&o.byteLength){var s={type:"audio",frag:t,part:null,chunkMeta:n,parent:t.type,data:o};this.hls.trigger(a.Events.BUFFER_APPENDING,s)}this.tick()}}},S.loadFragment=function(t,n,a){var o=this.fragmentTracker.getState(t);this.fragCurrent=t,(this.audioSwitch||o===s.FragmentState.NOT_LOADED||o===s.FragmentState.PARTIAL)&&("initSegment"===t.sn?this._loadInitSegment(t):n.live&&!Object(r.isFiniteNumber)(this.initPTS[t.cc])?(this.log("Waiting for video PTS in continuity counter "+t.cc+" of live stream before loading audio fragment "+t.sn+" of level "+this.trackId),this.state=i.State.WAITING_INIT_PTS):(this.startFragRequested=!0,e.prototype.loadFragment.call(this,t,n,a)))},S.completeAudioSwitch=function(){var t=this.hls,n=this.media,r=this.trackId;n&&(this.log("Switching audio track : flushing all audio"),e.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.audioSwitch=!1,t.trigger(a.Events.AUDIO_TRACK_SWITCHED,{id:r})},E}(i.default);t.default=E},"./src/controller/audio-track-controller.ts":function(e,t,n){"use strict";n.r(t);var r=n("./src/events.ts"),i=n("./src/errors.ts"),a=n("./src/controller/base-playlist-controller.ts"),o=n("./src/types/loader.ts");function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=function(e){var t,n;function a(t){var n;return(n=e.call(this,t,"[audio-track-controller]")||this).tracks=[],n.groupId=null,n.tracksInGroup=[],n.trackId=-1,n.trackName="",n.selectDefaultTrack=!0,n.registerListeners(),n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,l(t,n);var u,c,d=a.prototype;return d.registerListeners=function(){var e=this.hls;e.on(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(r.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.on(r.Events.LEVEL_LOADING,this.onLevelLoading,this),e.on(r.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(r.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(r.Events.ERROR,this.onError,this)},d.unregisterListeners=function(){var e=this.hls;e.off(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(r.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.off(r.Events.LEVEL_LOADING,this.onLevelLoading,this),e.off(r.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(r.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(r.Events.ERROR,this.onError,this)},d.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,e.prototype.destroy.call(this)},d.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.trackName="",this.selectDefaultTrack=!0},d.onManifestParsed=function(e,t){this.tracks=t.audioTracks||[]},d.onAudioTrackLoaded=function(e,t){var n=t.id,r=t.details,i=this.tracksInGroup[n];if(i){var a=i.details;i.details=t.details,this.log("audioTrack "+n+" loaded ["+r.startSN+"-"+r.endSN+"]"),n===this.trackId&&(this.retryCount=0,this.playlistLoaded(n,t,a))}else this.warn("Invalid audio track id "+n)},d.onLevelLoading=function(e,t){this.switchLevel(t.level)},d.onLevelSwitching=function(e,t){this.switchLevel(t.level)},d.switchLevel=function(e){var t=this.hls.levels[e];if(null!=t&&t.audioGroupIds){var n=t.audioGroupIds[t.urlId];if(this.groupId!==n){this.groupId=n;var i=this.tracks.filter((function(e){return!n||e.groupId===n}));this.selectDefaultTrack&&!i.some((function(e){return e.default}))&&(this.selectDefaultTrack=!1),this.tracksInGroup=i;var a={audioTracks:i};this.log("Updating audio tracks, "+i.length+' track(s) found in "'+n+'" group-id'),this.hls.trigger(r.Events.AUDIO_TRACKS_UPDATED,a),this.selectInitialTrack()}}},d.onError=function(t,n){e.prototype.onError.call(this,t,n),!n.fatal&&n.context&&n.context.type===o.PlaylistContextType.AUDIO_TRACK&&n.context.id===this.trackId&&n.context.groupId===this.groupId&&this.retryLoadingOrFail(n)},d.setAudioTrack=function(e){var t=this.tracksInGroup;if(e<0||e>=t.length)this.warn("Invalid id passed to audio-track controller");else{this.clearTimer();var n=t[this.trackId];this.log("Now switching to audio-track index "+e);var i=t[e],a=i.id,o=i.groupId,s=void 0===o?"":o,l=i.name,u=i.type,c=i.url;if(this.trackId=e,this.trackName=l,this.selectDefaultTrack=!1,this.hls.trigger(r.Events.AUDIO_TRACK_SWITCHING,{id:a,groupId:s,name:l,type:u,url:c}),!i.details||i.details.live){var d=this.switchParams(i.url,null==n?void 0:n.details);this.loadPlaylist(d)}}},d.selectInitialTrack=function(){var e=this.tracksInGroup;console.assert(e.length,"Initial audio track should be selected when tracks are known");var t=this.trackName,n=this.findTrackId(t)||this.findTrackId();-1!==n?this.setAudioTrack(n):(this.warn("No track found for running audio group-ID: "+this.groupId),this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))},d.findTrackId=function(e){for(var t=this.tracksInGroup,n=0;n<t.length;n++){var r=t[n];if((!this.selectDefaultTrack||r.default)&&(!e||e===r.name))return r.id}return-1},d.loadPlaylist=function(e){var t=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(t)){var n=t.id,i=t.groupId,a=t.url;if(e)try{a=e.addDirectives(a)}catch(e){this.warn("Could not construct new URL with HLS Delivery Directives: "+e)}this.log("loading audio-track playlist for id: "+n),this.clearTimer(),this.hls.trigger(r.Events.AUDIO_TRACK_LOADING,{url:a,id:n,groupId:i,deliveryDirectives:e||null})}},u=a,(c=[{key:"audioTracks",get:function(){return this.tracksInGroup}},{key:"audioTrack",get:function(){return this.trackId},set:function(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}}])&&s(u.prototype,c),a}(a.default);t.default=u},"./src/controller/base-playlist-controller.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var r=n("./src/polyfills/number.ts"),i=n("./src/types/level.ts"),a=n("./src/controller/level-helper.ts"),o=n("./src/utils/logger.ts"),s=n("./src/errors.ts"),l=function(){function e(e,t){this.hls=void 0,this.timer=-1,this.canLoad=!1,this.retryCount=0,this.log=void 0,this.warn=void 0,this.log=o.logger.log.bind(o.logger,t+":"),this.warn=o.logger.warn.bind(o.logger,t+":"),this.hls=e}var t=e.prototype;return t.destroy=function(){this.clearTimer(),this.hls=this.log=this.warn=null},t.onError=function(e,t){t.fatal&&t.type===s.ErrorTypes.NETWORK_ERROR&&this.clearTimer()},t.clearTimer=function(){clearTimeout(this.timer),this.timer=-1},t.startLoad=function(){this.canLoad=!0,this.retryCount=0,this.loadPlaylist()},t.stopLoad=function(){this.canLoad=!1,this.clearTimer()},t.switchParams=function(e,t){var n=null==t?void 0:t.renditionReports;if(n)for(var a=0;a<n.length;a++){var o=n[a],s=""+o.URI;if(s===e.substr(-s.length)){var l=parseInt(o["LAST-MSN"]),u=parseInt(o["LAST-PART"]);if(t&&this.hls.config.lowLatencyMode){var c=Math.min(t.age-t.partTarget,t.targetduration);void 0!==u&&c>t.partTarget&&(u+=1)}if(Object(r.isFiniteNumber)(l))return new i.HlsUrlParameters(l,Object(r.isFiniteNumber)(u)?u:void 0,i.HlsSkip.No)}}},t.loadPlaylist=function(e){},t.shouldLoadTrack=function(e){return this.canLoad&&e&&!!e.url&&(!e.details||e.details.live)},t.playlistLoaded=function(e,t,n){var r=this,i=t.details,o=t.stats,s=o.loading.end?Math.max(0,self.performance.now()-o.loading.end):0;if(i.advancedDateTime=Date.now()-s,i.live||null!=n&&n.live){if(i.reloaded(n),n&&this.log("live playlist "+e+" "+(i.advanced?"REFRESHED "+i.lastPartSn+"-"+i.lastPartIndex:"MISSED")),n&&i.fragments.length>0&&Object(a.mergeDetails)(n,i),!this.canLoad||!i.live)return;var l,u=void 0,c=void 0;if(i.canBlockReload&&i.endSN&&i.advanced){var d=this.hls.config.lowLatencyMode,f=i.lastPartSn,h=i.endSN,p=i.lastPartIndex,v=f===h;-1!==p?(u=v?h+1:f,c=v?d?0:p:p+1):u=h+1;var g=i.age,m=g+i.ageHeader,y=Math.min(m-i.partTarget,1.5*i.targetduration);if(y>0){if(n&&y>n.tuneInGoal)this.warn("CDN Tune-in goal increased from: "+n.tuneInGoal+" to: "+y+" with playlist age: "+i.age),y=0;else{var b=Math.floor(y/i.targetduration);u+=b,void 0!==c&&(c+=Math.round(y%i.targetduration/i.partTarget)),this.log("CDN Tune-in age: "+i.ageHeader+"s last advanced "+g.toFixed(2)+"s goal: "+y+" skip sn "+b+" to part "+c)}i.tuneInGoal=y}if(l=this.getDeliveryDirectives(i,t.deliveryDirectives,u,c),d||!v)return void this.loadPlaylist(l)}else l=this.getDeliveryDirectives(i,t.deliveryDirectives,u,c);var E=Object(a.computeReloadInterval)(i,o);void 0!==u&&i.canBlockReload&&(E-=i.partTarget||1),this.log("reload live playlist "+e+" in "+Math.round(E)+" ms"),this.timer=self.setTimeout((function(){return r.loadPlaylist(l)}),E)}else this.clearTimer()},t.getDeliveryDirectives=function(e,t,n,r){var a=Object(i.getSkipValue)(e,n);return null!=t&&t.skip&&e.deltaUpdateFailed&&(n=t.msn,r=t.part,a=i.HlsSkip.No),new i.HlsUrlParameters(n,r,a)},t.retryLoadingOrFail=function(e){var t,n=this,r=this.hls.config,i=this.retryCount<r.levelLoadingMaxRetry;if(i)if(this.retryCount++,e.details.indexOf("LoadTimeOut")>-1&&null!==(t=e.context)&&void 0!==t&&t.deliveryDirectives)this.warn("retry playlist loading #"+this.retryCount+' after "'+e.details+'"'),this.loadPlaylist();else{var a=Math.min(Math.pow(2,this.retryCount)*r.levelLoadingRetryDelay,r.levelLoadingMaxRetryTimeout);this.timer=self.setTimeout((function(){return n.loadPlaylist()}),a),this.warn("retry playlist loading #"+this.retryCount+" in "+a+' ms after "'+e.details+'"')}else this.warn('cannot recover from error "'+e.details+'"'),this.clearTimer(),e.fatal=!0;return i},e}()},"./src/controller/base-stream-controller.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"State",(function(){return S})),n.d(t,"default",(function(){return T}));var r=n("./src/polyfills/number.ts"),i=n("./src/task-loop.ts"),a=n("./src/controller/fragment-tracker.ts"),o=n("./src/utils/buffer-helper.ts"),s=n("./src/utils/logger.ts"),l=n("./src/events.ts"),u=n("./src/errors.ts"),c=n("./src/types/transmuxer.ts"),d=n("./src/utils/mp4-tools.ts"),f=n("./src/utils/discontinuities.ts"),h=n("./src/controller/fragment-finders.ts"),p=n("./src/controller/level-helper.ts"),v=n("./src/loader/fragment-loader.ts"),g=n("./src/crypt/decrypter.ts"),m=n("./src/utils/time-ranges.ts"),y=n("./src/types/loader.ts");function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var S={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BACKTRACKING:"BACKTRACKING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"},T=function(e){var t,n;function i(t,n,r){var i;return(i=e.call(this)||this).hls=void 0,i.fragPrevious=null,i.fragCurrent=null,i.fragmentTracker=void 0,i.transmuxer=null,i._state=S.STOPPED,i.media=void 0,i.mediaBuffer=void 0,i.config=void 0,i.bitrateTest=!1,i.lastCurrentTime=0,i.nextLoadPosition=0,i.startPosition=0,i.loadedmetadata=!1,i.fragLoadError=0,i.retryDate=0,i.levels=null,i.fragmentLoader=void 0,i.levelLastLoaded=null,i.startFragRequested=!1,i.decrypter=void 0,i.initPTS=[],i.onvseeking=null,i.onvended=null,i.logPrefix="",i.log=void 0,i.warn=void 0,i.logPrefix=r,i.log=s.logger.log.bind(s.logger,r+":"),i.warn=s.logger.warn.bind(s.logger,r+":"),i.hls=t,i.fragmentLoader=new v.default(t.config),i.fragmentTracker=n,i.config=t.config,i.decrypter=new g.default(t,t.config),t.on(l.Events.KEY_LOADED,i.onKeyLoaded,function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(i)),i}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,E(t,n);var T,w,k=i.prototype;return k.doTick=function(){this.onTickEnd()},k.onTickEnd=function(){},k.startLoad=function(e){},k.stopLoad=function(){this.fragmentLoader.abort();var e=this.fragCurrent;e&&this.fragmentTracker.removeFragment(e),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=S.STOPPED},k._streamEnded=function(e,t){var n=this.fragCurrent,r=this.fragmentTracker;if(!t.live&&n&&n.sn===t.endSN&&!e.nextStart){var i=r.getState(n);return i===a.FragmentState.PARTIAL||i===a.FragmentState.OK}return!1},k.onMediaAttached=function(e,t){var n=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),n.addEventListener("seeking",this.onvseeking),n.addEventListener("ended",this.onvended);var r=this.config;this.levels&&r.autoStartLoad&&this.state===S.STOPPED&&this.startLoad(r.startPosition)},k.onMediaDetaching=function(){var e=this.media;null!=e&&e.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},k.onMediaSeeking=function(){var e=this.config,t=this.fragCurrent,n=this.media,i=this.mediaBuffer,a=this.state,s=n?n.currentTime:0,l=o.BufferHelper.bufferInfo(i||n,s,e.maxBufferHole);if(this.log("media seeking to "+(Object(r.isFiniteNumber)(s)?s.toFixed(3):s)+", state: "+a),a===S.ENDED)this.resetLoadingState();else if(t&&!l.len){var u=e.maxFragLookUpTolerance,c=t.start-u,d=s>t.start+t.duration+u;(s<c||d)&&(d&&t.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),t.loader.abort()),this.resetLoadingState())}n&&(this.lastCurrentTime=s),this.loadedmetadata||l.len||(this.nextLoadPosition=this.startPosition=s),this.tickImmediate()},k.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},k.onKeyLoaded=function(e,t){if(this.state===S.KEY_LOADING&&t.frag===this.fragCurrent&&this.levels){this.state=S.IDLE;var n=this.levels[t.frag.level].details;n&&this.loadFragment(t.frag,n,t.frag.start)}},k.onHandlerDestroying=function(){this.stopLoad(),e.prototype.onHandlerDestroying.call(this)},k.onHandlerDestroyed=function(){this.state=S.STOPPED,this.hls.off(l.Events.KEY_LOADED,this.onKeyLoaded,this),this.fragmentLoader&&this.fragmentLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.fragmentLoader=this.fragmentTracker=null,e.prototype.onHandlerDestroyed.call(this)},k.loadKey=function(e,t){this.log("Loading key for "+e.sn+" of ["+t.startSN+"-"+t.endSN+"], "+("[stream-controller]"===this.logPrefix?"level":"track")+" "+e.level),this.state=S.KEY_LOADING,this.fragCurrent=e,this.hls.trigger(l.Events.KEY_LOADING,{frag:e})},k.loadFragment=function(e,t,n){this._loadFragForPlayback(e,t,n)},k._loadFragForPlayback=function(e,t,n){var r=this;this._doFragLoad(e,t,n,(function(t){if(r.fragContextChanged(e))return r.warn("Fragment "+e.sn+(t.part?" p: "+t.part.index:"")+" of level "+e.level+" was dropped during download."),void r.fragmentTracker.removeFragment(e);e.stats.chunkCount++,r._handleFragmentLoadProgress(t)})).then((function(t){if(t){r.fragLoadError=0;var n=r.state;if(!r.fragContextChanged(e))return"payload"in t&&(r.log("Loaded fragment "+e.sn+" of level "+e.level),r.hls.trigger(l.Events.FRAG_LOADED,t),r.state===S.BACKTRACKING)?(r.fragmentTracker.backtrack(e,t),void r.resetFragmentLoading(e)):void r._handleFragmentLoadComplete(t);(n===S.FRAG_LOADING||n===S.BACKTRACKING||!r.fragCurrent&&n===S.PARSING)&&(r.fragmentTracker.removeFragment(e),r.state=S.IDLE)}})).catch((function(t){r.warn(t),r.resetFragmentLoading(e)}))},k.flushMainBuffer=function(e,t,n){if(void 0===n&&(n=null),e-t){var r={startOffset:e,endOffset:t,type:n};this.fragLoadError=0,this.hls.trigger(l.Events.BUFFER_FLUSHING,r)}},k._loadInitSegment=function(e){var t=this;this._doFragLoad(e).then((function(n){if(!n||t.fragContextChanged(e)||!t.levels)throw new Error("init load aborted");return n})).then((function(n){var r=t.hls,i=n.payload,a=e.decryptdata;if(i&&i.byteLength>0&&a&&a.key&&a.iv&&"AES-128"===a.method){var o=self.performance.now();return t.decrypter.webCryptoDecrypt(new Uint8Array(i),a.key.buffer,a.iv.buffer).then((function(t){var i=self.performance.now();return r.trigger(l.Events.FRAG_DECRYPTED,{frag:e,payload:t,stats:{tstart:o,tdecrypt:i}}),n.payload=t,n}))}return n})).then((function(n){var r=t.fragCurrent,i=t.hls,a=t.levels;if(!a)throw new Error("init load aborted, missing levels");var o=a[e.level].details;console.assert(o,"Level details are defined when init segment is loaded");var s=e.stats;t.state=S.IDLE,t.fragLoadError=0,e.data=new Uint8Array(n.payload),s.parsing.start=s.buffering.start=self.performance.now(),s.parsing.end=s.buffering.end=self.performance.now(),n.frag===r&&i.trigger(l.Events.FRAG_BUFFERED,{stats:s,frag:r,part:null,id:e.type}),t.tick()})).catch((function(n){t.warn(n),t.resetFragmentLoading(e)}))},k.fragContextChanged=function(e){var t=this.fragCurrent;return!e||!t||e.level!==t.level||e.sn!==t.sn||e.urlId!==t.urlId},k.fragBufferedComplete=function(e,t){var n=this.mediaBuffer?this.mediaBuffer:this.media;this.log("Buffered "+e.type+" sn: "+e.sn+(t?" part: "+t.index:"")+" of "+("[stream-controller]"===this.logPrefix?"level":"track")+" "+e.level+" "+m.default.toString(o.BufferHelper.getBuffered(n))),this.state=S.IDLE,this.tick()},k._handleFragmentLoadComplete=function(e){var t=this.transmuxer;if(t){var n=e.frag,r=e.part,i=e.partsLoaded,a=!i||0===i.length||i.some((function(e){return!e})),o=new c.ChunkMetadata(n.level,n.sn,n.stats.chunkCount+1,0,r?r.index:-1,!a);t.flush(o)}},k._handleFragmentLoadProgress=function(e){},k._doFragLoad=function(e,t,n,i){var a=this;if(void 0===n&&(n=null),!this.levels)throw new Error("frag load aborted, missing levels");if(n=Math.max(e.start,n||0),this.config.lowLatencyMode&&t){var o=t.partList;if(o&&i){n>e.end&&t.fragmentHint&&(e=t.fragmentHint);var s=this.getNextPart(o,e,n);if(s>-1){var u=o[s];return this.log("Loading part sn: "+e.sn+" p: "+u.index+" cc: "+e.cc+" of playlist ["+t.startSN+"-"+t.endSN+"] parts [0-"+s+"-"+(o.length-1)+"] "+("[stream-controller]"===this.logPrefix?"level":"track")+": "+e.level+", target: "+parseFloat(n.toFixed(3))),this.nextLoadPosition=u.start+u.duration,this.state=S.FRAG_LOADING,this.hls.trigger(l.Events.FRAG_LOADING,{frag:e,part:o[s],targetBufferTime:n}),this.doFragPartsLoad(e,o,s,i).catch((function(e){return a.handleFragLoadError(e)}))}if(!e.url||this.loadedEndOfParts(o,n))return Promise.resolve(null)}}return this.log("Loading fragment "+e.sn+" cc: "+e.cc+" "+(t?"of ["+t.startSN+"-"+t.endSN+"] ":"")+("[stream-controller]"===this.logPrefix?"level":"track")+": "+e.level+", target: "+parseFloat(n.toFixed(3))),Object(r.isFiniteNumber)(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=S.FRAG_LOADING,this.hls.trigger(l.Events.FRAG_LOADING,{frag:e,targetBufferTime:n}),this.fragmentLoader.load(e,i).catch((function(e){return a.handleFragLoadError(e)}))},k.doFragPartsLoad=function(e,t,n,r){var i=this;return new Promise((function(a,o){var s=[];!function n(u){var c=t[u];i.fragmentLoader.loadPart(e,c,r).then((function(r){s[c.index]=r;var o=r.part;i.hls.trigger(l.Events.FRAG_LOADED,r);var d=t[u+1];if(!d||d.fragment!==e)return a({frag:e,part:o,partsLoaded:s});n(u+1)})).catch(o)}(n)}))},k.handleFragLoadError=function(e){var t=e.data;return t&&t.details===u.ErrorDetails.INTERNAL_ABORTED?this.handleFragLoadAborted(t.frag,t.part):this.hls.trigger(l.Events.ERROR,t),null},k._handleTransmuxerFlush=function(e){var t=this.getCurrentContext(e);if(t&&this.state===S.PARSING){var n=t.frag,r=t.part,i=t.level,a=self.performance.now();n.stats.parsing.end=a,r&&(r.stats.parsing.end=a),this.updateLevelTiming(n,r,i,e.partial)}else this.fragCurrent||(this.state=S.IDLE)},k.getCurrentContext=function(e){var t=this.levels,n=e.level,r=e.sn,i=e.part;if(!t||!t[n])return this.warn("Levels object was unset while buffering fragment "+r+" of level "+n+". The current chunk will not be buffered."),null;var a=t[n],o=i>-1?Object(p.getPartWith)(a,r,i):null,s=o?o.fragment:Object(p.getFragmentWithSN)(a,r,this.fragCurrent);return s?{frag:s,part:o,level:a}:null},k.bufferFragmentData=function(e,t,n,r){if(e&&this.state===S.PARSING){var i=e.data1,a=e.data2,o=i;if(i&&a&&(o=Object(d.appendUint8Array)(i,a)),o&&o.length){var s={type:e.type,frag:t,part:n,chunkMeta:r,parent:t.type,data:o};this.hls.trigger(l.Events.BUFFER_APPENDING,s),e.dropped&&e.independent&&!n&&this.flushBufferGap(t)}}},k.flushBufferGap=function(e){var t=this.media;if(t)if(o.BufferHelper.isBuffered(t,t.currentTime)){var n=t.currentTime,r=o.BufferHelper.bufferInfo(t,n,0),i=e.duration,a=Math.min(2*this.config.maxFragLookUpTolerance,.25*i),s=Math.max(Math.min(e.start-a,r.end-a),n+a);e.start-s>a&&this.flushMainBuffer(s,e.start)}else this.flushMainBuffer(0,e.start)},k.getFwdBufferInfo=function(e,t){var n=this.config,i=this.getLoadPosition();if(!Object(r.isFiniteNumber)(i))return null;var a=o.BufferHelper.bufferInfo(e,i,n.maxBufferHole);if(0===a.len&&void 0!==a.nextStart){var s=this.fragmentTracker.getBufferedFrag(i,t);if(s&&a.nextStart<s.end)return o.BufferHelper.bufferInfo(e,i,Math.max(a.nextStart,n.maxBufferHole))}return a},k.getMaxBufferLength=function(e){var t,n=this.config;return t=e?Math.max(8*n.maxBufferSize/e,n.maxBufferLength):n.maxBufferLength,Math.min(t,n.maxMaxBufferLength)},k.reduceMaxBufferLength=function(e){var t=this.config,n=e||t.maxBufferLength;return t.maxMaxBufferLength>=n&&(t.maxMaxBufferLength/=2,this.warn("Reduce max buffer length to "+t.maxMaxBufferLength+"s"),!0)},k.getNextFragment=function(e,t){var n,r,i=t.fragments,a=i.length;if(!a)return null;var o,s=this.config,l=i[0].start;if(t.live){var u=s.initialLiveManifestSize;if(a<u)return this.warn("Not enough fragments to start playback (have: "+a+", need: "+u+")"),null;t.PTSKnown||this.startFragRequested||-1!==this.startPosition||(o=this.getInitialLiveFragment(t,i),this.startPosition=o?this.hls.liveSyncPosition||o.start:e)}else e<=l&&(o=i[0]);if(!o){var c=s.lowLatencyMode?t.partEnd:t.fragmentEnd;o=this.getFragmentAtPosition(e,c,t)}return null===(n=o)||void 0===n||!n.initSegment||null!==(r=o)&&void 0!==r&&r.initSegment.data||this.bitrateTest||(o=o.initSegment),o},k.getNextPart=function(e,t,n){for(var r=-1,i=!1,a=!0,o=0,s=e.length;o<s;o++){var l=e[o];if(a=a&&!l.independent,r>-1&&n<l.start)break;var u=l.loaded;!u&&(i||l.independent||a)&&l.fragment===t&&(r=o),i=u}return r},k.loadedEndOfParts=function(e,t){var n=e[e.length-1];return n&&t>n.start&&n.loaded},k.getInitialLiveFragment=function(e,t){var n=this.fragPrevious,r=null;if(n){if(e.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: "+n.programDateTime),r=Object(h.findFragmentByPDT)(t,n.endProgramDateTime,this.config.maxFragLookUpTolerance)),!r){var i=n.sn+1;if(i>=e.startSN&&i<=e.endSN){var a=t[i-e.startSN];n.cc===a.cc&&(r=a,this.log("Live playlist, switching playlist, load frag with next SN: "+r.sn))}r||(r=Object(h.findFragWithCC)(t,n.cc))&&this.log("Live playlist, switching playlist, load frag with same CC: "+r.sn)}}else{var o=this.hls.liveSyncPosition;null!==o&&(r=this.getFragmentAtPosition(o,this.bitrateTest?e.fragmentEnd:e.edge,e))}return r},k.getFragmentAtPosition=function(e,t,n){var r,i=this.config,o=this.fragPrevious,s=n.fragments,l=n.endSN,u=n.fragmentHint,c=i.maxFragLookUpTolerance,d=!!(i.lowLatencyMode&&n.partList&&u);if(d&&u&&!this.bitrateTest&&(s=s.concat(u),l=u.sn),e<t){var f=e>t-c?0:c;r=Object(h.findFragmentByPTS)(o,s,e,f)}else r=s[s.length-1];if(r){var p=r.sn-n.startSN,v=o&&r.level===o.level,g=s[p+1];if(this.fragmentTracker.getState(r)===a.FragmentState.BACKTRACKED){r=null;for(var m=p;s[m]&&this.fragmentTracker.getState(s[m])===a.FragmentState.BACKTRACKED;)r=o?s[m--]:s[--m];r||(r=g)}else o&&r.sn===o.sn&&!d&&v&&(r.sn<l&&this.fragmentTracker.getState(g)!==a.FragmentState.OK?(this.log("SN "+r.sn+" just loaded, load next one: "+g.sn),r=g):r=null)}return r},k.synchronizeToLiveEdge=function(e){var t=this.config,n=this.media;if(n){var r=this.hls.liveSyncPosition,i=n.currentTime,a=e.fragments[0].start,o=e.edge,s=i>=a-t.maxFragLookUpTolerance&&i<=o;if(null!==r&&n.duration>r&&(i<r||!s)){var l=void 0!==t.liveMaxLatencyDuration?t.liveMaxLatencyDuration:t.liveMaxLatencyDurationCount*e.targetduration;(!s&&n.readyState<4||i<o-l)&&(this.loadedmetadata||(this.nextLoadPosition=r),n.readyState&&(this.warn("Playback: "+i.toFixed(3)+" is located too far from the end of live sliding playlist: "+o+", reset currentTime to : "+r.toFixed(3)),n.currentTime=r))}}},k.alignPlaylists=function(e,t){var n=this.levels,i=this.levelLastLoaded,a=this.fragPrevious,o=null!==i?n[i]:null,s=e.fragments.length;if(!s)return this.warn("No fragments in live playlist"),0;var l=e.fragments[0].start,u=!t,c=e.alignedSliding&&Object(r.isFiniteNumber)(l);if(u||!c&&!l){Object(f.alignStream)(a,o,e);var d=e.fragments[0].start;return this.log("Live playlist sliding: "+d.toFixed(2)+" start-sn: "+(t?t.startSN:"na")+"->"+e.startSN+" prev-sn: "+(a?a.sn:"na")+" fragments: "+s),d}return l},k.waitForCdnTuneIn=function(e){return e.live&&e.canBlockReload&&e.tuneInGoal>Math.max(e.partHoldBack,3*e.partTarget)},k.setStartPosition=function(e,t){var n=this.startPosition;if(n<t&&(n=-1),-1===n||-1===this.lastCurrentTime){var i=e.startTimeOffset;Object(r.isFiniteNumber)(i)?(n=t+i,i<0&&(n+=e.totalduration),n=Math.min(Math.max(t,n),t+e.totalduration),this.log("Start time offset "+i+" found in playlist, adjust startPosition to "+n),this.startPosition=n):e.live?n=this.hls.liveSyncPosition||t:this.startPosition=n=0,this.lastCurrentTime=n}this.nextLoadPosition=n},k.getLoadPosition=function(){var e=this.media,t=0;return this.loadedmetadata&&e?t=e.currentTime:this.nextLoadPosition&&(t=this.nextLoadPosition),t},k.handleFragLoadAborted=function(e,t){this.transmuxer&&"initSegment"!==e.sn&&e.stats.aborted&&(this.warn("Fragment "+e.sn+(t?" part"+t.index:"")+" of level "+e.level+" was aborted"),this.resetFragmentLoading(e))},k.resetFragmentLoading=function(e){this.fragCurrent&&this.fragContextChanged(e)||(this.state=S.IDLE)},k.onFragmentOrKeyLoadError=function(e,t){if(!t.fatal){var n=t.frag;if(n&&n.type===e){var r=this.fragCurrent;console.assert(r&&n.sn===r.sn&&n.level===r.level&&n.urlId===r.urlId,"Frag load error must match current frag to retry");var i=this.config;if(this.fragLoadError+1<=i.fragLoadingMaxRetry){if(this.resetLiveStartWhenNotLoaded(n.level))return;var a=Math.min(Math.pow(2,this.fragLoadError)*i.fragLoadingRetryDelay,i.fragLoadingMaxRetryTimeout);this.warn("Fragment "+n.sn+" of "+e+" "+n.level+" failed to load, retrying in "+a+"ms"),this.retryDate=self.performance.now()+a,this.fragLoadError++,this.state=S.FRAG_LOADING_WAITING_RETRY}else t.levelRetry?(e===y.PlaylistLevelType.AUDIO&&(this.fragCurrent=null),this.fragLoadError=0,this.state=S.IDLE):(s.logger.error(t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.hls.stopLoad(),this.state=S.ERROR)}}},k.afterBufferFlushed=function(e,t,n){if(e){var r=o.BufferHelper.getBuffered(e);this.fragmentTracker.detectEvictedFragments(t,r,n),this.state===S.ENDED&&this.resetLoadingState()}},k.resetLoadingState=function(){this.fragCurrent=null,this.fragPrevious=null,this.state=S.IDLE},k.resetLiveStartWhenNotLoaded=function(e){if(!this.loadedmetadata){this.startFragRequested=!1;var t=this.levels?this.levels[e].details:null;if(null!=t&&t.live)return this.startPosition=-1,this.setStartPosition(t,0),this.resetLoadingState(),!0;this.nextLoadPosition=this.startPosition}return!1},k.updateLevelTiming=function(e,t,n,r){var i=this,a=n.details;console.assert(!!a,"level.details must be defined"),Object.keys(e.elementaryStreams).reduce((function(t,o){var s=e.elementaryStreams[o];if(s){var u=s.endPTS-s.startPTS;if(u<=0)return i.warn("Could not parse fragment "+e.sn+" "+o+" duration reliably ("+u+") resetting transmuxer to fallback to playlist timing"),i.resetTransmuxer(),t||!1;var c=r?0:Object(p.updateFragPTSDTS)(a,e,s.startPTS,s.endPTS,s.startDTS,s.endDTS);return i.hls.trigger(l.Events.LEVEL_PTS_UPDATED,{details:a,level:n,drift:c,type:o,frag:e,start:s.startPTS,end:s.endPTS}),!0}return t}),!1)?(this.state=S.PARSED,this.hls.trigger(l.Events.FRAG_PARSED,{frag:e,part:t})):this.resetLoadingState()},k.resetTransmuxer=function(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)},T=i,(w=[{key:"state",get:function(){return this._state},set:function(e){var t=this._state;t!==e&&(this._state=e,this.log(t+"->"+e))}}])&&b(T.prototype,w),i}(i.default)},"./src/controller/buffer-controller.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));var r=n("./src/polyfills/number.ts"),i=n("./src/events.ts"),a=n("./src/utils/logger.ts"),o=n("./src/errors.ts"),s=n("./src/utils/buffer-helper.ts"),l=n("./src/utils/mediasource-helper.ts"),u=n("./src/loader/fragment.ts"),c=n("./src/controller/buffer-operation-queue.ts"),d=Object(l.getMediaSource)(),f=/([ha]vc.)(?:\.[^.,]+)+/,h=function(){function e(e){var t=this;this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=function(){var e=t.hls,n=t.media,r=t.mediaSource;a.logger.log("[buffer-controller]: Media source opened"),n&&(t.updateMediaElementDuration(),e.trigger(i.Events.MEDIA_ATTACHED,{media:n})),r&&r.removeEventListener("sourceopen",t._onMediaSourceOpen),t.checkPendingTracks()},this._onMediaSourceClose=function(){a.logger.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=function(){a.logger.log("[buffer-controller]: Media source ended")},this.hls=e,this._initSourceBuffer(),this.registerListeners()}var t=e.prototype;return t.hasSourceTypes=function(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0},t.destroy=function(){this.unregisterListeners(),this.details=null},t.registerListeners=function(){var e=this.hls;e.on(i.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(i.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.on(i.Events.BUFFER_RESET,this.onBufferReset,this),e.on(i.Events.BUFFER_APPENDING,this.onBufferAppending,this),e.on(i.Events.BUFFER_CODECS,this.onBufferCodecs,this),e.on(i.Events.BUFFER_EOS,this.onBufferEos,this),e.on(i.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(i.Events.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(i.Events.FRAG_PARSED,this.onFragParsed,this),e.on(i.Events.FRAG_CHANGED,this.onFragChanged,this)},t.unregisterListeners=function(){var e=this.hls;e.off(i.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(i.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.off(i.Events.BUFFER_RESET,this.onBufferReset,this),e.off(i.Events.BUFFER_APPENDING,this.onBufferAppending,this),e.off(i.Events.BUFFER_CODECS,this.onBufferCodecs,this),e.off(i.Events.BUFFER_EOS,this.onBufferEos,this),e.off(i.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(i.Events.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(i.Events.FRAG_PARSED,this.onFragParsed,this),e.off(i.Events.FRAG_CHANGED,this.onFragChanged,this)},t._initSourceBuffer=function(){this.sourceBuffer={},this.operationQueue=new c.default(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]}},t.onManifestParsed=function(e,t){var n=2;(t.audio&&!t.video||!t.altAudio)&&(n=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=n,this.details=null,a.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},t.onMediaAttaching=function(e,t){var n=this.media=t.media;if(n&&d){var r=this.mediaSource=new d;r.addEventListener("sourceopen",this._onMediaSourceOpen),r.addEventListener("sourceended",this._onMediaSourceEnded),r.addEventListener("sourceclose",this._onMediaSourceClose),n.src=self.URL.createObjectURL(r),this._objectUrl=n.src}},t.onMediaDetaching=function(){var e=this.media,t=this.mediaSource,n=this._objectUrl;if(t){if(a.logger.log("[buffer-controller]: media source detaching"),"open"===t.readyState)try{t.endOfStream()}catch(e){a.logger.warn("[buffer-controller]: onMediaDetaching: "+e.message+" while calling endOfStream")}this.onBufferReset(),t.removeEventListener("sourceopen",this._onMediaSourceOpen),t.removeEventListener("sourceended",this._onMediaSourceEnded),t.removeEventListener("sourceclose",this._onMediaSourceClose),e&&(n&&self.URL.revokeObjectURL(n),e.src===n?(e.removeAttribute("src"),e.load()):a.logger.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(i.Events.MEDIA_DETACHED,void 0)},t.onBufferReset=function(){var e=this;this.getSourceBufferTypes().forEach((function(t){var n=e.sourceBuffer[t];try{n&&(e.removeBufferListeners(t),e.mediaSource&&e.mediaSource.removeSourceBuffer(n),e.sourceBuffer[t]=void 0)}catch(e){a.logger.warn("[buffer-controller]: Failed to reset the "+t+" buffer",e)}})),this._initSourceBuffer()},t.onBufferCodecs=function(e,t){var n=this,r=this.getSourceBufferTypes().length;Object.keys(t).forEach((function(e){if(r){var i=n.tracks[e];if(i&&"function"==typeof i.buffer.changeType){var a=t[e],o=a.codec,s=a.levelCodec,l=a.container;if((i.levelCodec||i.codec).replace(f,"$1")!==(s||o).replace(f,"$1")){var u=l+";codecs="+(s||o);n.appendChangeType(e,u)}}}else n.pendingTracks[e]=t[e]})),r||(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())},t.appendChangeType=function(e,t){var n=this,r=this.operationQueue,i={execute:function(){var i=n.sourceBuffer[e];i&&(a.logger.log("[buffer-controller]: changing "+e+" sourceBuffer type to "+t),i.changeType(t)),r.shiftAndExecuteNext(e)},onStart:function(){},onComplete:function(){},onError:function(t){a.logger.warn("[buffer-controller]: Failed to change "+e+" SourceBuffer type",t)}};r.append(i,e)},t.onBufferAppending=function(e,t){var n=this,r=this.hls,l=this.operationQueue,u=this.tracks,c=t.data,d=t.type,f=t.frag,h=t.part,p=t.chunkMeta,v=p.buffering[d],g=self.performance.now();v.start=g;var m=f.stats.buffering,y=h?h.stats.buffering:null;0===m.start&&(m.start=g),y&&0===y.start&&(y.start=g);var b=u.audio,E="audio"===d&&1===p.id&&"audio/mpeg"===(null==b?void 0:b.container),S={execute:function(){if(v.executeStart=self.performance.now(),E){var e=n.sourceBuffer[d];if(e){var t=f.start-e.timestampOffset;Math.abs(t)>=.1&&(a.logger.log("[buffer-controller]: Updating audio SourceBuffer timestampOffset to "+f.start+" (delta: "+t+") sn: "+f.sn+")"),e.timestampOffset=f.start)}}n.appendExecutor(c,d)},onStart:function(){},onComplete:function(){var e=self.performance.now();v.executeEnd=v.end=e,0===m.first&&(m.first=e),y&&0===y.first&&(y.first=e);var t=n.sourceBuffer,r={};for(var a in t)r[a]=s.BufferHelper.getBuffered(t[a]);n.appendError=0,n.hls.trigger(i.Events.BUFFER_APPENDED,{type:d,frag:f,part:h,chunkMeta:p,parent:f.type,timeRanges:r})},onError:function(e){a.logger.error("[buffer-controller]: Error encountered while trying to append to the "+d+" SourceBuffer",e);var t={type:o.ErrorTypes.MEDIA_ERROR,parent:f.type,details:o.ErrorDetails.BUFFER_APPEND_ERROR,err:e,fatal:!1};e.code===DOMException.QUOTA_EXCEEDED_ERR?t.details=o.ErrorDetails.BUFFER_FULL_ERROR:(n.appendError++,t.details=o.ErrorDetails.BUFFER_APPEND_ERROR,n.appendError>r.config.appendErrorMaxRetry&&(a.logger.error("[buffer-controller]: Failed "+r.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),t.fatal=!0)),r.trigger(i.Events.ERROR,t)}};l.append(S,d)},t.onBufferFlushing=function(e,t){var n=this,r=this.operationQueue,o=function(e){return{execute:n.removeExecutor.bind(n,e,t.startOffset,t.endOffset),onStart:function(){},onComplete:function(){n.hls.trigger(i.Events.BUFFER_FLUSHED,{type:e})},onError:function(t){a.logger.warn("[buffer-controller]: Failed to remove from "+e+" SourceBuffer",t)}}};t.type?r.append(o(t.type),t.type):this.getSourceBufferTypes().forEach((function(e){r.append(o(e),e)}))},t.onFragParsed=function(e,t){var n=this,r=t.frag,o=t.part,s=[],l=o?o.elementaryStreams:r.elementaryStreams;l[u.ElementaryStreamTypes.AUDIOVIDEO]?s.push("audiovideo"):(l[u.ElementaryStreamTypes.AUDIO]&&s.push("audio"),l[u.ElementaryStreamTypes.VIDEO]&&s.push("video")),0===s.length&&a.logger.warn("Fragments must have at least one ElementaryStreamType set. type: "+r.type+" level: "+r.level+" sn: "+r.sn),this.blockBuffers((function(){var e=self.performance.now();r.stats.buffering.end=e,o&&(o.stats.buffering.end=e);var t=o?o.stats:r.stats;n.hls.trigger(i.Events.FRAG_BUFFERED,{frag:r,part:o,stats:t,id:r.type})}),s)},t.onFragChanged=function(e,t){this.flushBackBuffer()},t.onBufferEos=function(e,t){var n=this;this.getSourceBufferTypes().reduce((function(e,r){var i=n.sourceBuffer[r];return t.type&&t.type!==r||i&&!i.ended&&(i.ended=!0,a.logger.log("[buffer-controller]: "+r+" sourceBuffer now EOS")),e&&!(i&&!i.ended)}),!0)&&this.blockBuffers((function(){var e=n.mediaSource;e&&"open"===e.readyState&&e.endOfStream()}))},t.onLevelUpdated=function(e,t){var n=t.details;n.fragments.length&&(this.details=n,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())},t.flushBackBuffer=function(){var e=this.hls,t=this.details,n=this.media,a=this.sourceBuffer;if(n&&null!==t){var o=this.getSourceBufferTypes();if(o.length){var l=t.live&&null!==e.config.liveBackBufferLength?e.config.liveBackBufferLength:e.config.backBufferLength;if(Object(r.isFiniteNumber)(l)&&!(l<0)){var u=n.currentTime,c=t.levelTargetDuration,d=Math.max(l,c),f=Math.floor(u/c)*c-d;o.forEach((function(n){var r=a[n];if(r){var o=s.BufferHelper.getBuffered(r);o.length>0&&f>o.start(0)&&(e.trigger(i.Events.BACK_BUFFER_REACHED,{bufferEnd:f}),t.live&&e.trigger(i.Events.LIVE_BACK_BUFFER_REACHED,{bufferEnd:f}),e.trigger(i.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:f,type:n}))}}))}}}},t.updateMediaElementDuration=function(){if(this.details&&this.media&&this.mediaSource&&"open"===this.mediaSource.readyState){var e=this.details,t=this.hls,n=this.media,i=this.mediaSource,o=e.fragments[0].start+e.totalduration,s=n.duration,l=Object(r.isFiniteNumber)(i.duration)?i.duration:0;e.live&&t.config.liveDurationInfinity?(a.logger.log("[buffer-controller]: Media Source duration is set to Infinity"),i.duration=1/0,this.updateSeekableRange(e)):(o>l&&o>s||!Object(r.isFiniteNumber)(s))&&(a.logger.log("[buffer-controller]: Updating Media Source duration to "+o.toFixed(3)),i.duration=o)}},t.updateSeekableRange=function(e){var t=this.mediaSource,n=e.fragments;if(n.length&&e.live&&null!=t&&t.setLiveSeekableRange){var r=Math.max(0,n[0].start),i=Math.max(r,r+e.totalduration);t.setLiveSeekableRange(r,i)}},t.checkPendingTracks=function(){var e=this.bufferCodecEventsExpected,t=this.operationQueue,n=this.pendingTracks,r=Object.keys(n).length;if(r&&!e||2===r){this.createSourceBuffers(n),this.pendingTracks={};var a=this.getSourceBufferTypes();if(0===a.length)return void this.hls.trigger(i.Events.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,reason:"could not create source buffer for media codec(s)"});a.forEach((function(e){t.executeNext(e)}))}},t.createSourceBuffers=function(e){var t=this.sourceBuffer,n=this.mediaSource;if(!n)throw Error("createSourceBuffers called when mediaSource was null");var r=0;for(var s in e)if(!t[s]){var l=e[s];if(!l)throw Error("source buffer exists for track "+s+", however track does not");var u=l.levelCodec||l.codec,c=l.container+";codecs="+u;a.logger.log("[buffer-controller]: creating sourceBuffer("+c+")");try{var d=t[s]=n.addSourceBuffer(c),f=s;this.addBufferListener(f,"updatestart",this._onSBUpdateStart),this.addBufferListener(f,"updateend",this._onSBUpdateEnd),this.addBufferListener(f,"error",this._onSBUpdateError),this.tracks[s]={buffer:d,codec:u,container:l.container,levelCodec:l.levelCodec,id:l.id},r++}catch(e){a.logger.error("[buffer-controller]: error while trying to add sourceBuffer: "+e.message),this.hls.trigger(i.Events.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:e,mimeType:c})}}r&&this.hls.trigger(i.Events.BUFFER_CREATED,{tracks:this.tracks})},t._onSBUpdateStart=function(e){this.operationQueue.current(e).onStart()},t._onSBUpdateEnd=function(e){var t=this.operationQueue;t.current(e).onComplete(),t.shiftAndExecuteNext(e)},t._onSBUpdateError=function(e,t){a.logger.error("[buffer-controller]: "+e+" SourceBuffer error",t),this.hls.trigger(i.Events.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1});var n=this.operationQueue.current(e);n&&n.onError(t)},t.removeExecutor=function(e,t,n){var i=this.media,o=this.mediaSource,s=this.operationQueue,l=this.sourceBuffer[e];if(!i||!o||!l)return a.logger.warn("[buffer-controller]: Attempting to remove from the "+e+" SourceBuffer, but it does not exist"),void s.shiftAndExecuteNext(e);var u=Object(r.isFiniteNumber)(i.duration)?i.duration:1/0,c=Object(r.isFiniteNumber)(o.duration)?o.duration:1/0,d=Math.max(0,t),f=Math.min(n,u,c);f>d?(a.logger.log("[buffer-controller]: Removing ["+d+","+f+"] from the "+e+" SourceBuffer"),console.assert(!l.updating,e+" sourceBuffer must not be updating"),l.remove(d,f)):s.shiftAndExecuteNext(e)},t.appendExecutor=function(e,t){var n=this.operationQueue,r=this.sourceBuffer[t];if(!r)return a.logger.warn("[buffer-controller]: Attempting to append to the "+t+" SourceBuffer, but it does not exist"),void n.shiftAndExecuteNext(t);r.ended=!1,console.assert(!r.updating,t+" sourceBuffer must not be updating"),r.appendBuffer(e)},t.blockBuffers=function(e,t){var n=this;if(void 0===t&&(t=this.getSourceBufferTypes()),!t.length)return a.logger.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve(e);var r=this.operationQueue,i=t.map((function(e){return r.appendBlocker(e)}));Promise.all(i).then((function(){e(),t.forEach((function(e){var t=n.sourceBuffer[e];t&&t.updating||r.shiftAndExecuteNext(e)}))}))},t.getSourceBufferTypes=function(){return Object.keys(this.sourceBuffer)},t.addBufferListener=function(e,t,n){var r=this.sourceBuffer[e];if(r){var i=n.bind(this,e);this.listeners[e].push({event:t,listener:i}),r.addEventListener(t,i)}},t.removeBufferListeners=function(e){var t=this.sourceBuffer[e];t&&this.listeners[e].forEach((function(e){t.removeEventListener(e.event,e.listener)}))},e}()},"./src/controller/buffer-operation-queue.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./src/utils/logger.ts"),i=function(){function e(e){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=e}var t=e.prototype;return t.append=function(e,t){var n=this.queues[t];n.push(e),1===n.length&&this.buffers[t]&&this.executeNext(t)},t.insertAbort=function(e,t){this.queues[t].unshift(e),this.executeNext(t)},t.appendBlocker=function(e){var t,n=new Promise((function(e){t=e})),r={execute:t,onStart:function(){},onComplete:function(){},onError:function(){}};return this.append(r,e),n},t.executeNext=function(e){var t=this.buffers,n=this.queues,i=t[e],a=n[e];if(a.length){var o=a[0];try{o.execute()}catch(t){r.logger.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),o.onError(t),i&&i.updating||(a.shift(),this.executeNext(e))}}},t.shiftAndExecuteNext=function(e){this.queues[e].shift(),this.executeNext(e)},t.current=function(e){return this.queues[e][0]},e}()},"./src/controller/cap-level-controller.ts":function(e,t,n){"use strict";n.r(t);var r=n("./src/events.ts");function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(e){this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.hls=void 0,this.streamController=void 0,this.clientRect=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}var t,n,a,o=e.prototype;return o.setStreamController=function(e){this.streamController=e},o.destroy=function(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null},o.registerListeners=function(){var e=this.hls;e.on(r.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(r.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(r.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.on(r.Events.BUFFER_CODECS,this.onBufferCodecs,this),e.on(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},o.unregisterListener=function(){var e=this.hls;e.off(r.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(r.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(r.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.off(r.Events.BUFFER_CODECS,this.onBufferCodecs,this),e.off(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},o.onFpsDropLevelCapping=function(t,n){e.isLevelAllowed(n.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(n.droppedLevel)},o.onMediaAttaching=function(e,t){this.media=t.media instanceof HTMLVideoElement?t.media:null},o.onManifestParsed=function(e,t){var n=this.hls;this.restrictedLevels=[],this.firstLevel=t.firstLevel,n.config.capLevelToPlayerSize&&t.video&&this.startCapping()},o.onBufferCodecs=function(e,t){this.hls.config.capLevelToPlayerSize&&t.video&&this.startCapping()},o.onMediaDetaching=function(){this.stopCapping()},o.detectPlayerSize=function(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){var e=this.hls.levels;if(e.length){var t=this.hls;t.autoLevelCapping=this.getMaxLevel(e.length-1),t.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}},o.getMaxLevel=function(t){var n=this,r=this.hls.levels;if(!r.length)return-1;var i=r.filter((function(r,i){return e.isLevelAllowed(i,n.restrictedLevels)&&i<=t}));return this.clientRect=null,e.getMaxLevelByMediaSize(i,this.mediaWidth,this.mediaHeight)},o.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},o.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)},o.getDimensions=function(){if(this.clientRect)return this.clientRect;var e=this.media,t={width:0,height:0};if(e){var n=e.getBoundingClientRect();t.width=n.width,t.height=n.height,t.width||t.height||(t.width=n.right-n.left||e.width||0,t.height=n.bottom-n.top||e.height||0)}return this.clientRect=t,t},e.isLevelAllowed=function(e,t){return void 0===t&&(t=[]),-1===t.indexOf(e)},e.getMaxLevelByMediaSize=function(e,t,n){if(!e||!e.length)return-1;for(var r,i,a=e.length-1,o=0;o<e.length;o+=1){var s=e[o];if((s.width>=t||s.height>=n)&&(r=s,!(i=e[o+1])||r.width!==i.width||r.height!==i.height)){a=o;break}}return a},t=e,a=[{key:"contentScaleFactor",get:function(){var e=1;try{e=self.devicePixelRatio}catch(e){}return e}}],(n=[{key:"mediaWidth",get:function(){return this.getDimensions().width*e.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*e.contentScaleFactor}}])&&i(t.prototype,n),a&&i(t,a),e}();t.default=a},"./src/controller/eme-controller.ts":function(e,t,n){"use strict";n.r(t);var r=n("./src/events.ts"),i=n("./src/errors.ts"),a=n("./src/utils/logger.ts"),o=n("./src/utils/mediakeys-helper.ts");function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(e){this.hls=void 0,this._widevineLicenseUrl=void 0,this._licenseXhrSetup=void 0,this._licenseResponseCallback=void 0,this._emeEnabled=void 0,this._requestMediaKeySystemAccess=void 0,this._drmSystemOptions=void 0,this._config=void 0,this._mediaKeysList=[],this._media=null,this._hasSetMediaKeys=!1,this._requestLicenseFailureCount=0,this.mediaKeysPromise=null,this._onMediaEncrypted=this.onMediaEncrypted.bind(this),this.hls=e,this._config=e.config,this._widevineLicenseUrl=this._config.widevineLicenseUrl,this._licenseXhrSetup=this._config.licenseXhrSetup,this._licenseResponseCallback=this._config.licenseResponseCallback,this._emeEnabled=this._config.emeEnabled,this._requestMediaKeySystemAccess=this._config.requestMediaKeySystemAccessFunc,this._drmSystemOptions=this._config.drmSystemOptions,this._registerListeners()}var t,n,l=e.prototype;return l.destroy=function(){this._unregisterListeners(),this.hls=this._onMediaEncrypted=null,this._requestMediaKeySystemAccess=null},l._registerListeners=function(){this.hls.on(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(r.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(r.Events.MANIFEST_PARSED,this.onManifestParsed,this)},l._unregisterListeners=function(){this.hls.off(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(r.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(r.Events.MANIFEST_PARSED,this.onManifestParsed,this)},l.getLicenseServerUrl=function(e){switch(e){case o.KeySystems.WIDEVINE:if(!this._widevineLicenseUrl)break;return this._widevineLicenseUrl}throw new Error('no license server URL configured for key-system "'+e+'"')},l._attemptKeySystemAccess=function(e,t,n){var r=this,i=function(e,t,n,r){if(e===o.KeySystems.WIDEVINE)return function(e,t,n){var r={audioCapabilities:[],videoCapabilities:[]};return e.forEach((function(e){r.audioCapabilities.push({contentType:'audio/mp4; codecs="'+e+'"',robustness:n.audioRobustness||""})})),t.forEach((function(e){r.videoCapabilities.push({contentType:'video/mp4; codecs="'+e+'"',robustness:n.videoRobustness||""})})),[r]}(t,n,r);throw new Error("Unknown key-system: "+e)}(e,t,n,this._drmSystemOptions);a.logger.log("Requesting encrypted media key-system access");var s=this.requestMediaKeySystemAccess(e,i);this.mediaKeysPromise=s.then((function(t){return r._onMediaKeySystemAccessObtained(e,t)})),s.catch((function(t){a.logger.error('Failed to obtain key-system "'+e+'" access:',t)}))},l._onMediaKeySystemAccessObtained=function(e,t){var n=this;a.logger.log('Access for key-system "'+e+'" obtained');var r={mediaKeysSessionInitialized:!1,mediaKeySystemAccess:t,mediaKeySystemDomain:e};this._mediaKeysList.push(r);var i=Promise.resolve().then((function(){return t.createMediaKeys()})).then((function(t){return r.mediaKeys=t,a.logger.log('Media-keys created for key-system "'+e+'"'),n._onMediaKeysCreated(),t}));return i.catch((function(e){a.logger.error("Failed to create media-keys:",e)})),i},l._onMediaKeysCreated=function(){var e=this;this._mediaKeysList.forEach((function(t){t.mediaKeysSession||(t.mediaKeysSession=t.mediaKeys.createSession(),e._onNewMediaKeySession(t.mediaKeysSession))}))},l._onNewMediaKeySession=function(e){var t=this;a.logger.log("New key-system session "+e.sessionId),e.addEventListener("message",(function(n){t._onKeySessionMessage(e,n.message)}),!1)},l._onKeySessionMessage=function(e,t){a.logger.log("Got EME message event, creating license request"),this._requestLicense(t,(function(t){a.logger.log("Received license data (length: "+(t?t.byteLength:t)+"), updating key-session"),e.update(t)}))},l.onMediaEncrypted=function(e){var t=this;if(a.logger.log('Media is encrypted using "'+e.initDataType+'" init data type'),!this.mediaKeysPromise)return a.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been requested"),void this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});var n=function(n){t._media&&(t._attemptSetMediaKeys(n),t._generateRequestWithPreferredKeySession(e.initDataType,e.initData))};this.mediaKeysPromise.then(n).catch(n)},l._attemptSetMediaKeys=function(e){if(!this._media)throw new Error("Attempted to set mediaKeys without first attaching a media element");if(!this._hasSetMediaKeys){var t=this._mediaKeysList[0];if(!t||!t.mediaKeys)return a.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});a.logger.log("Setting keys for encrypted media"),this._media.setMediaKeys(t.mediaKeys),this._hasSetMediaKeys=!0}},l._generateRequestWithPreferredKeySession=function(e,t){var n=this,o=this._mediaKeysList[0];if(!o)return a.logger.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});if(o.mediaKeysSessionInitialized)a.logger.warn("Key-Session already initialized but requested again");else{var s=o.mediaKeysSession;if(!s)return a.logger.error("Fatal: Media is encrypted but no key-session existing"),void this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!0});if(!t)return a.logger.warn("Fatal: initData required for generating a key session is null"),void this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_INIT_DATA,fatal:!0});a.logger.log('Generating key-session request for "'+e+'" init data type'),o.mediaKeysSessionInitialized=!0,s.generateRequest(e,t).then((function(){a.logger.debug("Key-session generation succeeded")})).catch((function(e){a.logger.error("Error generating key-session request:",e),n.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!1})}))}},l._createLicenseXhr=function(e,t,n){var r=new XMLHttpRequest;r.responseType="arraybuffer",r.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,r,e,t,n);var i=this._licenseXhrSetup;if(i)try{i.call(this.hls,r,e),i=void 0}catch(e){a.logger.error(e)}try{r.readyState||r.open("POST",e,!0),i&&i.call(this.hls,r,e)}catch(e){throw new Error("issue setting up KeySystem license XHR "+e)}return r},l._onLicenseRequestReadyStageChange=function(e,t,n,o){if(4===e.readyState)if(200===e.status){this._requestLicenseFailureCount=0,a.logger.log("License request succeeded");var s=e.response,l=this._licenseResponseCallback;if(l)try{s=l.call(this.hls,e,t)}catch(e){a.logger.error(e)}o(s)}else{if(a.logger.error("License Request XHR failed ("+t+"). Status: "+e.status+" ("+e.statusText+")"),this._requestLicenseFailureCount++,this._requestLicenseFailureCount>3)return void this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0});var u=3-this._requestLicenseFailureCount+1;a.logger.warn("Retrying license request, "+u+" attempts left"),this._requestLicense(n,o)}},l._generateLicenseRequestChallenge=function(e,t){if(e.mediaKeySystemDomain===o.KeySystems.WIDEVINE)return t;throw new Error("unsupported key-system: "+e.mediaKeySystemDomain)},l._requestLicense=function(e,t){a.logger.log("Requesting content license for key-system");var n=this._mediaKeysList[0];if(!n)return a.logger.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});try{var o=this.getLicenseServerUrl(n.mediaKeySystemDomain),s=this._createLicenseXhr(o,e,t);a.logger.log("Sending license request to URL: "+o);var l=this._generateLicenseRequestChallenge(n,e);s.send(l)}catch(e){a.logger.error("Failure requesting DRM license: "+e),this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}},l.onMediaAttached=function(e,t){if(this._emeEnabled){var n=t.media;this._media=n,n.addEventListener("encrypted",this._onMediaEncrypted)}},l.onMediaDetached=function(){var e=this._media,t=this._mediaKeysList;e&&(e.removeEventListener("encrypted",this._onMediaEncrypted),this._media=null,this._mediaKeysList=[],Promise.all(t.map((function(e){if(e.mediaKeysSession)return e.mediaKeysSession.close().catch((function(){}))}))).then((function(){return e.setMediaKeys(null)})).catch((function(){})))},l.onManifestParsed=function(e,t){if(this._emeEnabled){var n=t.levels.map((function(e){return e.audioCodec})).filter((function(e){return!!e})),r=t.levels.map((function(e){return e.videoCodec})).filter((function(e){return!!e}));this._attemptKeySystemAccess(o.KeySystems.WIDEVINE,n,r)}},t=e,(n=[{key:"requestMediaKeySystemAccess",get:function(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess}}])&&s(t.prototype,n),e}();t.default=l},"./src/controller/fps-controller.ts":function(e,t,n){"use strict";n.r(t);var r=n("./src/events.ts"),i=n("./src/utils/logger.ts"),a=function(){function e(e){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}var t=e.prototype;return t.setStreamController=function(e){this.streamController=e},t.registerListeners=function(){this.hls.on(r.Events.MEDIA_ATTACHING,this.onMediaAttaching,this)},t.unregisterListeners=function(){this.hls.off(r.Events.MEDIA_ATTACHING,this.onMediaAttaching)},t.destroy=function(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null},t.onMediaAttaching=function(e,t){var n=this.hls.config;if(n.capLevelOnFPSDrop){var r=t.media instanceof self.HTMLVideoElement?t.media:null;this.media=r,r&&"function"==typeof r.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),n.fpsDroppedMonitoringPeriod)}},t.checkFPS=function(e,t,n){var a=performance.now();if(t){if(this.lastTime){var o=a-this.lastTime,s=n-this.lastDroppedFrames,l=t-this.lastDecodedFrames,u=1e3*s/o,c=this.hls;if(c.trigger(r.Events.FPS_DROP,{currentDropped:s,currentDecoded:l,totalDroppedFrames:n}),u>0&&s>c.config.fpsDroppedMonitoringThreshold*l){var d=c.currentLevel;i.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+d),d>0&&(-1===c.autoLevelCapping||c.autoLevelCapping>=d)&&(d-=1,c.trigger(r.Events.FPS_DROP_LEVEL_CAPPING,{level:d,droppedLevel:c.currentLevel}),c.autoLevelCapping=d,this.streamController.nextLevelSwitch())}}this.lastTime=a,this.lastDroppedFrames=n,this.lastDecodedFrames=t}},t.checkFPSInterval=function(){var e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){var t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)},e}();t.default=a},"./src/controller/fragment-finders.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"findFragmentByPDT",(function(){return a})),n.d(t,"findFragmentByPTS",(function(){return o})),n.d(t,"fragmentWithinToleranceTest",(function(){return s})),n.d(t,"pdtWithinToleranceTest",(function(){return l})),n.d(t,"findFragWithCC",(function(){return u}));var r=n("./src/polyfills/number.ts"),i=n("./src/utils/binary-search.ts");function a(e,t,n){if(null===t||!Array.isArray(e)||!e.length||!Object(r.isFiniteNumber)(t))return null;if(t<(e[0].programDateTime||0))return null;if(t>=(e[e.length-1].endProgramDateTime||0))return null;n=n||0;for(var i=0;i<e.length;++i){var a=e[i];if(l(t,n,a))return a}return null}function o(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=0);var a=null;return e?a=t[e.sn-t[0].sn+1]||null:0===n&&0===t[0].start&&(a=t[0]),a&&0===s(n,r,a)?a:i.default.search(t,s.bind(null,n,r))||a}function s(e,t,n){void 0===e&&(e=0),void 0===t&&(t=0);var r=Math.min(t,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.start+n.duration-r<=e?1:n.start-r>e&&n.start?-1:0}function l(e,t,n){var r=1e3*Math.min(t,n.duration+(n.deltaPTS?n.deltaPTS:0));return(n.endProgramDateTime||0)-r>e}function u(e,t){return i.default.search(e,(function(e){return e.cc<t?1:e.cc>t?-1:0}))}},"./src/controller/fragment-tracker.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"FragmentState",(function(){return r})),n.d(t,"FragmentTracker",(function(){return o}));var r,i=n("./src/events.ts"),a=n("./src/types/loader.ts");!function(e){e.NOT_LOADED="NOT_LOADED",e.BACKTRACKED="BACKTRACKED",e.APPENDING="APPENDING",e.PARTIAL="PARTIAL",e.OK="OK"}(r||(r={}));var o=function(){function e(e){this.activeFragment=null,this.activeParts=null,this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hls=e,this._registerListeners()}var t=e.prototype;return t._registerListeners=function(){var e=this.hls;e.on(i.Events.BUFFER_APPENDED,this.onBufferAppended,this),e.on(i.Events.FRAG_BUFFERED,this.onFragBuffered,this),e.on(i.Events.FRAG_LOADED,this.onFragLoaded,this)},t._unregisterListeners=function(){var e=this.hls;e.off(i.Events.BUFFER_APPENDED,this.onBufferAppended,this),e.off(i.Events.FRAG_BUFFERED,this.onFragBuffered,this),e.off(i.Events.FRAG_LOADED,this.onFragLoaded,this)},t.destroy=function(){this._unregisterListeners(),this.fragments=this.timeRanges=null},t.getAppendedFrag=function(e,t){if(t===a.PlaylistLevelType.MAIN){var n=this.activeFragment,r=this.activeParts;if(!n)return null;if(r)for(var i=r.length;i--;){var o=r[i],s=o?o.end:n.appendedPTS;if(o.start<=e&&void 0!==s&&e<=s)return i>9&&(this.activeParts=r.slice(i-9)),o}else if(n.start<=e&&void 0!==n.appendedPTS&&e<=n.appendedPTS)return n}return this.getBufferedFrag(e,t)},t.getBufferedFrag=function(e,t){for(var n=this.fragments,r=Object.keys(n),i=r.length;i--;){var a=n[r[i]];if((null==a?void 0:a.body.type)===t&&a.buffered){var o=a.body;if(o.start<=e&&e<=o.end)return o}}return null},t.detectEvictedFragments=function(e,t,n){var r=this;Object.keys(this.fragments).forEach((function(i){var a=r.fragments[i];if(a)if(a.buffered){var o=a.range[e];o&&o.time.some((function(e){var n=!r.isTimeBuffered(e.startPTS,e.endPTS,t);return n&&r.removeFragment(a.body),n}))}else a.body.type===n&&r.removeFragment(a.body)}))},t.detectPartialFragments=function(e){var t=this,n=this.timeRanges,r=e.frag,i=e.part;if(n&&"initSegment"!==r.sn){var a=l(r),o=this.fragments[a];o&&(Object.keys(n).forEach((function(e){var a=r.elementaryStreams[e];if(a){var s=n[e],l=null!==i||!0===a.partial;o.range[e]=t.getBufferedTimes(r,i,l,s)}})),o.backtrack=o.loaded=null,Object.keys(o.range).length?o.buffered=!0:this.removeFragment(o.body))}},t.fragBuffered=function(e){var t=l(e),n=this.fragments[t];n&&(n.backtrack=n.loaded=null,n.buffered=!0)},t.getBufferedTimes=function(e,t,n,r){for(var i={time:[],partial:n},a=t?t.start:e.start,o=t?t.end:e.end,s=e.minEndPTS||o,l=e.maxStartPTS||a,u=0;u<r.length;u++){var c=r.start(u)-this.bufferPadding,d=r.end(u)+this.bufferPadding;if(l>=c&&s<=d){i.time.push({startPTS:Math.max(a,r.start(u)),endPTS:Math.min(o,r.end(u))});break}if(a<d&&o>c)i.partial=!0,i.time.push({startPTS:Math.max(a,r.start(u)),endPTS:Math.min(o,r.end(u))});else if(o<=c)break}return i},t.getPartialFragment=function(e){var t,n,r,i=null,a=0,o=this.bufferPadding,l=this.fragments;return Object.keys(l).forEach((function(u){var c=l[u];c&&s(c)&&(n=c.body.start-o,r=c.body.end+o,e>=n&&e<=r&&(t=Math.min(e-n,r-e),a<=t&&(i=c.body,a=t)))})),i},t.getState=function(e){var t=l(e),n=this.fragments[t];return n?n.buffered?s(n)?r.PARTIAL:r.OK:n.backtrack?r.BACKTRACKED:r.APPENDING:r.NOT_LOADED},t.backtrack=function(e,t){var n=l(e),r=this.fragments[n];if(!r||r.backtrack)return null;var i=r.backtrack=t||r.loaded;return r.loaded=null,i},t.getBacktrackData=function(e){var t=l(e),n=this.fragments[t];if(n){var r,i=n.backtrack;if(null!=i&&null!==(r=i.payload)&&void 0!==r&&r.byteLength)return i;this.removeFragment(e)}return null},t.isTimeBuffered=function(e,t,n){for(var r,i,a=0;a<n.length;a++){if(r=n.start(a)-this.bufferPadding,i=n.end(a)+this.bufferPadding,e>=r&&t<=i)return!0;if(t<=r)return!1}return!1},t.onFragLoaded=function(e,t){var n=t.frag,r=t.part;if("initSegment"!==n.sn&&!n.bitrateTest&&!r){var i=l(n);this.fragments[i]={body:n,loaded:t,backtrack:null,buffered:!1,range:Object.create(null)}}},t.onBufferAppended=function(e,t){var n=this,r=t.frag,i=t.part,o=t.timeRanges;if(r.type===a.PlaylistLevelType.MAIN)if(this.activeFragment=r,i){var s=this.activeParts;s||(this.activeParts=s=[]),s.push(i)}else this.activeParts=null;this.timeRanges=o,Object.keys(o).forEach((function(e){var t=o[e];if(n.detectEvictedFragments(e,t),!i)for(var a=0;a<t.length;a++)r.appendedPTS=Math.max(t.end(a),r.appendedPTS||0)}))},t.onFragBuffered=function(e,t){this.detectPartialFragments(t)},t.hasFragment=function(e){var t=l(e);return!!this.fragments[t]},t.removeFragmentsInRange=function(e,t,n){var r=this;Object.keys(this.fragments).forEach((function(i){var a=r.fragments[i];if(a&&a.buffered){var o=a.body;o.type===n&&o.start<t&&o.end>e&&r.removeFragment(o)}}))},t.removeFragment=function(e){var t=l(e);e.stats.loaded=0,e.clearElementaryStreamInfo(),delete this.fragments[t]},t.removeAllFragments=function(){this.fragments=Object.create(null),this.activeFragment=null,this.activeParts=null},e}();function s(e){var t,n;return e.buffered&&((null===(t=e.range.video)||void 0===t?void 0:t.partial)||(null===(n=e.range.audio)||void 0===n?void 0:n.partial))}function l(e){return e.type+"_"+e.level+"_"+e.urlId+"_"+e.sn}},"./src/controller/gap-controller.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"STALL_MINIMUM_DURATION_MS",(function(){return s})),n.d(t,"MAX_START_GAP_JUMP",(function(){return l})),n.d(t,"SKIP_BUFFER_HOLE_STEP_SECONDS",(function(){return u})),n.d(t,"SKIP_BUFFER_RANGE_START",(function(){return c})),n.d(t,"default",(function(){return d}));var r=n("./src/utils/buffer-helper.ts"),i=n("./src/errors.ts"),a=n("./src/events.ts"),o=n("./src/utils/logger.ts"),s=250,l=2,u=.1,c=.05,d=function(){function e(e,t,n,r){this.config=void 0,this.media=void 0,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=e,this.media=t,this.fragmentTracker=n,this.hls=r}var t=e.prototype;return t.destroy=function(){this.hls=this.fragmentTracker=this.media=null},t.poll=function(e){var t=this.config,n=this.media,i=this.stalled,a=n.currentTime,u=n.seeking,c=this.seeking&&!u,d=!this.seeking&&u;if(this.seeking=u,a===e){if((d||c)&&(this.stalled=null),!n.paused&&!n.ended&&0!==n.playbackRate&&r.BufferHelper.getBuffered(n).length){var f=r.BufferHelper.bufferInfo(n,a,0),h=f.len>0,p=f.nextStart||0;if(h||p){if(u){var v=f.len>l,g=!p||p-a>l&&!this.fragmentTracker.getPartialFragment(a);if(v||g)return;this.moved=!1}if(!this.moved&&null!==this.stalled){var m,y=Math.max(p,f.start||0)-a,b=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,E=(null==b||null===(m=b.details)||void 0===m?void 0:m.live)?2*b.details.targetduration:l;if(y>0&&y<=E)return void this._trySkipBufferHole(null)}var S=self.performance.now();if(null!==i){var T=S-i;!u&&T>=s&&this._reportStall(f.len);var w=r.BufferHelper.bufferInfo(n,a,t.maxBufferHole);this._tryFixBufferStall(w,T)}else this.stalled=S}}}else if(this.moved=!0,null!==i){if(this.stallReported){var k=self.performance.now()-i;o.logger.warn("playback not stuck anymore @"+a+", after "+Math.round(k)+"ms"),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}},t._tryFixBufferStall=function(e,t){var n=this.config,r=this.fragmentTracker,i=this.media.currentTime,a=r.getPartialFragment(i);a&&this._trySkipBufferHole(a)||e.len>n.maxBufferHole&&t>1e3*n.highBufferWatchdogPeriod&&(o.logger.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())},t._reportStall=function(e){var t=this.hls,n=this.media;this.stallReported||(this.stallReported=!0,o.logger.warn("Playback stalling at @"+n.currentTime+" due to low buffer (buffer="+e+")"),t.trigger(a.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:e}))},t._trySkipBufferHole=function(e){for(var t=this.config,n=this.hls,s=this.media,l=s.currentTime,d=0,f=r.BufferHelper.getBuffered(s),h=0;h<f.length;h++){var p=f.start(h);if(l+t.maxBufferHole>=d&&l<p){var v=Math.max(p+c,s.currentTime+u);return o.logger.warn("skipping hole, adjusting currentTime from "+l+" to "+v),this.moved=!0,this.stalled=null,s.currentTime=v,e&&n.trigger(a.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+l+" to "+v,frag:e}),v}d=f.end(h)}return 0},t._tryNudgeBuffer=function(){var e=this.config,t=this.hls,n=this.media,r=n.currentTime,s=(this.nudgeRetry||0)+1;if(this.nudgeRetry=s,s<e.nudgeMaxRetry){var l=r+s*e.nudgeOffset;o.logger.warn("Nudging 'currentTime' from "+r+" to "+l),n.currentTime=l,t.trigger(a.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else o.logger.error("Playhead still not moving while enough data buffered @"+r+" after "+e.nudgeMaxRetry+" nudges"),t.trigger(a.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})},e}()},"./src/controller/id3-track-controller.ts":function(e,t,n){"use strict";n.r(t);var r=n("./src/events.ts"),i=n("./src/utils/texttrack-utils.ts"),a=n("./src/demux/id3.ts"),o=function(){function e(e){this.hls=void 0,this.id3Track=null,this.media=null,this.hls=e,this._registerListeners()}var t=e.prototype;return t.destroy=function(){this._unregisterListeners()},t._registerListeners=function(){var e=this.hls;e.on(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(r.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on(r.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},t._unregisterListeners=function(){var e=this.hls;e.off(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(r.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off(r.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},t.onMediaAttached=function(e,t){this.media=t.media},t.onMediaDetaching=function(){this.id3Track&&(Object(i.clearCurrentCues)(this.id3Track),this.id3Track=null,this.media=null)},t.getID3Track=function(e){if(this.media){for(var t=0;t<e.length;t++){var n=e[t];if("metadata"===n.kind&&"id3"===n.label)return Object(i.sendAddTrackEvent)(n,this.media),n}return this.media.addTextTrack("metadata","id3")}},t.onFragParsingMetadata=function(e,t){if(this.media){var n=t.frag,r=t.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var i=self.WebKitDataCue||self.VTTCue||self.TextTrackCue,o=0;o<r.length;o++){var s=a.getID3Frames(r[o].data);if(s){var l=r[o].pts,u=o<r.length-1?r[o+1].pts:n.end;u-l<=0&&(u=l+.25);for(var c=0;c<s.length;c++){var d=s[c];if(!a.isTimeStampFrame(d)){var f=new i(l,u,"");f.value=d,this.id3Track.addCue(f)}}}}}},t.onBufferFlushing=function(e,t){var n=t.startOffset,r=t.endOffset,a=t.type;if(!a||"audio"===a){var o=this.id3Track;o&&Object(i.removeCuesInRange)(o,n,r)}},e}();t.default=o},"./src/controller/latency-controller.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./src/errors.ts"),i=n("./src/events.ts"),a=n("./src/utils/logger.ts");function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(e){var t=this;this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=function(){return t.timeupdate()},this.hls=e,this.config=e.config,this.registerListeners()}var t,n,s=e.prototype;return s.destroy=function(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null},s.registerListeners=function(){this.hls.on(i.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(i.Events.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(i.Events.ERROR,this.onError,this)},s.unregisterListeners=function(){this.hls.off(i.Events.MEDIA_ATTACHED,this.onMediaAttached),this.hls.off(i.Events.MEDIA_DETACHING,this.onMediaDetaching),this.hls.off(i.Events.MANIFEST_LOADING,this.onManifestLoading),this.hls.off(i.Events.LEVEL_UPDATED,this.onLevelUpdated),this.hls.off(i.Events.ERROR,this.onError)},s.onMediaAttached=function(e,t){this.media=t.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)},s.onMediaDetaching=function(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)},s.onManifestLoading=function(){this.levelDetails=null,this._latency=null,this.stallCount=0},s.onLevelUpdated=function(e,t){var n=t.details;this.levelDetails=n,n.advanced&&this.timeupdate(),!n.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)},s.onError=function(e,t){t.details===r.ErrorDetails.BUFFER_STALLED_ERROR&&(this.stallCount++,a.logger.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))},s.timeupdate=function(){var e=this.media,t=this.levelDetails;if(e&&t){this.currentTime=e.currentTime;var n=this.computeLatency();if(null!==n){this._latency=n;var r=this.config,i=r.lowLatencyMode,a=r.maxLiveSyncPlaybackRate;if(i&&1!==a){var o=this.targetLatency;if(null!==o){var s=n-o,l=s<Math.min(this.maxLatency,o+t.targetduration);if(t.live&&l&&s>.05&&this.forwardBufferLength>1){var u=Math.min(2,Math.max(1,a)),c=Math.round(2/(1+Math.exp(-.75*s-this.edgeStalled))*20)/20;e.playbackRate=Math.min(u,Math.max(1,c))}else 1!==e.playbackRate&&0!==e.playbackRate&&(e.playbackRate=1)}}}}},s.estimateLiveEdge=function(){var e=this.levelDetails;return null===e?null:e.edge+e.age},s.computeLatency=function(){var e=this.estimateLiveEdge();return null===e?null:e-this.currentTime},t=e,(n=[{key:"latency",get:function(){return this._latency||0}},{key:"maxLatency",get:function(){var e=this.config,t=this.levelDetails;return void 0!==e.liveMaxLatencyDuration?e.liveMaxLatencyDuration:t?e.liveMaxLatencyDurationCount*t.targetduration:0}},{key:"targetLatency",get:function(){var e=this.levelDetails;if(null===e)return null;var t=e.holdBack,n=e.partHoldBack,r=e.targetduration,i=this.config,a=i.liveSyncDuration,o=i.liveSyncDurationCount,s=i.lowLatencyMode,l=this.hls.userConfig,u=s&&n||t;(l.liveSyncDuration||l.liveSyncDurationCount||0===u)&&(u=void 0!==a?a:o*r);var c=r;return u+Math.min(1*this.stallCount,c)}},{key:"liveSyncPosition",get:function(){var e=this.estimateLiveEdge(),t=this.targetLatency,n=this.levelDetails;if(null===e||null===t||null===n)return null;var r=n.edge,i=e-t-this.edgeStalled,a=r-n.totalduration,o=r-(this.config.lowLatencyMode&&n.partTarget||n.targetduration);return Math.min(Math.max(a,i),o)}},{key:"drift",get:function(){var e=this.levelDetails;return null===e?1:e.drift}},{key:"edgeStalled",get:function(){var e=this.levelDetails;if(null===e)return 0;var t=3*(this.config.lowLatencyMode&&e.partTarget||e.targetduration);return Math.max(e.age-t,0)}},{key:"forwardBufferLength",get:function(){var e=this.media,t=this.levelDetails;if(!e||!t)return 0;var n=e.buffered.length;return n?e.buffered.end(n-1):t.edge-this.currentTime}}])&&o(t.prototype,n),e}()},"./src/controller/level-controller.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var r=n("./src/types/level.ts"),i=n("./src/events.ts"),a=n("./src/errors.ts"),o=n("./src/utils/codecs.ts"),s=n("./src/controller/level-helper.ts"),l=n("./src/controller/base-playlist-controller.ts"),u=n("./src/types/loader.ts");function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),p=function(e){var t,n;function l(t){var n;return(n=e.call(this,t,"[level-controller]")||this)._levels=[],n._firstLevel=-1,n._startLevel=void 0,n.currentLevelIndex=-1,n.manualLevelIndex=-1,n.onParsedComplete=void 0,n._registerListeners(),n}n=e,(t=l).prototype=Object.create(n.prototype),t.prototype.constructor=t,f(t,n);var p,v,g=l.prototype;return g._registerListeners=function(){var e=this.hls;e.on(i.Events.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(i.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.on(i.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(i.Events.FRAG_LOADED,this.onFragLoaded,this),e.on(i.Events.ERROR,this.onError,this)},g._unregisterListeners=function(){var e=this.hls;e.off(i.Events.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(i.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.off(i.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(i.Events.FRAG_LOADED,this.onFragLoaded,this),e.off(i.Events.ERROR,this.onError,this)},g.destroy=function(){this._unregisterListeners(),this.manualLevelIndex=-1,this._levels.length=0,e.prototype.destroy.call(this)},g.startLoad=function(){this._levels.forEach((function(e){e.loadError=0})),e.prototype.startLoad.call(this)},g.onManifestLoaded=function(e,t){var n,l,u=[],c=[],d=[],f={},p=!1,v=!1,g=!1;if(t.levels.forEach((function(e){var t=e.attrs;p=p||!(!e.width||!e.height),v=v||!!e.videoCodec,g=g||!!e.audioCodec,h&&e.audioCodec&&-1!==e.audioCodec.indexOf("mp4a.40.34")&&(e.audioCodec=void 0);var n=e.bitrate+"-"+e.attrs.RESOLUTION+"-"+e.attrs.CODECS;(l=f[n])?l.url.push(e.url):(l=new r.Level(e),f[n]=l,u.push(l)),t&&(t.AUDIO&&Object(s.addGroupId)(l,"audio",t.AUDIO),t.SUBTITLES&&Object(s.addGroupId)(l,"text",t.SUBTITLES))})),(p||v)&&g&&(u=u.filter((function(e){var t=e.videoCodec,n=e.width,r=e.height;return!!t||!(!n||!r)}))),u=u.filter((function(e){var t=e.audioCodec,n=e.videoCodec;return(!t||Object(o.isCodecSupportedInMp4)(t,"audio"))&&(!n||Object(o.isCodecSupportedInMp4)(n,"video"))})),t.audioTracks&&(c=t.audioTracks.filter((function(e){return!e.audioCodec||Object(o.isCodecSupportedInMp4)(e.audioCodec,"audio")})),Object(s.assignTrackIdsByGroup)(c)),t.subtitles&&(d=t.subtitles,Object(s.assignTrackIdsByGroup)(d)),u.length>0){n=u[0].bitrate,u.sort((function(e,t){return e.bitrate-t.bitrate})),this._levels=u;for(var m=0;m<u.length;m++)if(u[m].bitrate===n){this._firstLevel=m,this.log("manifest loaded, "+u.length+" level(s) found, first bitrate: "+n);break}var y=g&&!v,b={levels:u,audioTracks:c,subtitleTracks:d,firstLevel:this._firstLevel,stats:t.stats,audio:g,video:v,altAudio:!y&&c.some((function(e){return!!e.url}))};this.hls.trigger(i.Events.MANIFEST_PARSED,b),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}else this.hls.trigger(i.Events.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:t.url,reason:"no level with compatible codecs found in manifest"})},g.onError=function(t,n){if(e.prototype.onError.call(this,t,n),!n.fatal){var r=n.context,i=this._levels[this.currentLevelIndex];if(r&&(r.type===u.PlaylistContextType.AUDIO_TRACK&&i.audioGroupIds&&r.groupId===i.audioGroupIds[i.urlId]||r.type===u.PlaylistContextType.SUBTITLE_TRACK&&i.textGroupIds&&r.groupId===i.textGroupIds[i.urlId]))this.redundantFailover(this.currentLevelIndex);else{var o,s=!1,l=!0;switch(n.details){case a.ErrorDetails.FRAG_LOAD_ERROR:case a.ErrorDetails.FRAG_LOAD_TIMEOUT:case a.ErrorDetails.KEY_LOAD_ERROR:case a.ErrorDetails.KEY_LOAD_TIMEOUT:if(n.frag){var c=this._levels[n.frag.level];c?(c.fragmentError++,c.fragmentError>this.hls.config.fragLoadingMaxRetry&&(o=n.frag.level)):o=n.frag.level}break;case a.ErrorDetails.LEVEL_LOAD_ERROR:case a.ErrorDetails.LEVEL_LOAD_TIMEOUT:r&&(r.deliveryDirectives&&(l=!1),o=r.level),s=!0;break;case a.ErrorDetails.REMUX_ALLOC_ERROR:o=n.level,s=!0}void 0!==o&&this.recoverLevel(n,o,s,l)}}},g.recoverLevel=function(e,t,n,r){var i=e.details,a=this._levels[t];if(a.loadError++,n){if(!this.retryLoadingOrFail(e))return void(this.currentLevelIndex=-1);e.levelRetry=!0}if(r){var o=a.url.length;if(o>1&&a.loadError<o)e.levelRetry=!0,this.redundantFailover(t);else if(-1===this.manualLevelIndex){var s=0===t?this._levels.length-1:t-1;this.currentLevelIndex!==s&&0===this._levels[s].loadError&&(this.warn(i+": switch to "+s),e.levelRetry=!0,this.hls.nextAutoLevel=s)}}},g.redundantFailover=function(e){var t=this._levels[e],n=t.url.length;if(n>1){var r=(t.urlId+1)%n;this.warn("Switching to redundant URL-id "+r),this._levels.forEach((function(e){e.urlId=r})),this.level=e}},g.onFragLoaded=function(e,t){var n=t.frag;if(void 0!==n&&n.type===u.PlaylistLevelType.MAIN){var r=this._levels[n.level];void 0!==r&&(r.fragmentError=0,r.loadError=0)}},g.onLevelLoaded=function(e,t){var n,r,i=t.level,a=t.details,o=this._levels[i];if(!o)return this.warn("Invalid level index "+i),void(null!==(r=t.deliveryDirectives)&&void 0!==r&&r.skip&&(a.deltaUpdateFailed=!0));i===this.currentLevelIndex?(0===o.fragmentError&&(o.loadError=0,this.retryCount=0),this.playlistLoaded(i,t,o.details)):null!==(n=t.deliveryDirectives)&&void 0!==n&&n.skip&&(a.deltaUpdateFailed=!0)},g.onAudioTrackSwitched=function(e,t){var n=this.hls.levels[this.currentLevelIndex];if(n&&n.audioGroupIds){for(var r=-1,i=this.hls.audioTracks[t.id].groupId,a=0;a<n.audioGroupIds.length;a++)if(n.audioGroupIds[a]===i){r=a;break}r!==n.urlId&&(n.urlId=r,this.startLoad())}},g.loadPlaylist=function(e){var t=this.currentLevelIndex,n=this._levels[t];if(this.canLoad&&n&&n.url.length>0){var r=n.urlId,a=n.url[r];if(e)try{a=e.addDirectives(a)}catch(e){this.warn("Could not construct new URL with HLS Delivery Directives: "+e)}this.log("Attempt loading level index "+t+(e?" at sn "+e.msn+" part "+e.part:"")+" with URL-id "+r+" "+a),this.clearTimer(),this.hls.trigger(i.Events.LEVEL_LOADING,{url:a,level:t,id:r,deliveryDirectives:e||null})}},g.removeLevel=function(e,t){var n=function(e,n){return n!==t},r=this._levels.filter((function(r,i){return i!==e||r.url.length>1&&void 0!==t&&(r.url=r.url.filter(n),r.audioGroupIds&&(r.audioGroupIds=r.audioGroupIds.filter(n)),r.textGroupIds&&(r.textGroupIds=r.textGroupIds.filter(n)),r.urlId=0,!0)})).map((function(e,t){var n=e.details;return null!=n&&n.fragments&&n.fragments.forEach((function(e){e.level=t})),e}));this._levels=r,this.hls.trigger(i.Events.LEVELS_UPDATED,{levels:r})},p=l,(v=[{key:"levels",get:function(){return 0===this._levels.length?null:this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(e){var t,n=this._levels;if(0!==n.length&&(this.currentLevelIndex!==e||null===(t=n[e])||void 0===t||!t.details)){if(e<0||e>=n.length){var r=e<0;if(this.hls.trigger(i.Events.ERROR,{type:a.ErrorTypes.OTHER_ERROR,details:a.ErrorDetails.LEVEL_SWITCH_ERROR,level:e,fatal:r,reason:"invalid level idx"}),r)return;e=Math.min(e,n.length-1)}this.clearTimer();var o=this.currentLevelIndex,s=n[o],l=n[e];this.log("switching to level "+e+" from "+o),this.currentLevelIndex=e;var u=c({},l,{level:e,maxBitrate:l.maxBitrate,uri:l.uri,urlId:l.urlId});delete u._urlId,this.hls.trigger(i.Events.LEVEL_SWITCHING,u);var d=l.details;if(!d||d.live){var f=this.switchParams(l.uri,null==s?void 0:s.details);this.loadPlaylist(f)}}}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(e){this.manualLevelIndex=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(e){this._firstLevel=e}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var e=this.hls.config.startLevel;return void 0!==e?e:this._firstLevel}return this._startLevel},set:function(e){this._startLevel=e}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(e){this.level=e,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=e)}}])&&d(p.prototype,v),l}(l.default)},"./src/controller/level-helper.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"addGroupId",(function(){return a})),n.d(t,"assignTrackIdsByGroup",(function(){return o})),n.d(t,"updatePTS",(function(){return s})),n.d(t,"updateFragPTSDTS",(function(){return u})),n.d(t,"mergeDetails",(function(){return c})),n.d(t,"mapPartIntersection",(function(){return d})),n.d(t,"mapFragmentIntersection",(function(){return f})),n.d(t,"adjustSliding",(function(){return h})),n.d(t,"addSliding",(function(){return p})),n.d(t,"computeReloadInterval",(function(){return v})),n.d(t,"getFragmentWithSN",(function(){return g})),n.d(t,"getPartWith",(function(){return m}));var r=n("./src/polyfills/number.ts"),i=n("./src/utils/logger.ts");function a(e,t,n){switch(t){case"audio":e.audioGroupIds||(e.audioGroupIds=[]),e.audioGroupIds.push(n);break;case"text":e.textGroupIds||(e.textGroupIds=[]),e.textGroupIds.push(n)}}function o(e){var t={};e.forEach((function(e){var n=e.groupId||"";e.id=t[n]=t[n]||0,t[n]++}))}function s(e,t,n){l(e[t],e[n])}function l(e,t){var n=t.startPTS;if(Object(r.isFiniteNumber)(n)){var i,a=0;t.sn>e.sn?(a=n-e.start,i=e):(a=e.start-n,i=t),i.duration!==a&&(i.duration=a)}else t.sn>e.sn?e.cc===t.cc&&e.minEndPTS?t.start=e.start+(e.minEndPTS-e.start):t.start=e.start+e.duration:t.start=Math.max(e.start-t.duration,0)}function u(e,t,n,a,o,s){a-n<=0&&(i.logger.warn("Fragment should have a positive duration",t),a=n+t.duration,s=o+t.duration);var u=n,c=a,d=t.startPTS,f=t.endPTS;if(Object(r.isFiniteNumber)(d)){var h=Math.abs(d-n);Object(r.isFiniteNumber)(t.deltaPTS)?t.deltaPTS=Math.max(h,t.deltaPTS):t.deltaPTS=h,u=Math.max(n,d),n=Math.min(n,d),o=Math.min(o,t.startDTS),c=Math.min(a,f),a=Math.max(a,f),s=Math.max(s,t.endDTS)}t.duration=a-n;var p=n-t.start;t.appendedPTS=a,t.start=t.startPTS=n,t.maxStartPTS=u,t.startDTS=o,t.endPTS=a,t.minEndPTS=c,t.endDTS=s;var v,g=t.sn;if(!e||g<e.startSN||g>e.endSN)return 0;var m=g-e.startSN,y=e.fragments;for(y[m]=t,v=m;v>0;v--)l(y[v],y[v-1]);for(v=m;v<y.length-1;v++)l(y[v],y[v+1]);return e.fragmentHint&&l(y[y.length-1],e.fragmentHint),e.PTSKnown=e.alignedSliding=!0,p}function c(e,t){for(var n=null,a=e.fragments,o=a.length-1;o>=0;o--){var s=a[o].initSegment;if(s){n=s;break}}e.fragmentHint&&delete e.fragmentHint.endPTS;var l,c=0;if(f(e,t,(function(e,i){var a;e.relurl&&(c=e.cc-i.cc),Object(r.isFiniteNumber)(e.startPTS)&&Object(r.isFiniteNumber)(e.endPTS)&&(i.start=i.startPTS=e.startPTS,i.startDTS=e.startDTS,i.appendedPTS=e.appendedPTS,i.maxStartPTS=e.maxStartPTS,i.endPTS=e.endPTS,i.endDTS=e.endDTS,i.minEndPTS=e.minEndPTS,i.duration=e.endPTS-e.startPTS,i.duration&&(l=i),t.PTSKnown=t.alignedSliding=!0),i.elementaryStreams=e.elementaryStreams,i.loader=e.loader,i.stats=e.stats,i.urlId=e.urlId,e.initSegment?(i.initSegment=e.initSegment,n=e.initSegment):i.initSegment&&i.initSegment.relurl!=(null===(a=n)||void 0===a?void 0:a.relurl)||(i.initSegment=n)})),t.skippedSegments&&(t.deltaUpdateFailed=t.fragments.some((function(e){return!e})),t.deltaUpdateFailed)){i.logger.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(var p=t.skippedSegments;p--;)t.fragments.shift();t.startSN=t.fragments[0].sn,t.startCC=t.fragments[0].cc}var v=t.fragments;if(c){i.logger.warn("discontinuity sliding from playlist, take drift into account");for(var g=0;g<v.length;g++)v[g].cc+=c}t.skippedSegments&&(t.startCC=t.fragments[0].cc),d(e.partList,t.partList,(function(e,t){t.elementaryStreams=e.elementaryStreams,t.stats=e.stats})),l?u(t,l,l.startPTS,l.endPTS,l.startDTS,l.endDTS):h(e,t),v.length&&(t.totalduration=t.edge-v[0].start),t.driftStartTime=e.driftStartTime,t.driftStart=e.driftStart;var m=t.advancedDateTime;if(t.advanced&&m){var y=t.edge;t.driftStart||(t.driftStartTime=m,t.driftStart=y),t.driftEndTime=m,t.driftEnd=y}else t.driftEndTime=e.driftEndTime,t.driftEnd=e.driftEnd,t.advancedDateTime=e.advancedDateTime}function d(e,t,n){if(e&&t)for(var r=0,i=0,a=e.length;i<=a;i++){var o=e[i],s=t[i+r];o&&s&&o.index===s.index&&o.fragment.sn===s.fragment.sn?n(o,s):r--}}function f(e,t,n){for(var r=t.skippedSegments,i=Math.max(e.startSN,t.startSN)-t.startSN,a=(e.fragmentHint?1:0)+(r?t.endSN:Math.min(e.endSN,t.endSN))-t.startSN,o=t.startSN-e.startSN,s=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments,l=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,u=i;u<=a;u++){var c=l[o+u],d=s[u];r&&!d&&u<r&&(d=t.fragments[u]=c),c&&d&&n(c,d)}}function h(e,t){var n=t.startSN+t.skippedSegments-e.startSN,r=e.fragments;n<0||n>=r.length||p(t,r[n].start)}function p(e,t){if(t){for(var n=e.fragments,r=e.skippedSegments;r<n.length;r++)n[r].start+=t;e.fragmentHint&&(e.fragmentHint.start+=t)}}function v(e,t){var n,r=1e3*e.levelTargetDuration,i=r/2,a=e.age,o=a>0&&a<3*r,s=t.loading.end-t.loading.start,l=e.availabilityDelay;if(!1===e.updated)if(o){var u=333*e.misses;n=Math.max(Math.min(i,2*s),u),e.availabilityDelay=(e.availabilityDelay||0)+n}else n=i;else o?(l=Math.min(l||r/2,a),e.availabilityDelay=l,n=l+r-a):n=r-s;return Math.round(n)}function g(e,t,n){if(!e||!e.details)return null;var r=e.details,i=r.fragments[t-r.startSN];return i||((i=r.fragmentHint)&&i.sn===t?i:t<r.startSN&&n&&n.sn===t?n:null)}function m(e,t,n){if(!e||!e.details)return null;var r=e.details.partList;if(r)for(var i=r.length;i--;){var a=r[i];if(a.index===n&&a.fragment.sn===t)return a}return null}},"./src/controller/stream-controller.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return y}));var r=n("./src/polyfills/number.ts"),i=n("./src/controller/base-stream-controller.ts"),a=n("./src/is-supported.ts"),o=n("./src/events.ts"),s=n("./src/utils/buffer-helper.ts"),l=n("./src/controller/fragment-tracker.ts"),u=n("./src/types/loader.ts"),c=n("./src/loader/fragment.ts"),d=n("./src/demux/transmuxer-interface.ts"),f=n("./src/types/transmuxer.ts"),h=n("./src/controller/gap-controller.ts"),p=n("./src/errors.ts"),v=n("./src/utils/logger.ts");function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){var t,n;function y(t,n){var r;return(r=e.call(this,t,n,"[stream-controller]")||this).audioCodecSwap=!1,r.gapController=null,r.level=-1,r._forceStartLoad=!1,r.altAudio=!1,r.audioOnly=!1,r.fragPlaying=null,r.onvplaying=null,r.onvseeked=null,r.fragLastKbps=0,r.stalled=!1,r.couldBacktrack=!1,r.audioCodecSwitch=!1,r.videoBuffer=null,r._registerListeners(),r}n=e,(t=y).prototype=Object.create(n.prototype),t.prototype.constructor=t,m(t,n);var b,E,S=y.prototype;return S._registerListeners=function(){var e=this.hls;e.on(o.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(o.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(o.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(o.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.on(o.Events.LEVEL_LOADING,this.onLevelLoading,this),e.on(o.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.on(o.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(o.Events.ERROR,this.onError,this),e.on(o.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(o.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(o.Events.BUFFER_CREATED,this.onBufferCreated,this),e.on(o.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(o.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(o.Events.FRAG_BUFFERED,this.onFragBuffered,this)},S._unregisterListeners=function(){var e=this.hls;e.off(o.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(o.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(o.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(o.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.off(o.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.off(o.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(o.Events.ERROR,this.onError,this),e.off(o.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(o.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(o.Events.BUFFER_CREATED,this.onBufferCreated,this),e.off(o.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(o.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(o.Events.FRAG_BUFFERED,this.onFragBuffered,this)},S.onHandlerDestroying=function(){this._unregisterListeners(),this.onMediaDetaching()},S.startLoad=function(e){if(this.levels){var t=this.lastCurrentTime,n=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var r=n.startLevel;-1===r&&(n.config.testBandwidth?(r=0,this.bitrateTest=!0):r=n.nextAutoLevel),this.level=n.nextLoadLevel=r,this.loadedmetadata=!1}t>0&&-1===e&&(this.log("Override startPosition with lastCurrentTime @"+t.toFixed(3)),e=t),this.state=i.State.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this._forceStartLoad=!0,this.state=i.State.STOPPED},S.stopLoad=function(){this._forceStartLoad=!1,e.prototype.stopLoad.call(this)},S.doTick=function(){switch(this.state){case i.State.IDLE:this.doTickIdle();break;case i.State.WAITING_LEVEL:var e,t=this.levels,n=this.level,r=null==t||null===(e=t[n])||void 0===e?void 0:e.details;if(r&&(!r.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(r))break;this.state=i.State.IDLE;break}break;case i.State.FRAG_LOADING_WAITING_RETRY:var a,o=self.performance.now(),s=this.retryDate;(!s||o>=s||null!==(a=this.media)&&void 0!==a&&a.seeking)&&(this.log("retryDate reached, switch back to IDLE state"),this.state=i.State.IDLE)}this.onTickEnd()},S.onTickEnd=function(){e.prototype.onTickEnd.call(this),this.checkBuffer(),this.checkFragmentChanged()},S.doTickIdle=function(){var e,t,n=this.hls,r=this.levelLastLoaded,a=this.levels,s=this.media,d=n.config,f=n.nextLoadLevel;if(null!==r&&(s||!this.startFragRequested&&d.startFragPrefetch)&&(!this.altAudio||!this.audioOnly)&&a&&a[f]){var h=a[f];this.level=n.nextLoadLevel=f;var p=h.details;if(!p||this.state===i.State.WAITING_LEVEL||p.live&&this.levelLastLoaded!==f)this.state=i.State.WAITING_LEVEL;else{var v=this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:s,u.PlaylistLevelType.MAIN);if(null!==v&&!(v.len>=this.getMaxBufferLength(h.maxBitrate))){if(this._streamEnded(v,p)){var g={};return this.altAudio&&(g.type="video"),this.hls.trigger(o.Events.BUFFER_EOS,g),void(this.state=i.State.ENDED)}var m=v.end,y=this.getNextFragment(m,p);if(this.couldBacktrack&&!this.fragPrevious&&y&&"initSegment"!==y.sn){var b=y.sn-p.startSN;b>1&&(y=p.fragments[b-1],this.fragmentTracker.removeFragment(y))}if(y&&this.fragmentTracker.getState(y)===l.FragmentState.OK&&this.nextLoadPosition>m){var E=this.audioOnly&&!this.altAudio?c.ElementaryStreamTypes.AUDIO:c.ElementaryStreamTypes.VIDEO;this.afterBufferFlushed(s,E,u.PlaylistLevelType.MAIN),y=this.getNextFragment(this.nextLoadPosition,p)}y&&(!y.initSegment||y.initSegment.data||this.bitrateTest||(y=y.initSegment),"identity"!==(null===(e=y.decryptdata)||void 0===e?void 0:e.keyFormat)||null!==(t=y.decryptdata)&&void 0!==t&&t.key?this.loadFragment(y,p,m):this.loadKey(y,p))}}}},S.loadFragment=function(t,n,r){var i,a=this.fragmentTracker.getState(t);if(this.fragCurrent=t,a===l.FragmentState.BACKTRACKED){var o=this.fragmentTracker.getBacktrackData(t);if(o)return this._handleFragmentLoadProgress(o),void this._handleFragmentLoadComplete(o);a=l.FragmentState.NOT_LOADED}a===l.FragmentState.NOT_LOADED||a===l.FragmentState.PARTIAL?"initSegment"===t.sn?this._loadInitSegment(t):this.bitrateTest?(t.bitrateTest=!0,this.log("Fragment "+t.sn+" of level "+t.level+" is being downloaded to test bitrate and will not be buffered"),this._loadBitrateTestFrag(t)):(this.startFragRequested=!0,e.prototype.loadFragment.call(this,t,n,r)):a===l.FragmentState.APPENDING?this.reduceMaxBufferLength(t.duration)&&this.fragmentTracker.removeFragment(t):0===(null===(i=this.media)||void 0===i?void 0:i.buffered.length)&&this.fragmentTracker.removeAllFragments()},S.getAppendedFrag=function(e){var t=this.fragmentTracker.getAppendedFrag(e,u.PlaylistLevelType.MAIN);return t&&"fragment"in t?t.fragment:t},S.getBufferedFrag=function(e){return this.fragmentTracker.getBufferedFrag(e,u.PlaylistLevelType.MAIN)},S.followingBufferedFrag=function(e){return e?this.getBufferedFrag(e.end+.5):null},S.immediateLevelSwitch=function(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},S.nextLevelSwitch=function(){var e=this.levels,t=this.media;if(null!=t&&t.readyState){var n,r=this.getAppendedFrag(t.currentTime);if(r&&r.start>1&&this.flushMainBuffer(0,r.start-1),!t.paused&&e){var i=e[this.hls.nextLoadLevel],a=this.fragLastKbps;n=a&&this.fragCurrent?this.fragCurrent.duration*i.maxBitrate/(1e3*a)+1:0}else n=0;var o=this.getBufferedFrag(t.currentTime+n);if(o){var s=this.followingBufferedFrag(o);if(s){this.abortCurrentFrag();var l=s.maxStartPTS?s.maxStartPTS:s.start,u=s.duration,c=Math.max(o.end,l+Math.min(Math.max(u-this.config.maxFragLookUpTolerance,.5*u),.75*u));this.flushMainBuffer(c,Number.POSITIVE_INFINITY)}}}},S.abortCurrentFrag=function(){var e=this.fragCurrent;this.fragCurrent=null,null!=e&&e.loader&&e.loader.abort(),this.state===i.State.KEY_LOADING&&(this.state=i.State.IDLE),this.nextLoadPosition=this.getLoadPosition()},S.flushMainBuffer=function(t,n){e.prototype.flushMainBuffer.call(this,t,n,this.altAudio?"video":null)},S.onMediaAttached=function(t,n){e.prototype.onMediaAttached.call(this,t,n);var r=n.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),r.addEventListener("playing",this.onvplaying),r.addEventListener("seeked",this.onvseeked),this.gapController=new h.default(this.config,r,this.fragmentTracker,this.hls)},S.onMediaDetaching=function(){var t=this.media;t&&(t.removeEventListener("playing",this.onvplaying),t.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),e.prototype.onMediaDetaching.call(this)},S.onMediaPlaying=function(){this.tick()},S.onMediaSeeked=function(){var e=this.media,t=e?e.currentTime:null;Object(r.isFiniteNumber)(t)&&this.log("Media seeked to "+t.toFixed(3)),this.tick()},S.onManifestLoading=function(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(o.Events.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=this.stalled=!1,this.startPosition=this.lastCurrentTime=0,this.fragPlaying=null},S.onManifestParsed=function(e,t){var n,r=!1,i=!1;t.levels.forEach((function(e){(n=e.audioCodec)&&(-1!==n.indexOf("mp4a.40.2")&&(r=!0),-1!==n.indexOf("mp4a.40.5")&&(i=!0))})),this.audioCodecSwitch=r&&i&&!Object(a.changeTypeSupported)(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1},S.onLevelLoading=function(e,t){var n=this.levels;if(n&&this.state===i.State.IDLE){var r=n[t.level];(!r.details||r.details.live&&this.levelLastLoaded!==t.level||this.waitForCdnTuneIn(r.details))&&(this.state=i.State.WAITING_LEVEL)}},S.onLevelLoaded=function(e,t){var n,r=this.levels,a=t.level,s=t.details,l=s.totalduration;if(r){this.log("Level "+a+" loaded ["+s.startSN+","+s.endSN+"], cc ["+s.startCC+", "+s.endCC+"] duration:"+l);var u=this.fragCurrent;!u||this.state!==i.State.FRAG_LOADING&&this.state!==i.State.FRAG_LOADING_WAITING_RETRY||u.level!==t.level&&u.loader&&(this.state=i.State.IDLE,u.loader.abort());var c=r[a],d=0;if(s.live||null!==(n=c.details)&&void 0!==n&&n.live){if(s.fragments[0]||(s.deltaUpdateFailed=!0),s.deltaUpdateFailed)return;d=this.alignPlaylists(s,c.details)}if(c.details=s,this.levelLastLoaded=a,this.hls.trigger(o.Events.LEVEL_UPDATED,{details:s,level:a}),this.state===i.State.WAITING_LEVEL){if(this.waitForCdnTuneIn(s))return;this.state=i.State.IDLE}this.startFragRequested?s.live&&this.synchronizeToLiveEdge(s):this.setStartPosition(s,d),this.tick()}else this.warn("Levels were reset while loading level "+a)},S._handleFragmentLoadProgress=function(e){var t,n=e.frag,r=e.part,i=e.payload,a=this.levels;if(a){var o=a[n.level],s=o.details;if(s){var l=o.videoCodec,c=s.PTSKnown||!s.live,h=null===(t=n.initSegment)||void 0===t?void 0:t.data,p=this._getAudioCodec(o),v=this.transmuxer=this.transmuxer||new d.default(this.hls,u.PlaylistLevelType.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),g=r?r.index:-1,m=-1!==g,y=new f.ChunkMetadata(n.level,n.sn,n.stats.chunkCount,i.byteLength,g,m),b=this.initPTS[n.cc];v.push(i,h,p,l,n,r,s.totalduration,c,y,b)}else this.warn("Dropping fragment "+n.sn+" of level "+n.level+" after level details were reset")}else this.warn("Levels were reset while fragment load was in progress. Fragment "+n.sn+" of level "+n.level+" will not be buffered")},S.onAudioTrackSwitching=function(e,t){var n=this.altAudio,r=!!t.url,i=t.id;if(!r){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var a=this.fragCurrent;null!=a&&a.loader&&(this.log("Switching to main audio track, cancel main fragment load"),a.loader.abort()),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();var s=this.hls;n&&s.trigger(o.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),s.trigger(o.Events.AUDIO_TRACK_SWITCHED,{id:i})}},S.onAudioTrackSwitched=function(e,t){var n=t.id,r=!!this.hls.audioTracks[n].url;if(r){var i=this.videoBuffer;i&&this.mediaBuffer!==i&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=i)}this.altAudio=r,this.tick()},S.onBufferCreated=function(e,t){var n,r,i=t.tracks,a=!1;for(var o in i){var s=i[o];if("main"===s.id){if(r=o,n=s,"video"===o){var l=i[o];l&&(this.videoBuffer=l.buffer)}}else a=!0}a&&n?(this.log("Alternate track found, use "+r+".buffered to schedule main fragment loading"),this.mediaBuffer=n.buffer):this.mediaBuffer=this.media},S.onFragBuffered=function(e,t){var n=t.frag,r=t.part;if(!n||n.type===u.PlaylistLevelType.MAIN){if(this.fragContextChanged(n))return this.warn("Fragment "+n.sn+(r?" p: "+r.index:"")+" of level "+n.level+" finished buffering, but was aborted. state: "+this.state),void(this.state===i.State.PARSED&&(this.state=i.State.IDLE));var a=r?r.stats:n.stats;this.fragLastKbps=Math.round(8*a.total/(a.buffering.end-a.loading.first)),"initSegment"!==n.sn&&(this.fragPrevious=n),this.fragBufferedComplete(n,r)}},S.onError=function(e,t){switch(t.details){case p.ErrorDetails.FRAG_LOAD_ERROR:case p.ErrorDetails.FRAG_LOAD_TIMEOUT:case p.ErrorDetails.KEY_LOAD_ERROR:case p.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(u.PlaylistLevelType.MAIN,t);break;case p.ErrorDetails.LEVEL_LOAD_ERROR:case p.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==i.State.ERROR&&(t.fatal?(this.warn(""+t.details),this.state=i.State.ERROR):t.levelRetry||this.state!==i.State.WAITING_LEVEL||(this.state=i.State.IDLE));break;case p.ErrorDetails.BUFFER_FULL_ERROR:if("main"===t.parent&&(this.state===i.State.PARSING||this.state===i.State.PARSED)){var n=!0,r=this.getFwdBufferInfo(this.media,u.PlaylistLevelType.MAIN);r&&r.len>.5&&(n=!this.reduceMaxBufferLength(r.len)),n&&(this.warn("buffer full error also media.currentTime is not buffered, flush main"),this.immediateLevelSwitch()),this.resetLoadingState()}}},S.checkBuffer=function(){var e=this.media,t=this.gapController;if(e&&t&&e.readyState){var n=s.BufferHelper.getBuffered(e);!this.loadedmetadata&&n.length?(this.loadedmetadata=!0,this.seekToStartPos()):t.poll(this.lastCurrentTime),this.lastCurrentTime=e.currentTime}},S.onFragLoadEmergencyAborted=function(){this.state=i.State.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()},S.onBufferFlushed=function(e,t){var n=t.type;if(n!==c.ElementaryStreamTypes.AUDIO||this.audioOnly&&!this.altAudio){var r=(n===c.ElementaryStreamTypes.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(r,n,u.PlaylistLevelType.MAIN)}},S.onLevelsUpdated=function(e,t){this.levels=t.levels},S.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},S.seekToStartPos=function(){var e=this.media,t=e.currentTime,n=this.startPosition;if(n>=0&&t<n){if(e.seeking)return void v.logger.log("could not seek to "+n+", already seeking at "+t);var r=s.BufferHelper.getBuffered(e),i=(r.length?r.start(0):0)-n;i>0&&(i<this.config.maxBufferHole||i<this.config.maxFragLookUpTolerance)&&(v.logger.log("adjusting start position by "+i+" to match buffer start"),n+=i,this.startPosition=n),this.log("seek to target start position "+n+" from current time "+t),e.currentTime=n}},S._getAudioCodec=function(e){var t=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&t&&(this.log("Swapping audio codec"),t=-1!==t.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),t},S._loadBitrateTestFrag=function(e){var t=this;this._doFragLoad(e).then((function(n){var r=t.hls;if(n&&!r.nextLoadLevel&&!t.fragContextChanged(e)){t.fragLoadError=0,t.state=i.State.IDLE,t.startFragRequested=!1,t.bitrateTest=!1;var a=e.stats;a.parsing.start=a.parsing.end=a.buffering.start=a.buffering.end=self.performance.now(),r.trigger(o.Events.FRAG_LOADED,n)}}))},S._handleTransmuxComplete=function(e){var t,n="main",a=this.hls,s=e.remuxResult,l=e.chunkMeta,u=this.getCurrentContext(l);if(!u)return this.warn("The loading context changed while buffering fragment "+l.sn+" of level "+l.level+". This chunk will not be buffered."),void this.resetLiveStartWhenNotLoaded(l.level);var d=u.frag,f=u.part,h=u.level,p=s.video,v=s.text,g=s.id3,m=s.initSegment,y=this.altAudio?void 0:s.audio;if(!this.fragContextChanged(d)){if(this.state=i.State.PARSING,m){m.tracks&&(this._bufferInitSegment(h,m.tracks,d,l),a.trigger(o.Events.FRAG_PARSING_INIT_SEGMENT,{frag:d,id:n,tracks:m.tracks}));var b=m.initPTS,E=m.timescale;Object(r.isFiniteNumber)(b)&&(this.initPTS[d.cc]=b,a.trigger(o.Events.INIT_PTS_FOUND,{frag:d,id:n,initPTS:b,timescale:E}))}if(p&&!1!==s.independent){if(h.details){var S=p.startPTS,T=p.endPTS,w=p.startDTS,k=p.endDTS;if(f)f.elementaryStreams[p.type]={startPTS:S,endPTS:T,startDTS:w,endDTS:k};else if(p.firstKeyFrame&&p.independent&&(this.couldBacktrack=!0),p.dropped&&p.independent){if(this.getLoadPosition()+this.config.maxBufferHole<S)return void this.backtrack(d);d.setElementaryStreamInfo(p.type,d.start,T,d.start,k,!0)}d.setElementaryStreamInfo(p.type,S,T,w,k),this.bufferFragmentData(p,d,f,l)}}else if(!1===s.independent)return void this.backtrack(d);if(y){var L=y.startPTS,x=y.endPTS,C=y.startDTS,_=y.endDTS;f&&(f.elementaryStreams[c.ElementaryStreamTypes.AUDIO]={startPTS:L,endPTS:x,startDTS:C,endDTS:_}),d.setElementaryStreamInfo(c.ElementaryStreamTypes.AUDIO,L,x,C,_),this.bufferFragmentData(y,d,f,l)}if(null!=g&&null!==(t=g.samples)&&void 0!==t&&t.length){var A={frag:d,id:n,samples:g.samples};a.trigger(o.Events.FRAG_PARSING_METADATA,A)}if(v){var O={frag:d,id:n,samples:v.samples};a.trigger(o.Events.FRAG_PARSING_USERDATA,O)}}},S._bufferInitSegment=function(e,t,n,r){var a=this;if(this.state===i.State.PARSING){this.audioOnly=!!t.audio&&!t.video,this.altAudio&&!this.audioOnly&&delete t.audio;var s=t.audio,l=t.video,u=t.audiovideo;if(s){var c=e.audioCodec,d=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(c&&(c=-1!==c.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),1!==s.metadata.channelCount&&-1===d.indexOf("firefox")&&(c="mp4a.40.5")),-1!==d.indexOf("android")&&"audio/mpeg"!==s.container&&(c="mp4a.40.2",this.log("Android: force audio codec to "+c)),e.audioCodec&&e.audioCodec!==c&&this.log('Swapping manifest audio codec "'+e.audioCodec+'" for "'+c+'"'),s.levelCodec=c,s.id="main",this.log("Init audio buffer, container:"+s.container+", codecs[selected/level/parsed]=["+(c||"")+"/"+(e.audioCodec||"")+"/"+s.codec+"]")}l&&(l.levelCodec=e.videoCodec,l.id="main",this.log("Init video buffer, container:"+l.container+", codecs[level/parsed]=["+(e.videoCodec||"")+"/"+l.codec+"]")),u&&this.log("Init audiovideo buffer, container:"+u.container+", codecs[level/parsed]=["+(e.attrs.CODECS||"")+"/"+u.codec+"]"),this.hls.trigger(o.Events.BUFFER_CODECS,t),Object.keys(t).forEach((function(e){var i=t[e].initSegment;null!=i&&i.byteLength&&a.hls.trigger(o.Events.BUFFER_APPENDING,{type:e,data:i,frag:n,part:null,chunkMeta:r,parent:n.type})})),this.tick()}},S.backtrack=function(e){this.couldBacktrack=!0,this.resetTransmuxer(),this.flushBufferGap(e);var t=this.fragmentTracker.backtrack(e);this.fragPrevious=null,this.nextLoadPosition=e.start,t?this.resetFragmentLoading(e):this.state=i.State.BACKTRACKING},S.checkFragmentChanged=function(){var e=this.media,t=null;if(e&&e.readyState>1&&!1===e.seeking){var n=e.currentTime;if(s.BufferHelper.isBuffered(e,n)?t=this.getAppendedFrag(n):s.BufferHelper.isBuffered(e,n+.1)&&(t=this.getAppendedFrag(n+.1)),t){var r=this.fragPlaying,i=t.level;r&&t.sn===r.sn&&r.level===i&&t.urlId===r.urlId||(this.hls.trigger(o.Events.FRAG_CHANGED,{frag:t}),r&&r.level===i||this.hls.trigger(o.Events.LEVEL_SWITCHED,{level:i}),this.fragPlaying=t)}}},b=y,(E=[{key:"nextLevel",get:function(){var e=this.nextBufferedFrag;return e?e.level:-1}},{key:"currentLevel",get:function(){var e=this.media;if(e){var t=this.getAppendedFrag(e.currentTime);if(t)return t.level}return-1}},{key:"nextBufferedFrag",get:function(){var e=this.media;if(e){var t=this.getAppendedFrag(e.currentTime);return this.followingBufferedFrag(t)}return null}},{key:"forceStartLoad",get:function(){return this._forceStartLoad}}])&&g(b.prototype,E),y}(i.default)},"./src/controller/subtitle-stream-controller.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"SubtitleStreamController",(function(){return v}));var r=n("./src/events.ts"),i=n("./src/utils/logger.ts"),a=n("./src/utils/buffer-helper.ts"),o=n("./src/controller/fragment-finders.ts"),s=n("./src/utils/discontinuities.ts"),l=n("./src/controller/level-helper.ts"),u=n("./src/controller/fragment-tracker.ts"),c=n("./src/controller/base-stream-controller.ts"),d=n("./src/types/loader.ts"),f=n("./src/types/level.ts");function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(e){var t,n;function v(t,n){var r;return(r=e.call(this,t,n,"[subtitle-stream-controller]")||this).levels=[],r.currentTrackId=-1,r.tracksBuffered=[],r.mainDetails=null,r._registerListeners(),r}n=e,(t=v).prototype=Object.create(n.prototype),t.prototype.constructor=t,p(t,n);var g,m,y=v.prototype;return y.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},y._registerListeners=function(){var e=this.hls;e.on(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(r.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.on(r.Events.ERROR,this.onError,this),e.on(r.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(r.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(r.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(r.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.on(r.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},y._unregisterListeners=function(){var e=this.hls;e.off(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(r.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.off(r.Events.ERROR,this.onError,this),e.off(r.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(r.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(r.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(r.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.off(r.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},y.startLoad=function(){this.stopLoad(),this.state=c.State.IDLE,this.setInterval(500),this.tick()},y.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()},y.onLevelLoaded=function(e,t){this.mainDetails=t.details},y.onSubtitleFragProcessed=function(e,t){var n=t.frag,r=t.success;if(this.fragPrevious=n,this.state=c.State.IDLE,r){var i=this.tracksBuffered[this.currentTrackId];if(i){for(var a,o=n.start,s=0;s<i.length;s++)if(o>=i[s].start&&o<=i[s].end){a=i[s];break}var l=n.start+n.duration;a?a.end=l:(a={start:o,end:l},i.push(a)),this.fragmentTracker.fragBuffered(n)}}},y.onBufferFlushing=function(e,t){var n=t.startOffset,r=t.endOffset;if(0===n&&r!==Number.POSITIVE_INFINITY){var i=this.currentTrackId,a=this.levels;if(!a.length||!a[i]||!a[i].details)return;var o=r-a[i].details.targetduration;if(o<=0)return;t.endOffsetSubtitles=Math.max(0,o),this.tracksBuffered.forEach((function(e){for(var t=0;t<e.length;)if(e[t].end<=o)e.shift();else{if(!(e[t].start<o))break;e[t].start=o,t++}})),this.fragmentTracker.removeFragmentsInRange(n,o,d.PlaylistLevelType.SUBTITLE)}},y.onError=function(e,t){var n,r=t.frag;r&&r.type===d.PlaylistLevelType.SUBTITLE&&(null!==(n=this.fragCurrent)&&void 0!==n&&n.loader&&this.fragCurrent.loader.abort(),this.state=c.State.IDLE)},y.onSubtitleTracksUpdated=function(e,t){var n=this,r=t.subtitleTracks;this.tracksBuffered=[],this.levels=r.map((function(e){return new f.Level(e)})),this.fragmentTracker.removeAllFragments(),this.fragPrevious=null,this.levels.forEach((function(e){n.tracksBuffered[e.id]=[]})),this.mediaBuffer=null},y.onSubtitleTrackSwitch=function(e,t){if(this.currentTrackId=t.id,this.levels.length&&-1!==this.currentTrackId){var n=this.levels[this.currentTrackId];null!=n&&n.details?(this.mediaBuffer=this.mediaBufferTimeRanges,this.setInterval(500)):this.mediaBuffer=null}else this.clearInterval()},y.onSubtitleTrackLoaded=function(e,t){var n,r=t.details,i=t.id,a=this.currentTrackId,u=this.levels;if(u.length){var d=u[a];if(!(i>=u.length||i!==a)&&d){if(this.mediaBuffer=this.mediaBufferTimeRanges,r.live||null!==(n=d.details)&&void 0!==n&&n.live){var f=this.mainDetails;if(r.deltaUpdateFailed||!f)return;var h=f.fragments[0];d.details?0===this.alignPlaylists(r,d.details)&&h&&Object(l.addSliding)(r,h.start):r.hasProgramDateTime&&f.hasProgramDateTime?Object(s.alignMediaPlaylistByPDT)(r,f):h&&Object(l.addSliding)(r,h.start)}d.details=r,this.levelLastLoaded=i,this.tick(),r.live&&!this.fragCurrent&&this.media&&this.state===c.State.IDLE&&(Object(o.findFragmentByPTS)(null,r.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),d.details=void 0))}}},y._handleFragmentLoadComplete=function(e){var t=e.frag,n=e.payload,i=t.decryptdata,a=this.hls;if(!this.fragContextChanged(t)&&n&&n.byteLength>0&&i&&i.key&&i.iv&&"AES-128"===i.method){var o=performance.now();this.decrypter.webCryptoDecrypt(new Uint8Array(n),i.key.buffer,i.iv.buffer).then((function(e){var n=performance.now();a.trigger(r.Events.FRAG_DECRYPTED,{frag:t,payload:e,stats:{tstart:o,tdecrypt:n}})}))}},y.doTick=function(){if(this.media){if(this.state===c.State.IDLE){var e,t=this.currentTrackId,n=this.levels;if(!n.length||!n[t]||!n[t].details)return;var s=n[t].details,l=s.targetduration,d=this.config,f=this.media,h=a.BufferHelper.bufferedInfo(this.mediaBufferTimeRanges,f.currentTime-l,d.maxBufferHole),p=h.end;if(h.len>this.getMaxBufferLength()+l)return;console.assert(s,"Subtitle track details are defined on idle subtitle stream controller tick");var v,g=s.fragments,m=g.length,y=s.edge,b=this.fragPrevious;if(p<y){var E=d.maxFragLookUpTolerance;b&&s.hasProgramDateTime&&(v=Object(o.findFragmentByPDT)(g,b.endProgramDateTime,E)),v||!(v=Object(o.findFragmentByPTS)(b,g,p,E))&&b&&b.start<g[0].start&&(v=g[0])}else v=g[m-1];null!==(e=v)&&void 0!==e&&e.encrypted?(i.logger.log("Loading key for "+v.sn),this.state=c.State.KEY_LOADING,this.hls.trigger(r.Events.KEY_LOADING,{frag:v})):v&&this.fragmentTracker.getState(v)===u.FragmentState.NOT_LOADED&&this.loadFragment(v,s,p)}}else this.state=c.State.IDLE},y.loadFragment=function(t,n,r){this.fragCurrent=t,e.prototype.loadFragment.call(this,t,n,r)},g=v,(m=[{key:"mediaBufferTimeRanges",get:function(){return this.tracksBuffered[this.currentTrackId]||[]}}])&&h(g.prototype,m),v}(c.default)},"./src/controller/subtitle-track-controller.ts":function(e,t,n){"use strict";n.r(t);var r=n("./src/events.ts"),i=n("./src/utils/texttrack-utils.ts"),a=n("./src/controller/base-playlist-controller.ts"),o=n("./src/types/loader.ts");function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=function(e){var t,n;function a(t){var n;return(n=e.call(this,t,"[subtitle-track-controller]")||this).media=null,n.tracks=[],n.groupId=null,n.tracksInGroup=[],n.trackId=-1,n.selectDefaultTrack=!0,n.queuedDefaultTrack=-1,n.trackChangeListener=function(){return n.onTextTracksChanged()},n.asyncPollTrackChange=function(){return n.pollTrackChange(0)},n.useTextTrackPolling=!1,n.subtitlePollingInterval=-1,n.subtitleDisplay=!0,n.registerListeners(),n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,l(t,n);var u,d,f=a.prototype;return f.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,e.prototype.destroy.call(this)},f.registerListeners=function(){var e=this.hls;e.on(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(r.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.on(r.Events.LEVEL_LOADING,this.onLevelLoading,this),e.on(r.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(r.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(r.Events.ERROR,this.onError,this)},f.unregisterListeners=function(){var e=this.hls;e.off(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(r.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.off(r.Events.LEVEL_LOADING,this.onLevelLoading,this),e.off(r.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(r.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(r.Events.ERROR,this.onError,this)},f.onMediaAttached=function(e,t){this.media=t.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))},f.pollTrackChange=function(e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,e)},f.onMediaDetaching=function(){this.media&&(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),c(this.media.textTracks).forEach((function(e){Object(i.clearCurrentCues)(e)})),this.subtitleTrack=-1,this.media=null)},f.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0},f.onManifestParsed=function(e,t){this.tracks=t.subtitleTracks},f.onSubtitleTrackLoaded=function(e,t){var n=t.id,r=t.details,i=this.trackId,a=this.tracksInGroup[i];if(a){var o=a.details;a.details=t.details,this.log("subtitle track "+n+" loaded ["+r.startSN+"-"+r.endSN+"]"),n===this.trackId&&(this.retryCount=0,this.playlistLoaded(n,t,o))}else this.warn("Invalid subtitle track id "+n)},f.onLevelLoading=function(e,t){this.switchLevel(t.level)},f.onLevelSwitching=function(e,t){this.switchLevel(t.level)},f.switchLevel=function(e){var t=this.hls.levels[e];if(null!=t&&t.textGroupIds){var n=t.textGroupIds[t.urlId];if(this.groupId!==n){var i=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0,a=this.tracks.filter((function(e){return!n||e.groupId===n}));this.tracksInGroup=a;var o=this.findTrackId(null==i?void 0:i.name)||this.findTrackId();this.groupId=n;var s={subtitleTracks:a};this.log("Updating subtitle tracks, "+a.length+' track(s) found in "'+n+'" group-id'),this.hls.trigger(r.Events.SUBTITLE_TRACKS_UPDATED,s),-1!==o&&this.setSubtitleTrack(o,i)}}},f.findTrackId=function(e){for(var t=this.tracksInGroup,n=0;n<t.length;n++){var r=t[n];if((!this.selectDefaultTrack||r.default)&&(!e||e===r.name))return r.id}return-1},f.onError=function(t,n){e.prototype.onError.call(this,t,n),!n.fatal&&n.context&&n.context.type===o.PlaylistContextType.SUBTITLE_TRACK&&n.context.id===this.trackId&&n.context.groupId===this.groupId&&this.retryLoadingOrFail(n)},f.loadPlaylist=function(e){var t=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(t)){var n=t.id,i=t.groupId,a=t.url;if(e)try{a=e.addDirectives(a)}catch(e){this.warn("Could not construct new URL with HLS Delivery Directives: "+e)}this.log("Loading subtitle playlist for id "+n),this.hls.trigger(r.Events.SUBTITLE_TRACK_LOADING,{url:a,id:n,groupId:i,deliveryDirectives:e||null})}},f.toggleTrackModes=function(e){var t=this,n=this.media,r=this.subtitleDisplay,i=this.trackId;if(n){var a=c(n.textTracks),o=a.filter((function(e){return e.groupId===t.groupId}));if(-1===e)[].slice.call(a).forEach((function(e){e.mode="disabled"}));else{var s=o[i];s&&(s.mode="disabled")}var l=o[e];l&&(l.mode=r?"showing":"hidden")}},f.setSubtitleTrack=function(e,t){var n,i=this.tracksInGroup;if(this.media){if(this.trackId!==e&&this.toggleTrackModes(e),!(this.trackId===e&&(-1===e||null!==(n=i[e])&&void 0!==n&&n.details)||e<-1||e>=i.length)){this.clearTimer();var a=i[e];if(this.log("Switching to subtitle track "+e),this.trackId=e,a){var o=a.id,s=a.groupId,l=void 0===s?"":s,u=a.name,c=a.type,d=a.url;this.hls.trigger(r.Events.SUBTITLE_TRACK_SWITCH,{id:o,groupId:l,name:u,type:c,url:d});var f=this.switchParams(a.url,null==t?void 0:t.details);this.loadPlaylist(f)}else this.hls.trigger(r.Events.SUBTITLE_TRACK_SWITCH,{id:e})}}else this.queuedDefaultTrack=e},f.onTextTracksChanged=function(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),this.media&&this.hls.config.renderTextTracksNatively){for(var e=-1,t=c(this.media.textTracks),n=0;n<t.length;n++)if("hidden"===t[n].mode)e=n;else if("showing"===t[n].mode){e=n;break}this.subtitleTrack!==e&&(this.subtitleTrack=e)}},u=a,(d=[{key:"subtitleTracks",get:function(){return this.tracksInGroup}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(e){this.selectDefaultTrack=!1;var t=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;this.setSubtitleTrack(e,t)}}])&&s(u.prototype,d),a}(a.default);function c(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];"subtitles"===r.kind&&r.label&&t.push(e[n])}return t}t.default=u},"./src/controller/timeline-controller.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"TimelineController",(function(){return f}));var r=n("./src/polyfills/number.ts"),i=n("./src/events.ts"),a=n("./src/utils/cea-608-parser.ts"),o=n("./src/utils/output-filter.ts"),s=n("./src/utils/webvtt-parser.ts"),l=n("./src/utils/texttrack-utils.ts"),u=n("./src/utils/imsc1-ttml-parser.ts"),c=n("./src/types/loader.ts"),d=n("./src/utils/logger.ts"),f=function(){function e(e){if(this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.timescale=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this.captionsProperties=void 0,this.hls=e,this.config=e.config,this.Cues=e.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){var t=new o.default(this,"textTrack1"),n=new o.default(this,"textTrack2"),r=new o.default(this,"textTrack3"),s=new o.default(this,"textTrack4");this.cea608Parser1=new a.default(1,t,n),this.cea608Parser2=new a.default(3,r,s)}e.on(i.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(i.Events.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(i.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(i.Events.FRAG_LOADING,this.onFragLoading,this),e.on(i.Events.FRAG_LOADED,this.onFragLoaded,this),e.on(i.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.on(i.Events.FRAG_DECRYPTED,this.onFragDecrypted,this),e.on(i.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(i.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.on(i.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)}var t=e.prototype;return t.destroy=function(){var e=this.hls;e.off(i.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(i.Events.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(i.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(i.Events.FRAG_LOADING,this.onFragLoading,this),e.off(i.Events.FRAG_LOADED,this.onFragLoaded,this),e.off(i.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.off(i.Events.FRAG_DECRYPTED,this.onFragDecrypted,this),e.off(i.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(i.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.off(i.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null},t.addCues=function(e,t,n,r,a){for(var o,s,l,u,c=!1,d=a.length;d--;){var f=a[d],h=(o=f[0],s=f[1],l=t,u=n,Math.min(s,u)-Math.max(o,l));if(h>=0&&(f[0]=Math.min(f[0],t),f[1]=Math.max(f[1],n),c=!0,h/(n-t)>.5))return}if(c||a.push([t,n]),this.config.renderTextTracksNatively){var p=this.captionsTracks[e];this.Cues.newCue(p,t,n,r)}else{var v=this.Cues.newCue(null,t,n,r);this.hls.trigger(i.Events.CUES_PARSED,{type:"captions",cues:v,track:e})}},t.onInitPtsFound=function(e,t){var n=this,r=t.frag,a=t.id,o=t.initPTS,s=t.timescale,l=this.unparsedVttFrags;"main"===a&&(this.initPTS[r.cc]=o,this.timescale[r.cc]=s),l.length&&(this.unparsedVttFrags=[],l.forEach((function(e){n.onFragLoaded(i.Events.FRAG_LOADED,e)})))},t.getExistingTrack=function(e){var t=this.media;if(t)for(var n=0;n<t.textTracks.length;n++){var r=t.textTracks[n];if(r[e])return r}return null},t.createCaptionsTrack=function(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)},t.createNativeTrack=function(e){if(!this.captionsTracks[e]){var t=this.captionsProperties,n=this.captionsTracks,r=this.media,i=t[e],a=i.label,o=i.languageCode,s=this.getExistingTrack(e);if(s)n[e]=s,Object(l.clearCurrentCues)(n[e]),Object(l.sendAddTrackEvent)(n[e],r);else{var u=this.createTextTrack("captions",a,o);u&&(u[e]=!0,n[e]=u)}}},t.createNonNativeTrack=function(e){if(!this.nonNativeCaptionsTracks[e]){var t=this.captionsProperties[e];if(t){var n={_id:e,label:t.label,kind:"captions",default:!!t.media&&!!t.media.default,closedCaptions:t.media};this.nonNativeCaptionsTracks[e]=n,this.hls.trigger(i.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[n]})}}},t.createTextTrack=function(e,t,n){var r=this.media;if(r)return r.addTextTrack(e,t,n)},t.onMediaAttaching=function(e,t){this.media=t.media,this._cleanTracks()},t.onMediaDetaching=function(){var e=this.captionsTracks;Object.keys(e).forEach((function(t){Object(l.clearCurrentCues)(e[t]),delete e[t]})),this.nonNativeCaptionsTracks={}},t.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.timescale=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())},t._cleanTracks=function(){var e=this.media;if(e){var t=e.textTracks;if(t)for(var n=0;n<t.length;n++)Object(l.clearCurrentCues)(t[n])}},t.onSubtitleTracksUpdated=function(e,t){var n=this;this.textTracks=[];var r=t.subtitleTracks||[],a=r.some((function(e){return e.textCodec===u.IMSC1_CODEC}));if(this.config.enableWebVTT||a&&this.config.enableIMSC1){var o=this.tracks&&r&&this.tracks.length===r.length;if(this.tracks=r||[],this.config.renderTextTracksNatively){var s=this.media?this.media.textTracks:[];this.tracks.forEach((function(e,t){var r;if(t<s.length){for(var i=null,a=0;a<s.length;a++)if(h(s[a],e)){i=s[a];break}i&&(r=i)}r?Object(l.clearCurrentCues)(r):(r=n.createTextTrack("subtitles",e.name,e.lang))&&(r.mode="disabled"),r&&(r.groupId=e.groupId,n.textTracks.push(r))}))}else if(!o&&this.tracks&&this.tracks.length){var c=this.tracks.map((function(e){return{label:e.name,kind:e.type.toLowerCase(),default:e.default,subtitleTrack:e}}));this.hls.trigger(i.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:c})}}},t.onManifestLoaded=function(e,t){var n=this;this.config.enableCEA708Captions&&t.captions&&t.captions.forEach((function(e){var t=/(?:CC|SERVICE)([1-4])/.exec(e.instreamId);if(t){var r="textTrack"+t[1],i=n.captionsProperties[r];i&&(i.label=e.name,e.lang&&(i.languageCode=e.lang),i.media=e)}}))},t.onFragLoading=function(e,t){var n=this.cea608Parser1,r=this.cea608Parser2,i=this.lastSn;if(this.enabled&&n&&r&&t.frag.type===c.PlaylistLevelType.MAIN){var a=t.frag.sn;a!==i+1&&(n.reset(),r.reset()),this.lastSn=a}},t.onFragLoaded=function(e,t){var n=t.frag,a=t.payload,o=this.initPTS,s=this.unparsedVttFrags;if(n.type===c.PlaylistLevelType.SUBTITLE)if(a.byteLength){if(!Object(r.isFiniteNumber)(o[n.cc]))return s.push(t),void(o.length&&this.hls.trigger(i.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:new Error("Missing initial subtitle PTS")}));var l=n.decryptdata;if(null==l||null==l.key||"AES-128"!==l.method){var d=this.tracks[n.level],f=this.vttCCs;f[n.cc]||(f[n.cc]={start:n.start,prevCC:this.prevCC,new:!0},this.prevCC=n.cc),d&&d.textCodec===u.IMSC1_CODEC?this._parseIMSC1(n,a):this._parseVTTs(n,a,f)}}else this.hls.trigger(i.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:new Error("Empty subtitle payload")})},t._parseIMSC1=function(e,t){var n=this,r=this.hls;Object(u.parseIMSC1)(t,this.initPTS[e.cc],this.timescale[e.cc],(function(t){n._appendCues(t,e.level),r.trigger(i.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})}),(function(t){d.logger.log("Failed to parse IMSC1: "+t),r.trigger(i.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:t})}))},t._parseVTTs=function(e,t,n){var r=this,a=this.hls;Object(s.parseWebVTT)(t,this.initPTS[e.cc],this.timescale[e.cc],n,e.cc,e.start,(function(t){r._appendCues(t,e.level),a.trigger(i.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})}),(function(n){r._fallbackToIMSC1(e,t),d.logger.log("Failed to parse VTT cue: "+n),a.trigger(i.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:n})}))},t._fallbackToIMSC1=function(e,t){var n=this,r=this.tracks[e.level];r.textCodec||Object(u.parseIMSC1)(t,this.initPTS[e.cc],this.timescale[e.cc],(function(){r.textCodec=u.IMSC1_CODEC,n._parseIMSC1(e,t)}),(function(){r.textCodec="wvtt"}))},t._appendCues=function(e,t){var n=this.hls;if(this.config.renderTextTracksNatively){var r=this.textTracks[t];if("disabled"===r.mode)return;e.forEach((function(e){return Object(l.addCueToTrack)(r,e)}))}else{var a=this.tracks[t].default?"default":"subtitles"+t;n.trigger(i.Events.CUES_PARSED,{type:"subtitles",cues:e,track:a})}},t.onFragDecrypted=function(e,t){var n=t.frag;if(n.type===c.PlaylistLevelType.SUBTITLE){if(!Object(r.isFiniteNumber)(this.initPTS[n.cc]))return void this.unparsedVttFrags.push(t);this.onFragLoaded(i.Events.FRAG_LOADED,t)}},t.onSubtitleTracksCleared=function(){this.tracks=[],this.captionsTracks={}},t.onFragParsingUserdata=function(e,t){var n=this.cea608Parser1,r=this.cea608Parser2;if(this.enabled&&n&&r)for(var i=0;i<t.samples.length;i++){var a=t.samples[i].bytes;if(a){var o=this.extractCea608Data(a);n.addData(t.samples[i].pts,o[0]),r.addData(t.samples[i].pts,o[1])}}},t.onBufferFlushing=function(e,t){var n=t.startOffset,r=t.endOffset,i=t.endOffsetSubtitles,a=t.type,o=this.media;if(o&&!(o.currentTime<r)){if(!a||"video"===a){var s=this.captionsTracks;Object.keys(s).forEach((function(e){return Object(l.removeCuesInRange)(s[e],n,r)}))}if(this.config.renderTextTracksNatively&&0===n&&void 0!==i){var u=this.textTracks;Object.keys(u).forEach((function(e){return Object(l.removeCuesInRange)(u[e],n,i)}))}}},t.extractCea608Data=function(e){for(var t=31&e[0],n=2,r=[[],[]],i=0;i<t;i++){var a=e[n++],o=127&e[n++],s=127&e[n++],l=3&a;0===o&&0===s||0!=(4&a)&&(0!==l&&1!==l||(r[l].push(o),r[l].push(s)))}return r},e}();function h(e,t){return e&&e.label===t.name&&!(e.textTrack1||e.textTrack2)}},"./src/crypt/aes-crypto.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var r=function(){function e(e,t){this.subtle=void 0,this.aesIV=void 0,this.subtle=e,this.aesIV=t}return e.prototype.decrypt=function(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)},e}()},"./src/crypt/aes-decryptor.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"removePadding",(function(){return i})),n.d(t,"default",(function(){return a}));var r=n("./src/utils/typed-array.ts");function i(e){var t=e.byteLength,n=t&&new DataView(e.buffer).getUint8(t-1);return n?Object(r.sliceUint8)(e,0,t-n):e}var a=function(){function e(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}var t=e.prototype;return t.uint8ArrayToUint32Array_=function(e){for(var t=new DataView(e),n=new Uint32Array(4),r=0;r<4;r++)n[r]=t.getUint32(4*r);return n},t.initTable=function(){var e=this.sBox,t=this.invSBox,n=this.subMix,r=n[0],i=n[1],a=n[2],o=n[3],s=this.invSubMix,l=s[0],u=s[1],c=s[2],d=s[3],f=new Uint32Array(256),h=0,p=0,v=0;for(v=0;v<256;v++)f[v]=v<128?v<<1:v<<1^283;for(v=0;v<256;v++){var g=p^p<<1^p<<2^p<<3^p<<4;g=g>>>8^255&g^99,e[h]=g,t[g]=h;var m=f[h],y=f[m],b=f[y],E=257*f[g]^16843008*g;r[h]=E<<24|E>>>8,i[h]=E<<16|E>>>16,a[h]=E<<8|E>>>24,o[h]=E,E=16843009*b^65537*y^257*m^16843008*h,l[g]=E<<24|E>>>8,u[g]=E<<16|E>>>16,c[g]=E<<8|E>>>24,d[g]=E,h?(h=m^f[f[f[b^m]]],p^=f[f[p]]):h=p=1}},t.expandKey=function(e){for(var t=this.uint8ArrayToUint32Array_(e),n=!0,r=0;r<t.length&&n;)n=t[r]===this.key[r],r++;if(!n){this.key=t;var i=this.keySize=t.length;if(4!==i&&6!==i&&8!==i)throw new Error("Invalid aes key size="+i);var a,o,s,l,u=this.ksRows=4*(i+6+1),c=this.keySchedule=new Uint32Array(u),d=this.invKeySchedule=new Uint32Array(u),f=this.sBox,h=this.rcon,p=this.invSubMix,v=p[0],g=p[1],m=p[2],y=p[3];for(a=0;a<u;a++)a<i?s=c[a]=t[a]:(l=s,a%i==0?(l=f[(l=l<<8|l>>>24)>>>24]<<24|f[l>>>16&255]<<16|f[l>>>8&255]<<8|f[255&l],l^=h[a/i|0]<<24):i>6&&a%i==4&&(l=f[l>>>24]<<24|f[l>>>16&255]<<16|f[l>>>8&255]<<8|f[255&l]),c[a]=s=(c[a-i]^l)>>>0);for(o=0;o<u;o++)a=u-o,l=3&o?c[a]:c[a-4],d[o]=o<4||a<=4?l:v[f[l>>>24]]^g[f[l>>>16&255]]^m[f[l>>>8&255]]^y[f[255&l]],d[o]=d[o]>>>0}},t.networkToHostOrderSwap=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},t.decrypt=function(e,t,n){for(var r,i,a,o,s,l,u,c,d,f,h,p,v,g,m=this.keySize+6,y=this.invKeySchedule,b=this.invSBox,E=this.invSubMix,S=E[0],T=E[1],w=E[2],k=E[3],L=this.uint8ArrayToUint32Array_(n),x=L[0],C=L[1],_=L[2],A=L[3],O=new Int32Array(e),P=new Int32Array(O.length),R=this.networkToHostOrderSwap;t<O.length;){for(d=R(O[t]),f=R(O[t+1]),h=R(O[t+2]),p=R(O[t+3]),s=d^y[0],l=p^y[1],u=h^y[2],c=f^y[3],v=4,g=1;g<m;g++)r=S[s>>>24]^T[l>>16&255]^w[u>>8&255]^k[255&c]^y[v],i=S[l>>>24]^T[u>>16&255]^w[c>>8&255]^k[255&s]^y[v+1],a=S[u>>>24]^T[c>>16&255]^w[s>>8&255]^k[255&l]^y[v+2],o=S[c>>>24]^T[s>>16&255]^w[l>>8&255]^k[255&u]^y[v+3],s=r,l=i,u=a,c=o,v+=4;r=b[s>>>24]<<24^b[l>>16&255]<<16^b[u>>8&255]<<8^b[255&c]^y[v],i=b[l>>>24]<<24^b[u>>16&255]<<16^b[c>>8&255]<<8^b[255&s]^y[v+1],a=b[u>>>24]<<24^b[c>>16&255]<<16^b[s>>8&255]<<8^b[255&l]^y[v+2],o=b[c>>>24]<<24^b[s>>16&255]<<16^b[l>>8&255]<<8^b[255&u]^y[v+3],P[t]=R(r^x),P[t+1]=R(o^C),P[t+2]=R(a^_),P[t+3]=R(i^A),x=d,C=f,_=h,A=p,t+=4}return P.buffer},e}()},"./src/crypt/decrypter.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var r=n("./src/crypt/aes-crypto.ts"),i=n("./src/crypt/fast-aes-key.ts"),a=n("./src/crypt/aes-decryptor.ts"),o=n("./src/utils/logger.ts"),s=n("./src/utils/mp4-tools.ts"),l=n("./src/utils/typed-array.ts"),u=function(){function e(e,t,n){var r=(void 0===n?{}:n).removePKCS7Padding,i=void 0===r||r;if(this.logEnabled=!0,this.observer=void 0,this.config=void 0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.observer=e,this.config=t,this.removePKCS7Padding=i,i)try{var a=self.crypto;a&&(this.subtle=a.subtle||a.webkitSubtle)}catch(e){}null===this.subtle&&(this.config.enableSoftwareAES=!0)}var t=e.prototype;return t.destroy=function(){this.observer=null},t.isSync=function(){return this.config.enableSoftwareAES},t.flush=function(){var e=this.currentResult;if(e){var t=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?Object(a.removePadding)(t):t}this.reset()},t.reset=function(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)},t.decrypt=function(e,t,n,r){if(this.config.enableSoftwareAES){this.softwareDecrypt(new Uint8Array(e),t,n);var i=this.flush();i&&r(i.buffer)}else this.webCryptoDecrypt(new Uint8Array(e),t,n).then(r)},t.softwareDecrypt=function(e,t,n){var r=this.currentIV,i=this.currentResult,o=this.remainderData;this.logOnce("JS AES decrypt"),o&&(e=Object(s.appendUint8Array)(o,e),this.remainderData=null);var u=this.getValidChunk(e);if(!u.length)return null;r&&(n=r);var c=this.softwareDecrypter;c||(c=this.softwareDecrypter=new a.default),c.expandKey(t);var d=i;return this.currentResult=c.decrypt(u.buffer,0,n),this.currentIV=Object(l.sliceUint8)(u,-16).buffer,d||null},t.webCryptoDecrypt=function(e,t,n){var a=this,o=this.subtle;return this.key===t&&this.fastAesKey||(this.key=t,this.fastAesKey=new i.default(o,t)),this.fastAesKey.expandKey().then((function(t){return o?new r.default(o,n).decrypt(e.buffer,t):Promise.reject(new Error("web crypto not initialized"))})).catch((function(r){return a.onWebCryptoError(r,e,t,n)}))},t.onWebCryptoError=function(e,t,n,r){return o.logger.warn("[decrypter.ts]: WebCrypto Error, disable WebCrypto API:",e),this.config.enableSoftwareAES=!0,this.logEnabled=!0,this.softwareDecrypt(t,n,r)},t.getValidChunk=function(e){var t=e,n=e.length-e.length%16;return n!==e.length&&(t=Object(l.sliceUint8)(e,0,n),this.remainderData=Object(l.sliceUint8)(e,n)),t},t.logOnce=function(e){this.logEnabled&&(o.logger.log("[decrypter.ts]: "+e),this.logEnabled=!1)},e}()},"./src/crypt/fast-aes-key.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var r=function(){function e(e,t){this.subtle=void 0,this.key=void 0,this.subtle=e,this.key=t}return e.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},e}()},"./src/demux/aacdemuxer.ts":function(e,t,n){"use strict";n.r(t);var r=n("./src/demux/base-audio-demuxer.ts"),i=n("./src/demux/adts.ts"),a=n("./src/utils/logger.ts"),o=n("./src/demux/id3.ts");function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){var t,n;function r(t,n){var r;return(r=e.call(this)||this).observer=void 0,r.config=void 0,r.observer=t,r.config=n,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,s(t,n);var l=r.prototype;return l.resetInitSegment=function(t,n,r){e.prototype.resetInitSegment.call(this,t,n,r),this._audioTrack={container:"audio/adts",type:"audio",id:0,pid:-1,sequenceNumber:0,isAAC:!0,samples:[],manifestCodec:t,duration:r,inputTimeScale:9e4,dropped:0}},r.probe=function(e){if(!e)return!1;for(var t=(o.getID3Data(e,0)||[]).length,n=e.length;t<n;t++)if(i.probe(e,t))return a.logger.log("ADTS sync word found !"),!0;return!1},l.canParse=function(e,t){return i.canParse(e,t)},l.appendFrame=function(e,t,n){i.initTrackConfig(e,this.observer,t,n,e.manifestCodec);var r=i.appendFrame(e,t,n,this.initPTS,this.frameIndex);if(r&&0===r.missing)return r},r}(r.default);l.minProbeByteLength=9,t.default=l},"./src/demux/adts.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"getAudioConfig",(function(){return o})),n.d(t,"isHeaderPattern",(function(){return s})),n.d(t,"getHeaderLength",(function(){return l})),n.d(t,"getFullFrameLength",(function(){return u})),n.d(t,"canGetFrameLength",(function(){return c})),n.d(t,"isHeader",(function(){return d})),n.d(t,"canParse",(function(){return f})),n.d(t,"probe",(function(){return h})),n.d(t,"initTrackConfig",(function(){return p})),n.d(t,"getFrameDuration",(function(){return v})),n.d(t,"parseFrameHeader",(function(){return g})),n.d(t,"appendFrame",(function(){return m}));var r=n("./src/utils/logger.ts"),i=n("./src/errors.ts"),a=n("./src/events.ts");function o(e,t,n,o){var s,l,u,c,d=navigator.userAgent.toLowerCase(),f=o,h=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];s=1+((192&t[n+2])>>>6);var p=(60&t[n+2])>>>2;if(!(p>h.length-1))return u=(1&t[n+2])<<2,u|=(192&t[n+3])>>>6,r.logger.log("manifest codec:"+o+", ADTS type:"+s+", samplingIndex:"+p),/firefox/i.test(d)?p>=6?(s=5,c=new Array(4),l=p-3):(s=2,c=new Array(2),l=p):-1!==d.indexOf("android")?(s=2,c=new Array(2),l=p):(s=5,c=new Array(4),o&&(-1!==o.indexOf("mp4a.40.29")||-1!==o.indexOf("mp4a.40.5"))||!o&&p>=6?l=p-3:((o&&-1!==o.indexOf("mp4a.40.2")&&(p>=6&&1===u||/vivaldi/i.test(d))||!o&&1===u)&&(s=2,c=new Array(2)),l=p)),c[0]=s<<3,c[0]|=(14&p)>>1,c[1]|=(1&p)<<7,c[1]|=u<<3,5===s&&(c[1]|=(14&l)>>1,c[2]=(1&l)<<7,c[2]|=8,c[3]=0),{config:c,samplerate:h[p],channelCount:u,codec:"mp4a.40."+s,manifestCodec:f};e.trigger(a.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+p})}function s(e,t){return 255===e[t]&&240==(246&e[t+1])}function l(e,t){return 1&e[t+1]?7:9}function u(e,t){return(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5}function c(e,t){return t+5<e.length}function d(e,t){return t+1<e.length&&s(e,t)}function f(e,t){return c(e,t)&&s(e,t)&&u(e,t)<=e.length-t}function h(e,t){if(d(e,t)){var n=l(e,t);if(t+n>=e.length)return!1;var r=u(e,t);if(r<=n)return!1;var i=t+r;return i===e.length||d(e,i)}return!1}function p(e,t,n,i,a){if(!e.samplerate){var s=o(t,n,i,a);if(!s)return;e.config=s.config,e.samplerate=s.samplerate,e.channelCount=s.channelCount,e.codec=s.codec,e.manifestCodec=s.manifestCodec,r.logger.log("parsed codec:"+e.codec+", rate:"+s.samplerate+", channels:"+s.channelCount)}}function v(e){return 9216e4/e}function g(e,t,n,r,i){var a=l(e,t),o=u(e,t);if((o-=a)>0)return{headerLength:a,frameLength:o,stamp:n+r*i}}function m(e,t,n,r,i){var a=g(t,n,r,i,v(e.samplerate));if(a){var o,s=a.frameLength,l=a.headerLength,u=a.stamp,c=l+s,d=Math.max(0,n+c-t.length);d?(o=new Uint8Array(c-l)).set(t.subarray(n+l,t.length),0):o=t.subarray(n+l,n+c);var f={unit:o,pts:u};return d||e.samples.push(f),{sample:f,length:c,missing:d}}}},"./src/demux/base-audio-demuxer.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"initPTSFn",(function(){return u}));var r=n("./src/polyfills/number.ts"),i=n("./src/demux/id3.ts"),a=n("./src/demux/dummy-demuxed-track.ts"),o=n("./src/utils/mp4-tools.ts"),s=n("./src/utils/typed-array.ts"),l=function(){function e(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.initPTS=null}var t=e.prototype;return t.resetInitSegment=function(e,t,n){this._id3Track={type:"id3",id:0,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}},t.resetTimeStamp=function(){},t.resetContiguity=function(){},t.canParse=function(e,t){return!1},t.appendFrame=function(e,t,n){},t.demux=function(e,t){this.cachedData&&(e=Object(o.appendUint8Array)(this.cachedData,e),this.cachedData=null);var n,r,l=i.getID3Data(e,0),c=l?l.length:0,d=this._audioTrack,f=this._id3Track,h=l?i.getTimeStamp(l):void 0,p=e.length;for(0!==this.frameIndex&&null!==this.initPTS||(this.initPTS=u(h,t)),l&&l.length>0&&f.samples.push({pts:this.initPTS,dts:this.initPTS,data:l}),r=this.initPTS;c<p;){if(this.canParse(e,c)){var v=this.appendFrame(d,e,c);v?(this.frameIndex++,r=v.sample.pts,n=c+=v.length):c=p}else i.canParse(e,c)?(l=i.getID3Data(e,c),f.samples.push({pts:r,dts:r,data:l}),n=c+=l.length):c++;if(c===p&&n!==p){var g=Object(s.sliceUint8)(e,n);this.cachedData?this.cachedData=Object(o.appendUint8Array)(this.cachedData,g):this.cachedData=g}}return{audioTrack:d,avcTrack:Object(a.dummyTrack)(),id3Track:f,textTrack:Object(a.dummyTrack)()}},t.demuxSampleAes=function(e,t,n){return Promise.reject(new Error("["+this+"] This demuxer does not support Sample-AES decryption"))},t.flush=function(e){var t=this.cachedData;return t&&(this.cachedData=null,this.demux(t,0)),this.frameIndex=0,{audioTrack:this._audioTrack,avcTrack:Object(a.dummyTrack)(),id3Track:this._id3Track,textTrack:Object(a.dummyTrack)()}},t.destroy=function(){},e}(),u=function(e,t){return Object(r.isFiniteNumber)(e)?90*e:9e4*t};t.default=l},"./src/demux/chunk-cache.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var r=function(){function e(){this.chunks=[],this.dataLength=0}var t=e.prototype;return t.push=function(e){this.chunks.push(e),this.dataLength+=e.length},t.flush=function(){var e,t=this.chunks,n=this.dataLength;return t.length?(e=1===t.length?t[0]:function(e,t){for(var n=new Uint8Array(t),r=0,i=0;i<e.length;i++){var a=e[i];n.set(a,r),r+=a.length}return n}(t,n),this.reset(),e):new Uint8Array(0)},t.reset=function(){this.chunks.length=0,this.dataLength=0},e}()},"./src/demux/dummy-demuxed-track.ts":function(e,t,n){"use strict";function r(){return{type:"",id:-1,pid:-1,inputTimeScale:9e4,sequenceNumber:-1,samples:[],dropped:0}}n.r(t),n.d(t,"dummyTrack",(function(){return r}))},"./src/demux/exp-golomb.ts":function(e,t,n){"use strict";n.r(t);var r=n("./src/utils/logger.ts"),i=function(){function e(e){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}var t=e.prototype;return t.loadWord=function(){var e=this.data,t=this.bytesAvailable,n=e.byteLength-t,r=new Uint8Array(4),i=Math.min(4,t);if(0===i)throw new Error("no bytes available");r.set(e.subarray(n,n+i)),this.word=new DataView(r.buffer).getUint32(0),this.bitsAvailable=8*i,this.bytesAvailable-=i},t.skipBits=function(e){var t;this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,e-=(t=e>>3)>>3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)},t.readBits=function(e){var t=Math.min(this.bitsAvailable,e),n=this.word>>>32-t;return e>32&&r.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0?this.word<<=t:this.bytesAvailable>0&&this.loadWord(),(t=e-t)>0&&this.bitsAvailable?n<<t|this.readBits(t):n},t.skipLZ=function(){var e;for(e=0;e<this.bitsAvailable;++e)if(0!=(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()},t.skipUEG=function(){this.skipBits(1+this.skipLZ())},t.skipEG=function(){this.skipBits(1+this.skipLZ())},t.readUEG=function(){var e=this.skipLZ();return this.readBits(e+1)-1},t.readEG=function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)},t.readBoolean=function(){return 1===this.readBits(1)},t.readUByte=function(){return this.readBits(8)},t.readUShort=function(){return this.readBits(16)},t.readUInt=function(){return this.readBits(32)},t.skipScalingList=function(e){for(var t=8,n=8,r=0;r<e;r++)0!==n&&(n=(t+this.readEG()+256)%256),t=0===n?t:n},t.readSPS=function(){var e,t,n,r=0,i=0,a=0,o=0,s=this.readUByte.bind(this),l=this.readBits.bind(this),u=this.readUEG.bind(this),c=this.readBoolean.bind(this),d=this.skipBits.bind(this),f=this.skipEG.bind(this),h=this.skipUEG.bind(this),p=this.skipScalingList.bind(this);s();var v=s();if(l(5),d(3),s(),h(),100===v||110===v||122===v||244===v||44===v||83===v||86===v||118===v||128===v){var g=u();if(3===g&&d(1),h(),h(),d(1),c())for(t=3!==g?8:12,n=0;n<t;n++)c()&&p(n<6?16:64)}h();var m=u();if(0===m)u();else if(1===m)for(d(1),f(),f(),e=u(),n=0;n<e;n++)f();h(),d(1);var y=u(),b=u(),E=l(1);0===E&&d(1),d(1),c()&&(r=u(),i=u(),a=u(),o=u());var S=[1,1];if(c()&&c())switch(s()){case 1:S=[1,1];break;case 2:S=[12,11];break;case 3:S=[10,11];break;case 4:S=[16,11];break;case 5:S=[40,33];break;case 6:S=[24,11];break;case 7:S=[20,11];break;case 8:S=[32,11];break;case 9:S=[80,33];break;case 10:S=[18,11];break;case 11:S=[15,11];break;case 12:S=[64,33];break;case 13:S=[160,99];break;case 14:S=[4,3];break;case 15:S=[3,2];break;case 16:S=[2,1];break;case 255:S=[s()<<8|s(),s()<<8|s()]}return{width:Math.ceil(16*(y+1)-2*r-2*i),height:(2-E)*(b+1)*16-(E?2:4)*(a+o),pixelRatio:S}},t.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},e}();t.default=i},"./src/demux/id3.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"isHeader",(function(){return i})),n.d(t,"isFooter",(function(){return a})),n.d(t,"getID3Data",(function(){return o})),n.d(t,"canParse",(function(){return l})),n.d(t,"getTimeStamp",(function(){return u})),n.d(t,"isTimeStampFrame",(function(){return c})),n.d(t,"getID3Frames",(function(){return f})),n.d(t,"decodeFrame",(function(){return h})),n.d(t,"utf8ArrayToStr",(function(){return y})),n.d(t,"testables",(function(){return b}));var r,i=function(e,t){return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},a=function(e,t){return t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},o=function(e,t){for(var n=t,r=0;i(e,t);)r+=10,r+=s(e,t+6),a(e,t+10)&&(r+=10),t+=r;if(r>0)return e.subarray(n,n+r)},s=function(e,t){var n=0;return n=(127&e[t])<<21,n|=(127&e[t+1])<<14,(n|=(127&e[t+2])<<7)|127&e[t+3]},l=function(e,t){return i(e,t)&&s(e,t+6)+10<=e.length-t},u=function(e){for(var t=f(e),n=0;n<t.length;n++){var r=t[n];if(c(r))return m(r)}},c=function(e){return e&&"PRIV"===e.key&&"com.apple.streaming.transportStreamTimestamp"===e.info},d=function(e){var t=String.fromCharCode(e[0],e[1],e[2],e[3]),n=s(e,4);return{type:t,size:n,data:e.subarray(10,10+n)}},f=function(e){for(var t=0,n=[];i(e,t);){for(var r=s(e,t+6),o=(t+=10)+r;t+8<o;){var l=d(e.subarray(t)),u=h(l);u&&n.push(u),t+=l.size+10}a(e,t)&&(t+=10)}return n},h=function(e){return"PRIV"===e.type?p(e):"W"===e.type[0]?g(e):v(e)},p=function(e){if(!(e.size<2)){var t=y(e.data,!0),n=new Uint8Array(e.data.subarray(t.length+1));return{key:e.type,info:t,data:n.buffer}}},v=function(e){if(!(e.size<2)){if("TXXX"===e.type){var t=1,n=y(e.data.subarray(t),!0);t+=n.length+1;var r=y(e.data.subarray(t));return{key:e.type,info:n,data:r}}var i=y(e.data.subarray(1));return{key:e.type,data:i}}},g=function(e){if("WXXX"===e.type){if(e.size<2)return;var t=1,n=y(e.data.subarray(t),!0);t+=n.length+1;var r=y(e.data.subarray(t));return{key:e.type,info:n,data:r}}var i=y(e.data);return{key:e.type,data:i}},m=function(e){if(8===e.data.byteLength){var t=new Uint8Array(e.data),n=1&t[3],r=(t[4]<<23)+(t[5]<<15)+(t[6]<<7)+t[7];return r/=45,n&&(r+=47721858.84),Math.round(r)}},y=function(e,t){void 0===t&&(t=!1);var n=E();if(n){var r=n.decode(e);if(t){var i=r.indexOf("\0");return-1!==i?r.substring(0,i):r}return r.replace(/\0/g,"")}for(var a,o,s,l=e.length,u="",c=0;c<l;){if(0===(a=e[c++])&&t)return u;if(0!==a&&3!==a)switch(a>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:u+=String.fromCharCode(a);break;case 12:case 13:o=e[c++],u+=String.fromCharCode((31&a)<<6|63&o);break;case 14:o=e[c++],s=e[c++],u+=String.fromCharCode((15&a)<<12|(63&o)<<6|(63&s)<<0)}}return u},b={decodeTextFrame:v};function E(){return r||void 0===self.TextDecoder||(r=new self.TextDecoder("utf-8")),r}},"./src/demux/mp3demuxer.ts":function(e,t,n){"use strict";n.r(t);var r=n("./src/demux/base-audio-demuxer.ts"),i=n("./src/demux/id3.ts"),a=n("./src/utils/logger.ts"),o=n("./src/demux/mpegaudio.ts");function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,s(t,n);var l=r.prototype;return l.resetInitSegment=function(t,n,r){e.prototype.resetInitSegment.call(this,t,n,r),this._audioTrack={container:"audio/mpeg",type:"audio",id:0,pid:-1,sequenceNumber:0,isAAC:!1,samples:[],manifestCodec:t,duration:r,inputTimeScale:9e4,dropped:0}},r.probe=function(e){if(!e)return!1;for(var t=(i.getID3Data(e,0)||[]).length,n=e.length;t<n;t++)if(o.probe(e,t))return a.logger.log("MPEG Audio sync word found !"),!0;return!1},l.canParse=function(e,t){return o.canParse(e,t)},l.appendFrame=function(e,t,n){if(null!==this.initPTS)return o.appendFrame(e,t,n,this.initPTS,this.frameIndex)},r}(r.default);l.minProbeByteLength=4,t.default=l},"./src/demux/mp4demuxer.ts":function(e,t,n){"use strict";n.r(t);var r=n("./src/utils/mp4-tools.ts"),i=n("./src/demux/dummy-demuxed-track.ts"),a=function(){function e(e,t){this.remainderData=null,this.config=void 0,this.config=t}var t=e.prototype;return t.resetTimeStamp=function(){},t.resetInitSegment=function(){},t.resetContiguity=function(){},e.probe=function(e){return Object(r.findBox)({data:e,start:0,end:Math.min(e.length,16384)},["moof"]).length>0},t.demux=function(e){var t=e,n=Object(i.dummyTrack)();if(this.config.progressive){this.remainderData&&(t=Object(r.appendUint8Array)(this.remainderData,e));var a=Object(r.segmentValidRange)(t);this.remainderData=a.remainder,n.samples=a.valid||new Uint8Array}else n.samples=t;return{audioTrack:Object(i.dummyTrack)(),avcTrack:n,id3Track:Object(i.dummyTrack)(),textTrack:Object(i.dummyTrack)()}},t.flush=function(){var e=Object(i.dummyTrack)();return e.samples=this.remainderData||new Uint8Array,this.remainderData=null,{audioTrack:Object(i.dummyTrack)(),avcTrack:e,id3Track:Object(i.dummyTrack)(),textTrack:Object(i.dummyTrack)()}},t.demuxSampleAes=function(e,t,n){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))},t.destroy=function(){},e}();a.minProbeByteLength=1024,t.default=a},"./src/demux/mpegaudio.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"appendFrame",(function(){return l})),n.d(t,"parseHeader",(function(){return u})),n.d(t,"isHeaderPattern",(function(){return c})),n.d(t,"isHeader",(function(){return d})),n.d(t,"canParse",(function(){return f})),n.d(t,"probe",(function(){return h}));var r=null,i=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],a=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],o=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],s=[0,1,1,4];function l(e,t,n,r,i){if(!(n+24>t.length)){var a=u(t,n);if(a&&n+a.frameLength<=t.length){var o=r+i*(9e4*a.samplesPerFrame/a.sampleRate),s={unit:t.subarray(n,n+a.frameLength),pts:o,dts:o};return e.config=[],e.channelCount=a.channelCount,e.samplerate=a.sampleRate,e.samples.push(s),{sample:s,length:a.frameLength,missing:0}}}}function u(e,t){var n=e[t+1]>>3&3,l=e[t+1]>>1&3,u=e[t+2]>>4&15,c=e[t+2]>>2&3;if(1!==n&&0!==u&&15!==u&&3!==c){var d=e[t+2]>>1&1,f=e[t+3]>>6,h=1e3*i[14*(3===n?3-l:3===l?3:4)+u-1],p=a[3*(3===n?0:2===n?1:2)+c],v=3===f?1:2,g=o[n][l],m=s[l],y=8*g*m,b=Math.floor(g*h/p+d)*m;if(null===r){var E=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);r=E?parseInt(E[1]):0}return!!r&&r<=87&&2===l&&h>=224e3&&0===f&&(e[t+3]=128|e[t+3]),{sampleRate:p,channelCount:v,frameLength:b,samplesPerFrame:y}}}function c(e,t){return 255===e[t]&&224==(224&e[t+1])&&0!=(6&e[t+1])}function d(e,t){return t+1<e.length&&c(e,t)}function f(e,t){return c(e,t)&&4<=e.length-t}function h(e,t){if(t+1<e.length&&c(e,t)){var n=u(e,t),r=4;null!=n&&n.frameLength&&(r=n.frameLength);var i=t+r;return i===e.length||d(e,i)}return!1}},"./src/demux/sample-aes.ts":function(e,t,n){"use strict";n.r(t);var r=n("./src/crypt/decrypter.ts"),i=n("./src/demux/tsdemuxer.ts"),a=function(){function e(e,t,n){this.keyData=void 0,this.decrypter=void 0,this.keyData=n,this.decrypter=new r.default(e,t,{removePKCS7Padding:!1})}var t=e.prototype;return t.decryptBuffer=function(e,t){this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer,t)},t.decryptAacSample=function(e,t,n,r){var i=e[t].unit,a=i.subarray(16,i.length-i.length%16),o=a.buffer.slice(a.byteOffset,a.byteOffset+a.length),s=this;this.decryptBuffer(o,(function(a){var o=new Uint8Array(a);i.set(o,16),r||s.decryptAacSamples(e,t+1,n)}))},t.decryptAacSamples=function(e,t,n){for(;;t++){if(t>=e.length)return void n();if(!(e[t].unit.length<32)){var r=this.decrypter.isSync();if(this.decryptAacSample(e,t,n,r),!r)return}}},t.getAvcEncryptedData=function(e){for(var t=16*Math.floor((e.length-48)/160)+16,n=new Int8Array(t),r=0,i=32;i<=e.length-16;i+=160,r+=16)n.set(e.subarray(i,i+16),r);return n},t.getAvcDecryptedUnit=function(e,t){for(var n=new Uint8Array(t),r=0,i=32;i<=e.length-16;i+=160,r+=16)e.set(n.subarray(r,r+16),i);return e},t.decryptAvcSample=function(e,t,n,r,a,o){var s=Object(i.discardEPB)(a.data),l=this.getAvcEncryptedData(s),u=this;this.decryptBuffer(l.buffer,(function(i){a.data=u.getAvcDecryptedUnit(s,i),o||u.decryptAvcSamples(e,t,n+1,r)}))},t.decryptAvcSamples=function(e,t,n,r){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;t++,n=0){if(t>=e.length)return void r();for(var i=e[t].units;!(n>=i.length);n++){var a=i[n];if(!(a.data.length<=48||1!==a.type&&5!==a.type)){var o=this.decrypter.isSync();if(this.decryptAvcSample(e,t,n,r,a,o),!o)return}}}},e}();t.default=a},"./src/demux/transmuxer-interface.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var r=n("./node_modules/webworkify-webpack/index.js"),i=n("./src/events.ts"),a=n("./src/demux/transmuxer.ts"),o=n("./src/utils/logger.ts"),s=n("./src/errors.ts"),l=n("./src/utils/mediasource-helper.ts"),u=n("./node_modules/eventemitter3/index.js"),c=Object(l.getMediaSource)()||{isTypeSupported:function(){return!1}},d=function(){function e(e,t,n,l){var d=this;this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.worker=void 0,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0,this.hls=e,this.id=t,this.onTransmuxComplete=n,this.onFlush=l;var f=e.config,h=function(t,n){(n=n||{}).frag=d.frag,n.id=d.id,e.trigger(t,n)};this.observer=new u.EventEmitter,this.observer.on(i.Events.FRAG_DECRYPTED,h),this.observer.on(i.Events.ERROR,h);var p={mp4:c.isTypeSupported("video/mp4"),mpeg:c.isTypeSupported("audio/mpeg"),mp3:c.isTypeSupported('audio/mp4; codecs="mp3"')},v=navigator.vendor;if(f.enableWorker&&"undefined"!=typeof Worker){var g;o.logger.log("demuxing in webworker");try{g=this.worker=r("./src/demux/transmuxer-worker.ts"),this.onwmsg=this.onWorkerMessage.bind(this),g.addEventListener("message",this.onwmsg),g.onerror=function(t){e.trigger(i.Events.ERROR,{type:s.ErrorTypes.OTHER_ERROR,details:s.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",error:new Error(t.message+"  ("+t.filename+":"+t.lineno+")")})},g.postMessage({cmd:"init",typeSupported:p,vendor:v,id:t,config:JSON.stringify(f)})}catch(e){o.logger.warn("Error in worker:",e),o.logger.error("Error while initializing DemuxerWorker, fallback to inline"),g&&self.URL.revokeObjectURL(g.objectURL),this.transmuxer=new a.default(this.observer,p,f,v,t),this.worker=null}}else this.transmuxer=new a.default(this.observer,p,f,v,t)}var t=e.prototype;return t.destroy=function(){var e=this.worker;if(e)e.removeEventListener("message",this.onwmsg),e.terminate(),this.worker=null;else{var t=this.transmuxer;t&&(t.destroy(),this.transmuxer=null)}var n=this.observer;n&&n.removeAllListeners(),this.observer=null},t.push=function(e,t,n,r,i,s,l,u,c,d){var f=this;c.transmuxing.start=self.performance.now();var h=this.transmuxer,p=this.worker,v=s?s.start:i.start,g=i.decryptdata,m=this.frag,y=!(m&&i.cc===m.cc),b=!(m&&c.level===m.level),E=m?c.sn-m.sn:-1,S=this.part?c.part-this.part.index:1,T=!b&&(1===E||0===E&&1===S),w=self.performance.now();(b||E||0===i.stats.parsing.start)&&(i.stats.parsing.start=w),!s||!S&&T||(s.stats.parsing.start=w);var k=new a.TransmuxState(y,T,u,b,v);if(!T||y){o.logger.log("[transmuxer-interface, "+i.type+"]: Starting new transmux session for sn: "+c.sn+" p: "+c.part+" level: "+c.level+" id: "+c.id+"\n        discontinuity: "+y+"\n        trackSwitch: "+b+"\n        contiguous: "+T+"\n        accurateTimeOffset: "+u+"\n        timeOffset: "+v);var L=new a.TransmuxConfig(n,r,t,l,d);this.configureTransmuxer(L)}if(this.frag=i,this.part=s,p)p.postMessage({cmd:"demux",data:e,decryptdata:g,chunkMeta:c,state:k},e instanceof ArrayBuffer?[e]:[]);else if(h){var x=h.push(e,g,c,k);Object(a.isPromise)(x)?x.then((function(e){f.handleTransmuxComplete(e)})):this.handleTransmuxComplete(x)}},t.flush=function(e){var t=this;e.transmuxing.start=self.performance.now();var n=this.transmuxer,r=this.worker;if(r)r.postMessage({cmd:"flush",chunkMeta:e});else if(n){var i=n.flush(e);Object(a.isPromise)(i)?i.then((function(n){t.handleFlushResult(n,e)})):this.handleFlushResult(i,e)}},t.handleFlushResult=function(e,t){var n=this;e.forEach((function(e){n.handleTransmuxComplete(e)})),this.onFlush(t)},t.onWorkerMessage=function(e){var t=e.data,n=this.hls;switch(t.event){case"init":self.URL.revokeObjectURL(this.worker.objectURL);break;case"transmuxComplete":this.handleTransmuxComplete(t.data);break;case"flush":this.onFlush(t.data);break;default:t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,n.trigger(t.event,t.data)}},t.configureTransmuxer=function(e){var t=this.worker,n=this.transmuxer;t?t.postMessage({cmd:"configure",config:e}):n&&n.configure(e)},t.handleTransmuxComplete=function(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)},e}()},"./src/demux/transmuxer-worker.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./src/demux/transmuxer.ts"),i=n("./src/events.ts"),a=n("./src/utils/logger.ts"),o=n("./node_modules/eventemitter3/index.js");function s(e){var t=new o.EventEmitter,n=function(t,n){e.postMessage({event:t,data:n})};t.on(i.Events.FRAG_DECRYPTED,n),t.on(i.Events.ERROR,n),e.addEventListener("message",(function(i){var o=i.data;switch(o.cmd){case"init":var s=JSON.parse(o.config);e.transmuxer=new r.default(t,o.typeSupported,s,o.vendor,o.id),Object(a.enableLogs)(s.debug),n("init",null);break;case"configure":e.transmuxer.configure(o.config);break;case"demux":var u=e.transmuxer.push(o.data,o.decryptdata,o.chunkMeta,o.state);Object(r.isPromise)(u)?u.then((function(t){l(e,t)})):l(e,u);break;case"flush":var d=o.chunkMeta,f=e.transmuxer.flush(d);Object(r.isPromise)(f)?f.then((function(t){c(e,t,d)})):c(e,f,d)}}))}function l(e,t){if((n=t.remuxResult).audio||n.video||n.text||n.id3||n.initSegment){var n,r=[],i=t.remuxResult,a=i.audio,o=i.video;a&&u(r,a),o&&u(r,o),e.postMessage({event:"transmuxComplete",data:t},r)}}function u(e,t){t.data1&&e.push(t.data1.buffer),t.data2&&e.push(t.data2.buffer)}function c(e,t,n){t.forEach((function(t){l(e,t)})),e.postMessage({event:"flush",data:n})}},"./src/demux/transmuxer.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return y})),n.d(t,"isPromise",(function(){return E})),n.d(t,"TransmuxConfig",(function(){return S})),n.d(t,"TransmuxState",(function(){return T}));var r,i=n("./src/events.ts"),a=n("./src/errors.ts"),o=n("./src/crypt/decrypter.ts"),s=n("./src/demux/aacdemuxer.ts"),l=n("./src/demux/mp4demuxer.ts"),u=n("./src/demux/tsdemuxer.ts"),c=n("./src/demux/mp3demuxer.ts"),d=n("./src/remux/mp4-remuxer.ts"),f=n("./src/remux/passthrough-remuxer.ts"),h=n("./src/demux/chunk-cache.ts"),p=n("./src/utils/mp4-tools.ts"),v=n("./src/utils/logger.ts");try{r=self.performance.now.bind(self.performance)}catch(e){v.logger.debug("Unable to use Performance API on this environment"),r=self.Date.now}var g=[{demux:u.default,remux:d.default},{demux:l.default,remux:f.default},{demux:s.default,remux:d.default},{demux:c.default,remux:d.default}],m=1024;g.forEach((function(e){var t=e.demux;m=Math.max(m,t.minProbeByteLength)}));var y=function(){function e(e,t,n,r,i){this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.cache=new h.default,this.observer=e,this.typeSupported=t,this.config=n,this.vendor=r,this.id=i}var t=e.prototype;return t.configure=function(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()},t.push=function(e,t,n,i){var a=this,o=n.transmuxing;o.executeStart=r();var s=new Uint8Array(e),l=this.cache,u=this.config,c=this.currentTransmuxState,d=this.transmuxConfig;i&&(this.currentTransmuxState=i);var f=function(e,t){var n=null;return e.byteLength>0&&null!=t&&null!=t.key&&null!==t.iv&&null!=t.method&&(n=t),n}(s,t);if(f&&"AES-128"===f.method){var h=this.getDecrypter();if(!u.enableSoftwareAES)return this.decryptionPromise=h.webCryptoDecrypt(s,f.key.buffer,f.iv.buffer).then((function(e){var t=a.push(e,null,n);return a.decryptionPromise=null,t})),this.decryptionPromise;var v=h.softwareDecrypt(s,f.key.buffer,f.iv.buffer);if(!v)return o.executeEnd=r(),b(n);s=new Uint8Array(v)}var g=i||c,m=g.contiguous,y=g.discontinuity,E=g.trackSwitch,S=g.accurateTimeOffset,T=g.timeOffset,w=d.audioCodec,k=d.videoCodec,L=d.defaultInitPts,x=d.duration,C=d.initSegmentData;if((y||E)&&this.resetInitSegment(C,w,k,x),y&&this.resetInitialTimestamp(L),m||this.resetContiguity(),this.needsProbing(s,y,E)){if(l.dataLength){var _=l.flush();s=Object(p.appendUint8Array)(_,s)}this.configureTransmuxer(s,d)}var A=this.transmux(s,f,T,S,n),O=this.currentTransmuxState;return O.contiguous=!0,O.discontinuity=!1,O.trackSwitch=!1,o.executeEnd=r(),A},t.flush=function(e){var t=this,n=e.transmuxing;n.executeStart=r();var o=this.decrypter,s=this.cache,l=this.currentTransmuxState,u=this.decryptionPromise;if(u)return u.then((function(){return t.flush(e)}));var c=[],d=l.timeOffset;if(o){var f=o.flush();f&&c.push(this.push(f,null,e))}var h=s.dataLength;s.reset();var p=this.demuxer,v=this.remuxer;if(!p||!v)return h>=m&&this.observer.emit(i.Events.ERROR,i.Events.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"}),n.executeEnd=r(),[b(e)];var g=p.flush(d);return E(g)?g.then((function(n){return t.flushRemux(c,n,e),c})):(this.flushRemux(c,g,e),c)},t.flushRemux=function(e,t,n){var i=t.audioTrack,a=t.avcTrack,o=t.id3Track,s=t.textTrack,l=this.currentTransmuxState,u=l.accurateTimeOffset,c=l.timeOffset;v.logger.log("[transmuxer.ts]: Flushed fragment "+n.sn+(n.part>-1?" p: "+n.part:"")+" of level "+n.level);var d=this.remuxer.remux(i,a,o,s,c,u,!0,this.id);e.push({remuxResult:d,chunkMeta:n}),n.transmuxing.executeEnd=r()},t.resetInitialTimestamp=function(e){var t=this.demuxer,n=this.remuxer;t&&n&&(t.resetTimeStamp(e),n.resetTimeStamp(e))},t.resetContiguity=function(){var e=this.demuxer,t=this.remuxer;e&&t&&(e.resetContiguity(),t.resetNextTimestamp())},t.resetInitSegment=function(e,t,n,r){var i=this.demuxer,a=this.remuxer;i&&a&&(i.resetInitSegment(t,n,r),a.resetInitSegment(e,t,n))},t.destroy=function(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)},t.transmux=function(e,t,n,r,i){return t&&"SAMPLE-AES"===t.method?this.transmuxSampleAes(e,t,n,r,i):this.transmuxUnencrypted(e,n,r,i)},t.transmuxUnencrypted=function(e,t,n,r){var i=this.demuxer.demux(e,t,!1,!this.config.progressive),a=i.audioTrack,o=i.avcTrack,s=i.id3Track,l=i.textTrack;return{remuxResult:this.remuxer.remux(a,o,s,l,t,n,!1,this.id),chunkMeta:r}},t.transmuxSampleAes=function(e,t,n,r,i){var a=this;return this.demuxer.demuxSampleAes(e,t,n).then((function(e){return{remuxResult:a.remuxer.remux(e.audioTrack,e.avcTrack,e.id3Track,e.textTrack,n,r,!1,a.id),chunkMeta:i}}))},t.configureTransmuxer=function(e,t){for(var n,r=this.config,i=this.observer,a=this.typeSupported,o=this.vendor,s=t.audioCodec,u=t.defaultInitPts,c=t.duration,d=t.initSegmentData,h=t.videoCodec,p=0,m=g.length;p<m;p++)if(g[p].demux.probe(e)){n=g[p];break}n||(v.logger.warn("Failed to find demuxer by probing frag, treating as mp4 passthrough"),n={demux:l.default,remux:f.default});var y=this.demuxer,b=this.remuxer,E=n.remux,S=n.demux;b&&b instanceof E||(this.remuxer=new E(i,r,a,o)),y&&y instanceof S||(this.demuxer=new S(i,r,a),this.probe=S.probe),this.resetInitSegment(d,s,h,c),this.resetInitialTimestamp(u)},t.needsProbing=function(e,t,n){return!this.demuxer||!this.remuxer||t||n},t.getDecrypter=function(){var e=this.decrypter;return e||(e=this.decrypter=new o.default(this.observer,this.config)),e},e}(),b=function(e){return{remuxResult:{},chunkMeta:e}};function E(e){return"then"in e&&e.then instanceof Function}var S=function(e,t,n,r,i){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=t,this.initSegmentData=n,this.duration=r,this.defaultInitPts=i},T=function(e,t,n,r,i){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.discontinuity=e,this.contiguous=t,this.accurateTimeOffset=n,this.trackSwitch=r,this.timeOffset=i}},"./src/demux/tsdemuxer.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"discardEPB",(function(){return E}));var r=n("./src/demux/adts.ts"),i=n("./src/demux/mpegaudio.ts"),a=n("./src/demux/exp-golomb.ts"),o=n("./src/demux/id3.ts"),s=n("./src/demux/sample-aes.ts"),l=n("./src/events.ts"),u=n("./src/utils/mp4-tools.ts"),c=n("./src/utils/logger.ts"),d=n("./src/errors.ts"),f={video:1,audio:2,id3:3,text:4},h=function(){function e(e,t,n){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this.aacLastPTS=null,this._initPTS=null,this._initDTS=null,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=e,this.config=t,this.typeSupported=n}e.probe=function(t){var n=e.syncOffset(t);return!(n<0||(n&&c.logger.warn("MPEG2-TS detected but first sync word found @ offset "+n+", junk ahead ?"),0))},e.syncOffset=function(e){for(var t=Math.min(1e3,e.length-564),n=0;n<t;){if(71===e[n]&&71===e[n+188]&&71===e[n+376])return n;n++}return-1},e.createTrack=function(e,t){return{container:"video"===e||"audio"===e?"video/mp2t":void 0,type:e,id:f[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===e?t:void 0}};var t=e.prototype;return t.resetInitSegment=function(t,n,r){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=e.createTrack("video",r),this._audioTrack=e.createTrack("audio",r),this._id3Track=e.createTrack("id3",r),this._txtTrack=e.createTrack("text",r),this._audioTrack.isAAC=!0,this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=t,this.videoCodec=n,this._duration=r},t.resetTimeStamp=function(){},t.resetContiguity=function(){var e=this._audioTrack,t=this._avcTrack,n=this._id3Track;e&&(e.pesData=null),t&&(t.pesData=null),n&&(n.pesData=null),this.aacOverFlow=null,this.aacLastPTS=null},t.demux=function(t,n,r,i){var a;void 0===r&&(r=!1),void 0===i&&(i=!1),r||(this.sampleAes=null);var o=this._avcTrack,s=this._audioTrack,f=this._id3Track,h=o.pid,p=o.pesData,y=s.pid,b=f.pid,E=s.pesData,S=f.pesData,T=!1,w=this.pmtParsed,k=this._pmtId,L=t.length;if(this.remainderData&&(L=(t=Object(u.appendUint8Array)(this.remainderData,t)).length,this.remainderData=null),L<188&&!i)return this.remainderData=t,{audioTrack:s,avcTrack:o,id3Track:f,textTrack:this._txtTrack};var x=Math.max(0,e.syncOffset(t));(L-=(L+x)%188)<t.byteLength&&!i&&(this.remainderData=new Uint8Array(t.buffer,L,t.buffer.byteLength-L));for(var C=x;C<L;C+=188)if(71===t[C]){var _=!!(64&t[C+1]),A=((31&t[C+1])<<8)+t[C+2],O=void 0;if((48&t[C+3])>>4>1){if((O=C+5+t[C+4])===C+188)continue}else O=C+4;switch(A){case h:_&&(p&&(a=m(p))&&this.parseAVCPES(a,!1),p={data:[],size:0}),p&&(p.data.push(t.subarray(O,C+188)),p.size+=C+188-O);break;case y:_&&(E&&(a=m(E))&&(s.isAAC?this.parseAACPES(a):this.parseMPEGPES(a)),E={data:[],size:0}),E&&(E.data.push(t.subarray(O,C+188)),E.size+=C+188-O);break;case b:_&&(S&&(a=m(S))&&this.parseID3PES(a),S={data:[],size:0}),S&&(S.data.push(t.subarray(O,C+188)),S.size+=C+188-O);break;case 0:_&&(O+=t[O]+1),k=this._pmtId=v(t,O);break;case k:_&&(O+=t[O]+1);var P=g(t,O,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,r);(h=P.avc)>0&&(o.pid=h),(y=P.audio)>0&&(s.pid=y,s.isAAC=P.isAAC),(b=P.id3)>0&&(f.pid=b),T&&!w&&(c.logger.log("reparse from beginning"),T=!1,C=x-188),w=this.pmtParsed=!0;break;case 17:case 8191:break;default:T=!0}}else this.observer.emit(l.Events.ERROR,l.Events.ERROR,{type:d.ErrorTypes.MEDIA_ERROR,details:d.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});o.pesData=p,s.pesData=E,f.pesData=S;var R={audioTrack:s,avcTrack:o,id3Track:f,textTrack:this._txtTrack};return i&&this.extractRemainingSamples(R),R},t.flush=function(){var e,t=this.remainderData;return this.remainderData=null,e=t?this.demux(t,-1,!1,!0):{audioTrack:this._audioTrack,avcTrack:this._avcTrack,textTrack:this._txtTrack,id3Track:this._id3Track},this.extractRemainingSamples(e),this.sampleAes?this.decrypt(e,this.sampleAes):e},t.extractRemainingSamples=function(e){var t,n=e.audioTrack,r=e.avcTrack,i=e.id3Track,a=r.pesData,o=n.pesData,s=i.pesData;a&&(t=m(a))?(this.parseAVCPES(t,!0),r.pesData=null):r.pesData=a,o&&(t=m(o))?(n.isAAC?this.parseAACPES(t):this.parseMPEGPES(t),n.pesData=null):(null!=o&&o.size&&c.logger.log("last AAC PES packet truncated,might overlap between fragments"),n.pesData=o),s&&(t=m(s))?(this.parseID3PES(t),i.pesData=null):i.pesData=s},t.demuxSampleAes=function(e,t,n){var r=this.demux(e,n,!0,!this.config.progressive),i=this.sampleAes=new s.default(this.observer,this.config,t);return this.decrypt(r,i)},t.decrypt=function(e,t){return new Promise((function(n){var r=e.audioTrack,i=e.avcTrack;r.samples&&r.isAAC?t.decryptAacSamples(r.samples,0,(function(){i.samples?t.decryptAvcSamples(i.samples,0,0,(function(){n(e)})):n(e)})):i.samples&&t.decryptAvcSamples(i.samples,0,0,(function(){n(e)}))}))},t.destroy=function(){this._initPTS=this._initDTS=null,this._duration=0},t.parseAVCPES=function(e,t){var n,r=this,i=this._avcTrack,s=this.parseAVCNALu(e.data),l=this.avcSample,u=!1;e.data=null,l&&s.length&&!i.audFound&&(y(l,i),l=this.avcSample=p(!1,e.pts,e.dts,"")),s.forEach((function(t){switch(t.type){case 1:n=!0,l||(l=r.avcSample=p(!0,e.pts,e.dts,"")),l.frame=!0;var s=t.data;if(u&&s.length>4){var c=new a.default(s).readSliceType();2!==c&&4!==c&&7!==c&&9!==c||(l.key=!0)}break;case 5:n=!0,l||(l=r.avcSample=p(!0,e.pts,e.dts,"")),l.key=!0,l.frame=!0;break;case 6:n=!0;var d=new a.default(E(t.data));d.readUByte();for(var f=0,h=0,v=!1,g=0;!v&&d.bytesAvailable>1;){f=0;do{f+=g=d.readUByte()}while(255===g);h=0;do{h+=g=d.readUByte()}while(255===g);if(4===f&&0!==d.bytesAvailable){if(v=!0,181===d.readUByte()&&49===d.readUShort()&&1195456820===d.readUInt()&&3===d.readUByte()){for(var m=d.readUByte(),S=31&m,T=[m,d.readUByte()],w=0;w<S;w++)T.push(d.readUByte()),T.push(d.readUByte()),T.push(d.readUByte());b(r._txtTrack.samples,{type:3,pts:e.pts,bytes:T})}}else if(5===f&&0!==d.bytesAvailable){if(v=!0,h>16){for(var k=[],L=0;L<16;L++)k.push(d.readUByte().toString(16)),3!==L&&5!==L&&7!==L&&9!==L||k.push("-");for(var x=h-16,C=new Uint8Array(x),_=0;_<x;_++)C[_]=d.readUByte();b(r._txtTrack.samples,{pts:e.pts,payloadType:f,uuid:k.join(""),userData:Object(o.utf8ArrayToStr)(C),userDataBytes:C})}}else if(h<d.bytesAvailable)for(var A=0;A<h;A++)d.readUByte()}break;case 7:if(n=!0,u=!0,!i.sps){var O=new a.default(t.data).readSPS();i.width=O.width,i.height=O.height,i.pixelRatio=O.pixelRatio,i.sps=[t.data],i.duration=r._duration;for(var P=t.data.subarray(1,4),R="avc1.",D=0;D<3;D++){var I=P[D].toString(16);I.length<2&&(I="0"+I),R+=I}i.codec=R}break;case 8:n=!0,i.pps||(i.pps=[t.data]);break;case 9:n=!1,i.audFound=!0,l&&y(l,i),l=r.avcSample=p(!1,e.pts,e.dts,"");break;case 12:n=!1;break;default:n=!1,l&&(l.debug+="unknown NAL "+t.type+" ")}l&&n&&l.units.push(t)})),t&&l&&(y(l,i),this.avcSample=null)},t.getLastNalUnit=function(){var e,t,n=this.avcSample;if(!n||0===n.units.length){var r=this._avcTrack.samples;n=r[r.length-1]}if(null!==(e=n)&&void 0!==e&&e.units){var i=n.units;t=i[i.length-1]}return t},t.parseAVCNALu=function(e){var t,n,r=e.byteLength,i=this._avcTrack,a=i.naluState||0,o=a,s=[],l=0,u=-1,c=0;for(-1===a&&(u=0,c=31&e[0],a=0,l=1);l<r;)if(t=e[l++],a)if(1!==a)if(t)if(1===t){if(u>=0){var d={data:e.subarray(u,l-a-1),type:c};s.push(d)}else{var f=this.getLastNalUnit();if(f&&(o&&l<=4-o&&f.state&&(f.data=f.data.subarray(0,f.data.byteLength-o)),(n=l-a-1)>0)){var h=new Uint8Array(f.data.byteLength+n);h.set(f.data,0),h.set(e.subarray(0,n),f.data.byteLength),f.data=h}}l<r?(u=l,c=31&e[l],a=0):a=-1}else a=0;else a=3;else a=t?0:2;else a=t?0:1;if(u>=0&&a>=0){var p={data:e.subarray(u,r),type:c,state:a};s.push(p)}if(0===s.length){var v=this.getLastNalUnit();if(v){var g=new Uint8Array(v.data.byteLength+e.byteLength);g.set(v.data,0),g.set(e,v.data.byteLength),v.data=g}}return i.naluState=a,s},t.parseAACPES=function(e){var t,n,i,a,o,s=0,u=this._audioTrack,f=this.aacOverFlow,h=e.data;if(f){this.aacOverFlow=null;var p=f.sample.unit.byteLength,v=Math.min(f.missing,p),g=p-v;f.sample.unit.set(h.subarray(0,v),g),u.samples.push(f.sample),s=f.missing}for(t=s,n=h.length;t<n-1&&!r.isHeader(h,t);t++);if(t===s||(t<n-1?(i="AAC PES did not start with ADTS header,offset:"+t,a=!1):(i="no ADTS header found in AAC PES",a=!0),c.logger.warn("parsing error:"+i),this.observer.emit(l.Events.ERROR,l.Events.ERROR,{type:d.ErrorTypes.MEDIA_ERROR,details:d.ErrorDetails.FRAG_PARSING_ERROR,fatal:a,reason:i}),!a)){if(r.initTrackConfig(u,this.observer,h,t,this.audioCodec),void 0!==e.pts)o=e.pts;else{if(!f)return void c.logger.warn("[tsdemuxer]: AAC PES unknown PTS");var m=r.getFrameDuration(u.samplerate);o=f.sample.pts+m}for(var y=0;t<n;){if(r.isHeader(h,t)){if(t+5<n){var b=r.appendFrame(u,h,t,o,y);if(b){if(!b.missing){t+=b.length,y++;continue}this.aacOverFlow=b}}break}t++}}},t.parseMPEGPES=function(e){var t=e.data,n=t.length,r=0,a=0,o=e.pts;if(void 0!==o)for(;a<n;)if(i.isHeader(t,a)){var s=i.appendFrame(this._audioTrack,t,a,o,r);if(!s)break;a+=s.length,r++}else a++;else c.logger.warn("[tsdemuxer]: MPEG PES unknown PTS")},t.parseID3PES=function(e){void 0!==e.pts?this._id3Track.samples.push(e):c.logger.warn("[tsdemuxer]: ID3 PES unknown PTS")},e}();function p(e,t,n,r){return{key:e,frame:!1,pts:t,dts:n,units:[],debug:r,length:0}}function v(e,t){return(31&e[t+10])<<8|e[t+11]}function g(e,t,n,r){var i={audio:-1,avc:-1,id3:-1,isAAC:!0},a=t+3+((15&e[t+1])<<8|e[t+2])-4;for(t+=12+((15&e[t+10])<<8|e[t+11]);t<a;){var o=(31&e[t+1])<<8|e[t+2];switch(e[t]){case 207:if(!r){c.logger.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:-1===i.audio&&(i.audio=o);break;case 21:-1===i.id3&&(i.id3=o);break;case 219:if(!r){c.logger.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:-1===i.avc&&(i.avc=o);break;case 3:case 4:n?-1===i.audio&&(i.audio=o,i.isAAC=!1):c.logger.log("MPEG audio found, not supported in this browser");break;case 36:c.logger.warn("Unsupported HEVC stream type found")}t+=5+((15&e[t+3])<<8|e[t+4])}return i}function m(e){var t,n,r,i,a,o=0,s=e.data;if(!e||0===e.size)return null;for(;s[0].length<19&&s.length>1;){var l=new Uint8Array(s[0].length+s[1].length);l.set(s[0]),l.set(s[1],s[0].length),s[0]=l,s.splice(1,1)}if(1===((t=s[0])[0]<<16)+(t[1]<<8)+t[2]){if((n=(t[4]<<8)+t[5])&&n>e.size-6)return null;var u=t[7];192&u&&(i=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2,64&u?i-(a=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2)>54e5&&(c.logger.warn(Math.round((i-a)/9e4)+"s delta between PTS and DTS, align them"),i=a):a=i);var d=(r=t[8])+9;if(e.size<=d)return null;e.size-=d;for(var f=new Uint8Array(e.size),h=0,p=s.length;h<p;h++){var v=(t=s[h]).byteLength;if(d){if(d>v){d-=v;continue}t=t.subarray(d),v-=d,d=0}f.set(t,o),o+=v}return n&&(n-=r+3),{data:f,pts:i,dts:a,len:n}}return null}function y(e,t){if(e.units.length&&e.frame){if(void 0===e.pts){var n=t.samples,r=n.length;if(!r)return void t.dropped++;var i=n[r-1];e.pts=i.pts,e.dts=i.dts}t.samples.push(e)}e.debug.length&&c.logger.log(e.pts+"/"+e.dts+":"+e.debug)}function b(e,t){var n=e.length;if(n>0){if(t.pts>=e[n-1].pts)e.push(t);else for(var r=n-1;r>=0;r--)if(t.pts<e[r].pts){e.splice(r,0,t);break}}else e.push(t)}function E(e){for(var t=e.byteLength,n=[],r=1;r<t-2;)0===e[r]&&0===e[r+1]&&3===e[r+2]?(n.push(r+2),r+=2):r++;if(0===n.length)return e;var i=t-n.length,a=new Uint8Array(i),o=0;for(r=0;r<i;o++,r++)o===n[0]&&(o++,n.shift()),a[r]=e[o];return a}h.minProbeByteLength=188,t.default=h},"./src/errors.ts":function(e,t,n){"use strict";var r,i;n.r(t),n.d(t,"ErrorTypes",(function(){return r})),n.d(t,"ErrorDetails",(function(){return i})),function(e){e.NETWORK_ERROR="networkError",e.MEDIA_ERROR="mediaError",e.KEY_SYSTEM_ERROR="keySystemError",e.MUX_ERROR="muxError",e.OTHER_ERROR="otherError"}(r||(r={})),function(e){e.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",e.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",e.KEY_SYSTEM_NO_SESSION="keySystemNoSession",e.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",e.KEY_SYSTEM_NO_INIT_DATA="keySystemNoInitData",e.MANIFEST_LOAD_ERROR="manifestLoadError",e.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",e.MANIFEST_PARSING_ERROR="manifestParsingError",e.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",e.LEVEL_EMPTY_ERROR="levelEmptyError",e.LEVEL_LOAD_ERROR="levelLoadError",e.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",e.LEVEL_SWITCH_ERROR="levelSwitchError",e.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",e.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",e.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",e.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",e.FRAG_LOAD_ERROR="fragLoadError",e.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",e.FRAG_DECRYPT_ERROR="fragDecryptError",e.FRAG_PARSING_ERROR="fragParsingError",e.REMUX_ALLOC_ERROR="remuxAllocError",e.KEY_LOAD_ERROR="keyLoadError",e.KEY_LOAD_TIMEOUT="keyLoadTimeOut",e.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",e.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",e.BUFFER_APPEND_ERROR="bufferAppendError",e.BUFFER_APPENDING_ERROR="bufferAppendingError",e.BUFFER_STALLED_ERROR="bufferStalledError",e.BUFFER_FULL_ERROR="bufferFullError",e.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",e.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",e.INTERNAL_EXCEPTION="internalException",e.INTERNAL_ABORTED="aborted",e.UNKNOWN="unknown"}(i||(i={}))},"./src/events.ts":function(e,t,n){"use strict";var r;n.r(t),n.d(t,"Events",(function(){return r})),function(e){e.MEDIA_ATTACHING="hlsMediaAttaching",e.MEDIA_ATTACHED="hlsMediaAttached",e.MEDIA_DETACHING="hlsMediaDetaching",e.MEDIA_DETACHED="hlsMediaDetached",e.BUFFER_RESET="hlsBufferReset",e.BUFFER_CODECS="hlsBufferCodecs",e.BUFFER_CREATED="hlsBufferCreated",e.BUFFER_APPENDING="hlsBufferAppending",e.BUFFER_APPENDED="hlsBufferAppended",e.BUFFER_EOS="hlsBufferEos",e.BUFFER_FLUSHING="hlsBufferFlushing",e.BUFFER_FLUSHED="hlsBufferFlushed",e.MANIFEST_LOADING="hlsManifestLoading",e.MANIFEST_LOADED="hlsManifestLoaded",e.MANIFEST_PARSED="hlsManifestParsed",e.LEVEL_SWITCHING="hlsLevelSwitching",e.LEVEL_SWITCHED="hlsLevelSwitched",e.LEVEL_LOADING="hlsLevelLoading",e.LEVEL_LOADED="hlsLevelLoaded",e.LEVEL_UPDATED="hlsLevelUpdated",e.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",e.LEVELS_UPDATED="hlsLevelsUpdated",e.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",e.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",e.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",e.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",e.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",e.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",e.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",e.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",e.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",e.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",e.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",e.CUES_PARSED="hlsCuesParsed",e.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",e.INIT_PTS_FOUND="hlsInitPtsFound",e.FRAG_LOADING="hlsFragLoading",e.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",e.FRAG_LOADED="hlsFragLoaded",e.FRAG_DECRYPTED="hlsFragDecrypted",e.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",e.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",e.FRAG_PARSING_METADATA="hlsFragParsingMetadata",e.FRAG_PARSED="hlsFragParsed",e.FRAG_BUFFERED="hlsFragBuffered",e.FRAG_CHANGED="hlsFragChanged",e.FPS_DROP="hlsFpsDrop",e.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",e.ERROR="hlsError",e.DESTROYING="hlsDestroying",e.KEY_LOADING="hlsKeyLoading",e.KEY_LOADED="hlsKeyLoaded",e.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",e.BACK_BUFFER_REACHED="hlsBackBufferReached"}(r||(r={}))},"./src/hls.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return y}));var r=n("./node_modules/url-toolkit/src/url-toolkit.js"),i=n("./src/loader/playlist-loader.ts"),a=n("./src/loader/key-loader.ts"),o=n("./src/controller/id3-track-controller.ts"),s=n("./src/controller/latency-controller.ts"),l=n("./src/controller/level-controller.ts"),u=n("./src/controller/fragment-tracker.ts"),c=n("./src/controller/stream-controller.ts"),d=n("./src/is-supported.ts"),f=n("./src/utils/logger.ts"),h=n("./src/config.ts"),p=n("./node_modules/eventemitter3/index.js"),v=n("./src/events.ts"),g=n("./src/errors.ts");function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var y=function(){function e(t){void 0===t&&(t={}),this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new p.EventEmitter,this._autoLevelCapping=void 0,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this._media=null,this.url=null;var n=this.config=Object(h.mergeConfig)(e.DefaultConfig,t);this.userConfig=t,Object(f.enableLogs)(n.debug),this._autoLevelCapping=-1,n.progressive&&Object(h.enableStreamingMode)(n);var r=n.abrController,d=n.bufferController,v=n.capLevelController,g=n.fpsController,m=this.abrController=new r(this),y=this.bufferController=new d(this),b=this.capLevelController=new v(this),E=new g(this),S=new i.default(this),T=new a.default(this),w=new o.default(this),k=this.levelController=new l.default(this),L=new u.FragmentTracker(this),x=this.streamController=new c.default(this,L);b.setStreamController(x),E.setStreamController(x);var C=[k,x];this.networkControllers=C;var _=[S,T,m,y,b,E,w,L];this.audioTrackController=this.createController(n.audioTrackController,null,C),this.createController(n.audioStreamController,L,C),this.subtitleTrackController=this.createController(n.subtitleTrackController,null,C),this.createController(n.subtitleStreamController,L,C),this.createController(n.timelineController,null,_),this.emeController=this.createController(n.emeController,null,_),this.latencyController=this.createController(s.default,null,_),this.coreComponents=_}e.isSupported=function(){return Object(d.isSupported)()};var t,n,y,b=e.prototype;return b.createController=function(e,t,n){if(e){var r=t?new e(this,t):new e(this);return n&&n.push(r),r}return null},b.on=function(e,t,n){void 0===n&&(n=this),this._emitter.on(e,t,n)},b.once=function(e,t,n){void 0===n&&(n=this),this._emitter.once(e,t,n)},b.removeAllListeners=function(e){this._emitter.removeAllListeners(e)},b.off=function(e,t,n,r){void 0===n&&(n=this),this._emitter.off(e,t,n,r)},b.listeners=function(e){return this._emitter.listeners(e)},b.emit=function(e,t,n){return this._emitter.emit(e,t,n)},b.trigger=function(e,t){if(this.config.debug)return this.emit(e,e,t);try{return this.emit(e,e,t)}catch(t){f.logger.error("An internal error happened while handling event "+e+'. Error message: "'+t.message+'". Here is a stacktrace:',t),this.trigger(v.Events.ERROR,{type:g.ErrorTypes.OTHER_ERROR,details:g.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:e,error:t})}return!1},b.listenerCount=function(e){return this._emitter.listenerCount(e)},b.destroy=function(){f.logger.log("destroy"),this.trigger(v.Events.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach((function(e){return e.destroy()})),this.networkControllers.length=0,this.coreComponents.forEach((function(e){return e.destroy()})),this.coreComponents.length=0},b.attachMedia=function(e){f.logger.log("attachMedia"),this._media=e,this.trigger(v.Events.MEDIA_ATTACHING,{media:e})},b.detachMedia=function(){f.logger.log("detachMedia"),this.trigger(v.Events.MEDIA_DETACHING,void 0),this._media=null},b.loadSource=function(e){this.stopLoad();var t=this.media,n=this.url,i=this.url=r.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});f.logger.log("loadSource:"+i),t&&n&&n!==i&&this.bufferController.hasSourceTypes()&&(this.detachMedia(),this.attachMedia(t)),this.trigger(v.Events.MANIFEST_LOADING,{url:e})},b.startLoad=function(e){void 0===e&&(e=-1),f.logger.log("startLoad("+e+")"),this.networkControllers.forEach((function(t){t.startLoad(e)}))},b.stopLoad=function(){f.logger.log("stopLoad"),this.networkControllers.forEach((function(e){e.stopLoad()}))},b.swapAudioCodec=function(){f.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},b.recoverMediaError=function(){f.logger.log("recoverMediaError");var e=this._media;this.detachMedia(),e&&this.attachMedia(e)},b.removeLevel=function(e,t){void 0===t&&(t=0),this.levelController.removeLevel(e,t)},t=e,y=[{key:"version",get:function(){return"1.0.11"}},{key:"Events",get:function(){return v.Events}},{key:"ErrorTypes",get:function(){return g.ErrorTypes}},{key:"ErrorDetails",get:function(){return g.ErrorDetails}},{key:"DefaultConfig",get:function(){return e.defaultConfig?e.defaultConfig:h.hlsDefaultConfig},set:function(t){e.defaultConfig=t}}],(n=[{key:"levels",get:function(){return this.levelController.levels||[]}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(e){f.logger.log("set currentLevel:"+e),this.loadLevel=e,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(e){f.logger.log("set nextLevel:"+e),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(e){f.logger.log("set loadLevel:"+e),this.levelController.manualLevel=e}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(e){f.logger.log("set firstLevel:"+e),this.levelController.firstLevel=e}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(e){f.logger.log("set startLevel:"+e),-1!==e&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}},{key:"capLevelToPlayerSize",get:function(){return this.config.capLevelToPlayerSize},set:function(e){var t=!!e;t!==this.config.capLevelToPlayerSize&&(t?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=t)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(e){this._autoLevelCapping!==e&&(f.logger.log("set autoLevelCapping:"+e),this._autoLevelCapping=e)}},{key:"bandwidthEstimate",get:function(){var e=this.abrController.bwEstimator;return e?e.getEstimate():NaN}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){var e=this.levels,t=this.config.minAutoBitrate;if(!e)return 0;for(var n=e.length,r=0;r<n;r++)if(e[r].maxBitrate>t)return r;return 0}},{key:"maxAutoLevel",get:function(){var e=this.levels,t=this.autoLevelCapping;return-1===t&&e&&e.length?e.length-1:t}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(e){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,e)}},{key:"audioTracks",get:function(){var e=this.audioTrackController;return e?e.audioTracks:[]}},{key:"audioTrack",get:function(){var e=this.audioTrackController;return e?e.audioTrack:-1},set:function(e){var t=this.audioTrackController;t&&(t.audioTrack=e)}},{key:"subtitleTracks",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTrack:-1},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleTrack=e)}},{key:"media",get:function(){return this._media}},{key:"subtitleDisplay",get:function(){var e=this.subtitleTrackController;return!!e&&e.subtitleDisplay},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)}},{key:"lowLatencyMode",get:function(){return this.config.lowLatencyMode},set:function(e){this.config.lowLatencyMode=e}},{key:"liveSyncPosition",get:function(){return this.latencyController.liveSyncPosition}},{key:"latency",get:function(){return this.latencyController.latency}},{key:"maxLatency",get:function(){return this.latencyController.maxLatency}},{key:"targetLatency",get:function(){return this.latencyController.targetLatency}},{key:"drift",get:function(){return this.latencyController.drift}},{key:"forceStartLoad",get:function(){return this.streamController.forceStartLoad}}])&&m(t.prototype,n),y&&m(t,y),e}();y.defaultConfig=void 0},"./src/is-supported.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"isSupported",(function(){return a})),n.d(t,"changeTypeSupported",(function(){return o}));var r=n("./src/utils/mediasource-helper.ts");function i(){return self.SourceBuffer||self.WebKitSourceBuffer}function a(){var e=Object(r.getMediaSource)();if(!e)return!1;var t=i(),n=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),a=!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove;return!!n&&!!a}function o(){var e,t=i();return"function"==typeof(null==t||null===(e=t.prototype)||void 0===e?void 0:e.changeType)}},"./src/loader/fragment-loader.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c})),n.d(t,"LoadError",(function(){return f}));var r=n("./src/polyfills/number.ts"),i=n("./src/errors.ts");function a(e){var t="function"==typeof Map?new Map:void 0;return(a=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return o(e,arguments,l(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),s(r,e)})(e)}function o(e,t,n){return(o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&s(i,n.prototype),i}).apply(null,arguments)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=Math.pow(2,17),c=function(){function e(e){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=e}var t=e.prototype;return t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t.abort=function(){this.loader&&this.loader.abort()},t.load=function(e,t){var n=this,r=e.url;if(!r)return Promise.reject(new f({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:e,networkDetails:null},"Fragment does not have a "+(r?"part list":"url")));this.abort();var a=this.config,o=a.fLoader,s=a.loader;return new Promise((function(r,l){n.loader&&n.loader.destroy();var c=n.loader=e.loader=o?new o(a):new s(a),h=d(e),p={timeout:a.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:a.fragLoadingMaxRetryTimeout,highWaterMark:u};e.stats=c.stats,c.load(h,p,{onSuccess:function(t,i,a,o){n.resetLoader(e,c),r({frag:e,part:null,payload:t.data,networkDetails:o})},onError:function(t,r,a){n.resetLoader(e,c),l(new f({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:t,networkDetails:a}))},onAbort:function(t,r,a){n.resetLoader(e,c),l(new f({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:e,networkDetails:a}))},onTimeout:function(t,r,a){n.resetLoader(e,c),l(new f({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,networkDetails:a}))},onProgress:function(n,r,i,a){t&&t({frag:e,part:null,payload:i,networkDetails:a})}})}))},t.loadPart=function(e,t,n){var r=this;this.abort();var a=this.config,o=a.fLoader,s=a.loader;return new Promise((function(l,c){r.loader&&r.loader.destroy();var h=r.loader=e.loader=o?new o(a):new s(a),p=d(e,t),v={timeout:a.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:a.fragLoadingMaxRetryTimeout,highWaterMark:u};t.stats=h.stats,h.load(p,v,{onSuccess:function(i,a,o,s){r.resetLoader(e,h),r.updateStatsFromPart(e,t);var u={frag:e,part:t,payload:i.data,networkDetails:s};n(u),l(u)},onError:function(n,a,o){r.resetLoader(e,h),c(new f({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:t,response:n,networkDetails:o}))},onAbort:function(n,a,o){e.stats.aborted=t.stats.aborted,r.resetLoader(e,h),c(new f({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:e,part:t,networkDetails:o}))},onTimeout:function(n,a,o){r.resetLoader(e,h),c(new f({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:t,networkDetails:o}))}})}))},t.updateStatsFromPart=function(e,t){var n=e.stats,r=t.stats,i=r.total;if(n.loaded+=r.loaded,i){var a=Math.round(e.duration/t.duration),o=Math.min(Math.round(n.loaded/i),a),s=(a-o)*Math.round(n.loaded/o);n.total=n.loaded+s}else n.total=Math.max(n.loaded,n.total);var l=n.loading,u=r.loading;l.start?l.first+=u.first-u.start:(l.start=u.start,l.first=u.first),l.end=u.end},t.resetLoader=function(e,t){e.loader=null,this.loader===t&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),t.destroy()},e}();function d(e,t){void 0===t&&(t=null);var n=t||e,i={frag:e,part:t,responseType:"arraybuffer",url:n.url,rangeStart:0,rangeEnd:0},a=n.byteRangeStartOffset,o=n.byteRangeEndOffset;return Object(r.isFiniteNumber)(a)&&Object(r.isFiniteNumber)(o)&&(i.rangeStart=a,i.rangeEnd=o),i}var f=function(e){var t,n;function r(t){for(var n,r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return(n=e.call.apply(e,[this].concat(i))||this).data=void 0,n.data=t,n}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,s(t,n),r}(a(Error))},"./src/loader/fragment.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"ElementaryStreamTypes",(function(){return r})),n.d(t,"BaseSegment",(function(){return h})),n.d(t,"Fragment",(function(){return p})),n.d(t,"Part",(function(){return v}));var r,i=n("./src/polyfills/number.ts"),a=n("./node_modules/url-toolkit/src/url-toolkit.js"),o=n("./src/utils/logger.ts"),s=n("./src/loader/level-key.ts"),l=n("./src/loader/load-stats.ts");function u(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}!function(e){e.AUDIO="audio",e.VIDEO="video",e.AUDIOVIDEO="audiovideo"}(r||(r={}));var h=function(){function e(e){var t;this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams=((t={})[r.AUDIO]=null,t[r.VIDEO]=null,t[r.AUDIOVIDEO]=null,t),this.baseurl=e}return e.prototype.setByteRange=function(e,t){var n=e.split("@",2),r=[];1===n.length?r[0]=t?t.byteRangeEndOffset:0:r[0]=parseInt(n[1]),r[1]=parseInt(n[0])+r[0],this._byteRange=r},f(e,[{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"url",get:function(){return!this._url&&this.baseurl&&this.relurl&&(this._url=Object(a.buildAbsoluteURL)(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""},set:function(e){this._url=e}}]),e}(),p=function(e){function t(t,n){var r;return(r=e.call(this,n)||this)._decryptdata=null,r.rawProgramDateTime=null,r.programDateTime=null,r.tagList=[],r.duration=0,r.sn=0,r.levelkey=void 0,r.type=void 0,r.loader=null,r.level=-1,r.cc=0,r.startPTS=void 0,r.endPTS=void 0,r.appendedPTS=void 0,r.startDTS=void 0,r.endDTS=void 0,r.start=0,r.deltaPTS=void 0,r.maxStartPTS=void 0,r.minEndPTS=void 0,r.stats=new l.LoadStats,r.urlId=0,r.data=void 0,r.bitrateTest=!1,r.title=null,r.initSegment=null,r.type=t,r}u(t,e);var n=t.prototype;return n.createInitializationVector=function(e){for(var t=new Uint8Array(16),n=12;n<16;n++)t[n]=e>>8*(15-n)&255;return t},n.setDecryptDataFromLevelKey=function(e,t){var n=e;return"AES-128"===(null==e?void 0:e.method)&&e.uri&&!e.iv&&((n=s.LevelKey.fromURI(e.uri)).method=e.method,n.iv=this.createInitializationVector(t),n.keyFormat="identity"),n},n.setElementaryStreamInfo=function(e,t,n,r,i,a){void 0===a&&(a=!1);var o=this.elementaryStreams,s=o[e];s?(s.startPTS=Math.min(s.startPTS,t),s.endPTS=Math.max(s.endPTS,n),s.startDTS=Math.min(s.startDTS,r),s.endDTS=Math.max(s.endDTS,i)):o[e]={startPTS:t,endPTS:n,startDTS:r,endDTS:i,partial:a}},n.clearElementaryStreamInfo=function(){var e=this.elementaryStreams;e[r.AUDIO]=null,e[r.VIDEO]=null,e[r.AUDIOVIDEO]=null},f(t,[{key:"decryptdata",get:function(){if(!this.levelkey&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkey){var e=this.sn;"number"!=typeof e&&(this.levelkey&&"AES-128"===this.levelkey.method&&!this.levelkey.iv&&o.logger.warn('missing IV for initialization segment with method="'+this.levelkey.method+'" - compliance issue'),e=0),this._decryptdata=this.setDecryptDataFromLevelKey(this.levelkey,e)}return this._decryptdata}},{key:"end",get:function(){return this.start+this.duration}},{key:"endProgramDateTime",get:function(){if(null===this.programDateTime)return null;if(!Object(i.isFiniteNumber)(this.programDateTime))return null;var e=Object(i.isFiniteNumber)(this.duration)?this.duration:0;return this.programDateTime+1e3*e}},{key:"encrypted",get:function(){var e;return!(null===(e=this.decryptdata)||void 0===e||!e.keyFormat||!this.decryptdata.uri)}}]),t}(h),v=function(e){function t(t,n,r,i,a){var o;(o=e.call(this,r)||this).fragOffset=0,o.duration=0,o.gap=!1,o.independent=!1,o.relurl=void 0,o.fragment=void 0,o.index=void 0,o.stats=new l.LoadStats,o.duration=t.decimalFloatingPoint("DURATION"),o.gap=t.bool("GAP"),o.independent=t.bool("INDEPENDENT"),o.relurl=t.enumeratedString("URI"),o.fragment=n,o.index=i;var s=t.enumeratedString("BYTERANGE");return s&&o.setByteRange(s,a),a&&(o.fragOffset=a.fragOffset+a.duration),o}return u(t,e),f(t,[{key:"start",get:function(){return this.fragment.start+this.fragOffset}},{key:"end",get:function(){return this.start+this.duration}},{key:"loaded",get:function(){var e=this.elementaryStreams;return!!(e.audio||e.video||e.audiovideo)}}]),t}(h)},"./src/loader/key-loader.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./src/events.ts"),i=n("./src/errors.ts"),a=n("./src/utils/logger.ts"),o=function(){function e(e){this.hls=void 0,this.loaders={},this.decryptkey=null,this.decrypturl=null,this.hls=e,this._registerListeners()}var t=e.prototype;return t._registerListeners=function(){this.hls.on(r.Events.KEY_LOADING,this.onKeyLoading,this)},t._unregisterListeners=function(){this.hls.off(r.Events.KEY_LOADING,this.onKeyLoading)},t.destroy=function(){for(var e in this._unregisterListeners(),this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={}},t.onKeyLoading=function(e,t){var n=t.frag,i=n.type,o=this.loaders[i];if(n.decryptdata){var s=n.decryptdata.uri;if(s!==this.decrypturl||null===this.decryptkey){var l=this.hls.config;if(o&&(a.logger.warn("abort previous key loader for type:"+i),o.abort()),!s)return void a.logger.warn("key uri is falsy");var u=l.loader,c=n.loader=this.loaders[i]=new u(l);this.decrypturl=s,this.decryptkey=null;var d={url:s,frag:n,responseType:"arraybuffer"},f={timeout:l.fragLoadingTimeOut,maxRetry:0,retryDelay:l.fragLoadingRetryDelay,maxRetryDelay:l.fragLoadingMaxRetryTimeout,highWaterMark:0},h={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};c.load(d,f,h)}else this.decryptkey&&(n.decryptdata.key=this.decryptkey,this.hls.trigger(r.Events.KEY_LOADED,{frag:n}))}else a.logger.warn("Missing decryption data on fragment in onKeyLoading")},t.loadsuccess=function(e,t,n){var i=n.frag;i.decryptdata?(this.decryptkey=i.decryptdata.key=new Uint8Array(e.data),i.loader=null,delete this.loaders[i.type],this.hls.trigger(r.Events.KEY_LOADED,{frag:i})):a.logger.error("after key load, decryptdata unset")},t.loaderror=function(e,t){var n=t.frag,a=n.loader;a&&a.abort(),delete this.loaders[n.type],this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:n,response:e})},t.loadtimeout=function(e,t){var n=t.frag,a=n.loader;a&&a.abort(),delete this.loaders[n.type],this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:n})},e}()},"./src/loader/level-details.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"LevelDetails",(function(){return a}));var r=n("./src/polyfills/number.ts");function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.fragments=[],this.url=e}var t,n;return e.prototype.reloaded=function(e){if(!e)return this.advanced=!0,void(this.updated=!0);var t=this.lastPartSn-e.lastPartSn,n=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!n||!!t,this.advanced=this.endSN>e.endSN||t>0||0===t&&n>0,this.updated||this.advanced?this.misses=Math.floor(.6*e.misses):this.misses=e.misses+1,this.availabilityDelay=e.availabilityDelay},t=e,(n=[{key:"hasProgramDateTime",get:function(){return!!this.fragments.length&&Object(r.isFiniteNumber)(this.fragments[this.fragments.length-1].programDateTime)}},{key:"levelTargetDuration",get:function(){return this.averagetargetduration||this.targetduration||10}},{key:"drift",get:function(){var e=this.driftEndTime-this.driftStartTime;return e>0?1e3*(this.driftEnd-this.driftStart)/e:1}},{key:"edge",get:function(){return this.partEnd||this.fragmentEnd}},{key:"partEnd",get:function(){var e;return null!==(e=this.partList)&&void 0!==e&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}},{key:"fragmentEnd",get:function(){var e;return null!==(e=this.fragments)&&void 0!==e&&e.length?this.fragments[this.fragments.length-1].end:0}},{key:"age",get:function(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}},{key:"lastPartIndex",get:function(){var e;return null!==(e=this.partList)&&void 0!==e&&e.length?this.partList[this.partList.length-1].index:-1}},{key:"lastPartSn",get:function(){var e;return null!==(e=this.partList)&&void 0!==e&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}])&&i(t.prototype,n),e}()},"./src/loader/level-key.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"LevelKey",(function(){return a}));var r=n("./node_modules/url-toolkit/src/url-toolkit.js");function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(e,t){this._uri=null,this.method=null,this.keyFormat=null,this.keyFormatVersions=null,this.keyID=null,this.key=null,this.iv=null,this._uri=t?Object(r.buildAbsoluteURL)(e,t,{alwaysNormalize:!0}):e}var t,n;return e.fromURL=function(t,n){return new e(t,n)},e.fromURI=function(t){return new e(t)},t=e,(n=[{key:"uri",get:function(){return this._uri}}])&&i(t.prototype,n),e}()},"./src/loader/load-stats.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"LoadStats",(function(){return r}));var r=function(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}},"./src/loader/m3u8-parser.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g}));var r=n("./src/polyfills/number.ts"),i=n("./node_modules/url-toolkit/src/url-toolkit.js"),a=n("./src/loader/fragment.ts"),o=n("./src/loader/level-details.ts"),s=n("./src/loader/level-key.ts"),l=n("./src/utils/attr-list.ts"),u=n("./src/utils/logger.ts"),c=n("./src/utils/codecs.ts"),d=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-SESSION-DATA:([^\r\n]*)[\r\n]+/g,f=/#EXT-X-MEDIA:(.*)/g,h=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),p=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(PLAYLIST-TYPE):(.+)/.source,/#EXT-X-(MEDIA-SEQUENCE): *(\d+)/.source,/#EXT-X-(SKIP):(.+)/.source,/#EXT-X-(TARGETDURATION): *(\d+)/.source,/#EXT-X-(KEY):(.+)/.source,/#EXT-X-(START):(.+)/.source,/#EXT-X-(ENDLIST)/.source,/#EXT-X-(DISCONTINUITY-SEQ)UENCE: *(\d+)/.source,/#EXT-X-(DIS)CONTINUITY/.source,/#EXT-X-(VERSION):(\d+)/.source,/#EXT-X-(MAP):(.+)/.source,/#EXT-X-(SERVER-CONTROL):(.+)/.source,/#EXT-X-(PART-INF):(.+)/.source,/#EXT-X-(GAP)/.source,/#EXT-X-(BITRATE):\s*(\d+)/.source,/#EXT-X-(PART):(.+)/.source,/#EXT-X-(PRELOAD-HINT):(.+)/.source,/#EXT-X-(RENDITION-REPORT):(.+)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|")),v=/\.(mp4|m4s|m4v|m4a)$/i,g=function(){function e(){}return e.findGroup=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.id===t)return r}},e.convertAVC1ToAVCOTI=function(e){var t=e.split(".");if(t.length>2){var n=t.shift()+".";return(n+=parseInt(t.shift()).toString(16))+("000"+parseInt(t.shift()).toString(16)).substr(-4)}return e},e.resolve=function(e,t){return i.buildAbsoluteURL(t,e,{alwaysNormalize:!0})},e.parseMasterPlaylist=function(t,n){var r,i=[],a={},o=!1;for(d.lastIndex=0;null!=(r=d.exec(t));)if(r[1]){var s=new l.AttrList(r[1]),u={attrs:s,bitrate:s.decimalInteger("AVERAGE-BANDWIDTH")||s.decimalInteger("BANDWIDTH"),name:s.NAME,url:e.resolve(r[2],n)},c=s.decimalResolution("RESOLUTION");c&&(u.width=c.width,u.height=c.height),m((s.CODECS||"").split(/[ ,]+/).filter((function(e){return e})),u),u.videoCodec&&-1!==u.videoCodec.indexOf("avc1")&&(u.videoCodec=e.convertAVC1ToAVCOTI(u.videoCodec)),i.push(u)}else if(r[3]){var f=new l.AttrList(r[3]);f["DATA-ID"]&&(o=!0,a[f["DATA-ID"]]=f)}return{levels:i,sessionData:o?a:null}},e.parseMasterPlaylistMedia=function(t,n,r,i){var a;void 0===i&&(i=[]);var o=[],s=0;for(f.lastIndex=0;null!==(a=f.exec(t));){var u=new l.AttrList(a[1]);if(u.TYPE===r){var c={attrs:u,bitrate:0,id:s++,groupId:u["GROUP-ID"],instreamId:u["INSTREAM-ID"],name:u.NAME||u.LANGUAGE||"",type:r,default:u.bool("DEFAULT"),autoselect:u.bool("AUTOSELECT"),forced:u.bool("FORCED"),lang:u.LANGUAGE,url:u.URI?e.resolve(u.URI,n):""};if(i.length){var d=e.findGroup(i,c.groupId)||i[0];y(c,d,"audioCodec"),y(c,d,"textCodec")}o.push(c)}}return o},e.parseLevelPlaylist=function(e,t,n,c,d){var f,g,m,y=new o.LevelDetails(t),E=y.fragments,S=null,T=0,w=0,k=0,L=0,x=null,C=new a.Fragment(c,t),_=-1,A=!1;for(h.lastIndex=0,y.m3u8=e;null!==(f=h.exec(e));){A&&(A=!1,(C=new a.Fragment(c,t)).start=k,C.sn=T,C.cc=L,C.level=n,S&&(C.initSegment=S,C.rawProgramDateTime=S.rawProgramDateTime));var O=f[1];if(O){C.duration=parseFloat(O);var P=(" "+f[2]).slice(1);C.title=P||null,C.tagList.push(P?["INF",O,P]:["INF",O])}else if(f[3])Object(r.isFiniteNumber)(C.duration)&&(C.start=k,m&&(C.levelkey=m),C.sn=T,C.level=n,C.cc=L,C.urlId=d,E.push(C),C.relurl=(" "+f[3]).slice(1),b(C,x),x=C,k+=C.duration,T++,w=0,A=!0);else if(f[4]){var R=(" "+f[4]).slice(1);x?C.setByteRange(R,x):C.setByteRange(R)}else if(f[5])C.rawProgramDateTime=(" "+f[5]).slice(1),C.tagList.push(["PROGRAM-DATE-TIME",C.rawProgramDateTime]),-1===_&&(_=E.length);else{if(!(f=f[0].match(p))){u.logger.warn("No matches on slow regex match for level playlist!");continue}for(g=1;g<f.length&&void 0===f[g];g++);var D=(" "+f[g]).slice(1),I=(" "+f[g+1]).slice(1),M=f[g+2]?(" "+f[g+2]).slice(1):"";switch(D){case"PLAYLIST-TYPE":y.type=I.toUpperCase();break;case"MEDIA-SEQUENCE":T=y.startSN=parseInt(I);break;case"SKIP":var F=new l.AttrList(I),N=F.decimalInteger("SKIPPED-SEGMENTS");if(Object(r.isFiniteNumber)(N)){y.skippedSegments=N;for(var j=N;j--;)E.unshift(null);T+=N}var B=F.enumeratedString("RECENTLY-REMOVED-DATERANGES");B&&(y.recentlyRemovedDateranges=B.split("\t"));break;case"TARGETDURATION":y.targetduration=parseFloat(I);break;case"VERSION":y.version=parseInt(I);break;case"EXTM3U":break;case"ENDLIST":y.live=!1;break;case"#":(I||M)&&C.tagList.push(M?[I,M]:[I]);break;case"DIS":L++;case"GAP":C.tagList.push([D]);break;case"BITRATE":C.tagList.push([D,I]);break;case"DISCONTINUITY-SEQ":L=parseInt(I);break;case"KEY":var U,G=new l.AttrList(I),z=G.enumeratedString("METHOD"),H=G.URI,K=G.hexadecimalInteger("IV"),V=G.enumeratedString("KEYFORMATVERSIONS"),W=G.enumeratedString("KEYID"),J=null!=(U=G.enumeratedString("KEYFORMAT"))?U:"identity";if(["com.apple.streamingkeydelivery","com.microsoft.playready","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","com.widevine"].indexOf(J)>-1){u.logger.warn("Keyformat "+J+" is not supported from the manifest");continue}if("identity"!==J)continue;z&&(m=s.LevelKey.fromURL(t,H),H&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(z)>=0&&(m.method=z,m.keyFormat=J,W&&(m.keyID=W),V&&(m.keyFormatVersions=V),m.iv=K));break;case"START":var q=new l.AttrList(I).decimalFloatingPoint("TIME-OFFSET");Object(r.isFiniteNumber)(q)&&(y.startTimeOffset=q);break;case"MAP":var Y=new l.AttrList(I);C.relurl=Y.URI,Y.BYTERANGE&&C.setByteRange(Y.BYTERANGE),C.level=n,C.sn="initSegment",m&&(C.levelkey=m),C.initSegment=null,S=C,A=!0;break;case"SERVER-CONTROL":var X=new l.AttrList(I);y.canBlockReload=X.bool("CAN-BLOCK-RELOAD"),y.canSkipUntil=X.optionalFloat("CAN-SKIP-UNTIL",0),y.canSkipDateRanges=y.canSkipUntil>0&&X.bool("CAN-SKIP-DATERANGES"),y.partHoldBack=X.optionalFloat("PART-HOLD-BACK",0),y.holdBack=X.optionalFloat("HOLD-BACK",0);break;case"PART-INF":var Q=new l.AttrList(I);y.partTarget=Q.decimalFloatingPoint("PART-TARGET");break;case"PART":var $=y.partList;$||($=y.partList=[]);var Z=w>0?$[$.length-1]:void 0,ee=w++,te=new a.Part(new l.AttrList(I),C,t,ee,Z);$.push(te),C.duration+=te.duration;break;case"PRELOAD-HINT":var ne=new l.AttrList(I);y.preloadHint=ne;break;case"RENDITION-REPORT":var re=new l.AttrList(I);y.renditionReports=y.renditionReports||[],y.renditionReports.push(re);break;default:u.logger.warn("line parsed but not handled: "+f)}}}x&&!x.relurl?(E.pop(),k-=x.duration,y.partList&&(y.fragmentHint=x)):y.partList&&(b(C,x),C.cc=L,y.fragmentHint=C);var ie=E.length,ae=E[0],oe=E[ie-1];if((k+=y.skippedSegments*y.targetduration)>0&&ie&&oe){y.averagetargetduration=k/ie;var se=oe.sn;y.endSN="initSegment"!==se?se:0,ae&&(y.startCC=ae.cc,ae.initSegment||y.fragments.every((function(e){return e.relurl&&(t=e.relurl,v.test(null!=(n=null===(r=i.parseURL(t))||void 0===r?void 0:r.path)?n:""));var t,n,r}))&&(u.logger.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(C=new a.Fragment(c,t)).relurl=oe.relurl,C.level=n,C.sn="initSegment",ae.initSegment=C,y.needSidxRanges=!0))}else y.endSN=0,y.startCC=0;return y.fragmentHint&&(k+=y.fragmentHint.duration),y.totalduration=k,y.endCC=L,_>0&&function(e,t){for(var n=e[t],r=t;r--;){var i=e[r];if(!i)return;i.programDateTime=n.programDateTime-1e3*i.duration,n=i}}(E,_),y},e}();function m(e,t){["video","audio","text"].forEach((function(n){var r=e.filter((function(e){return Object(c.isCodecType)(e,n)}));if(r.length){var i=r.filter((function(e){return 0===e.lastIndexOf("avc1",0)||0===e.lastIndexOf("mp4a",0)}));t[n+"Codec"]=i.length>0?i[0]:r[0],e=e.filter((function(e){return-1===r.indexOf(e)}))}})),t.unknownCodecs=e}function y(e,t,n){var r=t[n];r&&(e[n]=r)}function b(e,t){e.rawProgramDateTime?e.programDateTime=Date.parse(e.rawProgramDateTime):null!=t&&t.programDateTime&&(e.programDateTime=t.endProgramDateTime),Object(r.isFiniteNumber)(e.programDateTime)||(e.programDateTime=null,e.rawProgramDateTime=null)}},"./src/loader/playlist-loader.ts":function(e,t,n){"use strict";n.r(t);var r=n("./src/polyfills/number.ts"),i=n("./src/events.ts"),a=n("./src/errors.ts"),o=n("./src/utils/logger.ts"),s=n("./src/utils/mp4-tools.ts"),l=n("./src/loader/m3u8-parser.ts"),u=n("./src/types/loader.ts"),c=n("./src/utils/attr-list.ts");function d(e,t){var n=e.url;return void 0!==n&&0!==n.indexOf("data:")||(n=t.url),n}var f=function(){function e(e){this.hls=void 0,this.loaders=Object.create(null),this.hls=e,this.registerListeners()}var t=e.prototype;return t.registerListeners=function(){var e=this.hls;e.on(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(i.Events.LEVEL_LOADING,this.onLevelLoading,this),e.on(i.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on(i.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},t.unregisterListeners=function(){var e=this.hls;e.off(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(i.Events.LEVEL_LOADING,this.onLevelLoading,this),e.off(i.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off(i.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},t.createInternalLoader=function(e){var t=this.hls.config,n=t.pLoader,r=t.loader,i=new(n||r)(t);return e.loader=i,this.loaders[e.type]=i,i},t.getInternalLoader=function(e){return this.loaders[e.type]},t.resetInternalLoader=function(e){this.loaders[e]&&delete this.loaders[e]},t.destroyInternalLoaders=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy(),this.resetInternalLoader(e)}},t.destroy=function(){this.unregisterListeners(),this.destroyInternalLoaders()},t.onManifestLoading=function(e,t){var n=t.url;this.load({id:null,groupId:null,level:0,responseType:"text",type:u.PlaylistContextType.MANIFEST,url:n,deliveryDirectives:null})},t.onLevelLoading=function(e,t){var n=t.id,r=t.level,i=t.url,a=t.deliveryDirectives;this.load({id:n,groupId:null,level:r,responseType:"text",type:u.PlaylistContextType.LEVEL,url:i,deliveryDirectives:a})},t.onAudioTrackLoading=function(e,t){var n=t.id,r=t.groupId,i=t.url,a=t.deliveryDirectives;this.load({id:n,groupId:r,level:null,responseType:"text",type:u.PlaylistContextType.AUDIO_TRACK,url:i,deliveryDirectives:a})},t.onSubtitleTrackLoading=function(e,t){var n=t.id,r=t.groupId,i=t.url,a=t.deliveryDirectives;this.load({id:n,groupId:r,level:null,responseType:"text",type:u.PlaylistContextType.SUBTITLE_TRACK,url:i,deliveryDirectives:a})},t.load=function(e){var t,n,r,i,a,s,l=this.hls.config,c=this.getInternalLoader(e);if(c){var d=c.context;if(d&&d.url===e.url)return void o.logger.trace("[playlist-loader]: playlist request ongoing");o.logger.log("[playlist-loader]: aborting previous loader for type: "+e.type),c.abort()}switch(e.type){case u.PlaylistContextType.MANIFEST:n=l.manifestLoadingMaxRetry,r=l.manifestLoadingTimeOut,i=l.manifestLoadingRetryDelay,a=l.manifestLoadingMaxRetryTimeout;break;case u.PlaylistContextType.LEVEL:case u.PlaylistContextType.AUDIO_TRACK:case u.PlaylistContextType.SUBTITLE_TRACK:n=0,r=l.levelLoadingTimeOut;break;default:n=l.levelLoadingMaxRetry,r=l.levelLoadingTimeOut,i=l.levelLoadingRetryDelay,a=l.levelLoadingMaxRetryTimeout}if(c=this.createInternalLoader(e),null!==(t=e.deliveryDirectives)&&void 0!==t&&t.part&&(e.type===u.PlaylistContextType.LEVEL&&null!==e.level?s=this.hls.levels[e.level].details:e.type===u.PlaylistContextType.AUDIO_TRACK&&null!==e.id?s=this.hls.audioTracks[e.id].details:e.type===u.PlaylistContextType.SUBTITLE_TRACK&&null!==e.id&&(s=this.hls.subtitleTracks[e.id].details),s)){var f=s.partTarget,h=s.targetduration;f&&h&&(r=Math.min(1e3*Math.max(3*f,.8*h),r))}var p={timeout:r,maxRetry:n,retryDelay:i,maxRetryDelay:a,highWaterMark:0},v={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};c.load(e,p,v)},t.loadsuccess=function(e,t,n,r){if(void 0===r&&(r=null),n.isSidxRequest)return this.handleSidxRequest(e,n),void this.handlePlaylistLoaded(e,t,n,r);this.resetInternalLoader(n.type);var i=e.data;0===i.indexOf("#EXTM3U")?(t.parsing.start=performance.now(),i.indexOf("#EXTINF:")>0||i.indexOf("#EXT-X-TARGETDURATION:")>0?this.handleTrackOrLevelPlaylist(e,t,n,r):this.handleMasterPlaylist(e,t,n,r)):this.handleManifestParsingError(e,n,"no EXTM3U delimiter",r)},t.loaderror=function(e,t,n){void 0===n&&(n=null),this.handleNetworkError(t,n,!1,e)},t.loadtimeout=function(e,t,n){void 0===n&&(n=null),this.handleNetworkError(t,n,!0)},t.handleMasterPlaylist=function(e,t,n,r){var a=this.hls,s=e.data,u=d(e,n),f=l.default.parseMasterPlaylist(s,u),h=f.levels,p=f.sessionData;if(h.length){var v=h.map((function(e){return{id:e.attrs.AUDIO,audioCodec:e.audioCodec}})),g=h.map((function(e){return{id:e.attrs.SUBTITLES,textCodec:e.textCodec}})),m=l.default.parseMasterPlaylistMedia(s,u,"AUDIO",v),y=l.default.parseMasterPlaylistMedia(s,u,"SUBTITLES",g),b=l.default.parseMasterPlaylistMedia(s,u,"CLOSED-CAPTIONS");m.length&&(m.some((function(e){return!e.url}))||!h[0].audioCodec||h[0].attrs.AUDIO||(o.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),m.unshift({type:"main",name:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new c.AttrList({}),bitrate:0,url:""}))),a.trigger(i.Events.MANIFEST_LOADED,{levels:h,audioTracks:m,subtitles:y,captions:b,url:u,stats:t,networkDetails:r,sessionData:p})}else this.handleManifestParsingError(e,n,"no level found in manifest",r)},t.handleTrackOrLevelPlaylist=function(e,t,n,o){var s=this.hls,f=n.id,h=n.level,p=n.type,v=d(e,n),g=Object(r.isFiniteNumber)(f)?f:0,m=Object(r.isFiniteNumber)(h)?h:g,y=function(e){switch(e.type){case u.PlaylistContextType.AUDIO_TRACK:return u.PlaylistLevelType.AUDIO;case u.PlaylistContextType.SUBTITLE_TRACK:return u.PlaylistLevelType.SUBTITLE;default:return u.PlaylistLevelType.MAIN}}(n),b=l.default.parseLevelPlaylist(e.data,v,m,y,g);if(b.fragments.length){if(p===u.PlaylistContextType.MANIFEST){var E={attrs:new c.AttrList({}),bitrate:0,details:b,name:"",url:v};s.trigger(i.Events.MANIFEST_LOADED,{levels:[E],audioTracks:[],url:v,stats:t,networkDetails:o,sessionData:null})}if(t.parsing.end=performance.now(),b.needSidxRanges){var S,T=null===(S=b.fragments[0].initSegment)||void 0===S?void 0:S.url;this.load({url:T,isSidxRequest:!0,type:p,level:h,levelDetails:b,id:f,groupId:null,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer",deliveryDirectives:null})}else n.levelDetails=b,this.handlePlaylistLoaded(e,t,n,o)}else s.trigger(i.Events.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.LEVEL_EMPTY_ERROR,fatal:!1,url:v,reason:"no fragments found in level",level:"number"==typeof n.level?n.level:void 0})},t.handleSidxRequest=function(e,t){var n=Object(s.parseSegmentIndex)(new Uint8Array(e.data));if(n){var r=n.references,i=t.levelDetails;r.forEach((function(e,t){var r=e.info,a=i.fragments[t];0===a.byteRange.length&&a.setByteRange(String(1+r.end-r.start)+"@"+String(r.start)),a.initSegment&&a.initSegment.setByteRange(String(n.moovEndOffset)+"@0")}))}},t.handleManifestParsingError=function(e,t,n,r){this.hls.trigger(i.Events.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:t.type===u.PlaylistContextType.MANIFEST,url:e.url,reason:n,response:e,context:t,networkDetails:r})},t.handleNetworkError=function(e,t,n,r){void 0===n&&(n=!1),o.logger.warn("[playlist-loader]: A network "+(n?"timeout":"error")+" occurred while loading "+e.type+" level: "+e.level+" id: "+e.id+' group-id: "'+e.groupId+'"');var s=a.ErrorDetails.UNKNOWN,l=!1,c=this.getInternalLoader(e);switch(e.type){case u.PlaylistContextType.MANIFEST:s=n?a.ErrorDetails.MANIFEST_LOAD_TIMEOUT:a.ErrorDetails.MANIFEST_LOAD_ERROR,l=!0;break;case u.PlaylistContextType.LEVEL:s=n?a.ErrorDetails.LEVEL_LOAD_TIMEOUT:a.ErrorDetails.LEVEL_LOAD_ERROR,l=!1;break;case u.PlaylistContextType.AUDIO_TRACK:s=n?a.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:a.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,l=!1;break;case u.PlaylistContextType.SUBTITLE_TRACK:s=n?a.ErrorDetails.SUBTITLE_TRACK_LOAD_TIMEOUT:a.ErrorDetails.SUBTITLE_LOAD_ERROR,l=!1}c&&this.resetInternalLoader(e.type);var d={type:a.ErrorTypes.NETWORK_ERROR,details:s,fatal:l,url:e.url,loader:c,context:e,networkDetails:t};r&&(d.response=r),this.hls.trigger(i.Events.ERROR,d)},t.handlePlaylistLoaded=function(e,t,n,r){var a=n.type,o=n.level,s=n.id,l=n.groupId,c=n.loader,d=n.levelDetails,f=n.deliveryDirectives;if(null!=d&&d.targetduration){if(c)switch(d.live&&(c.getCacheAge&&(d.ageHeader=c.getCacheAge()||0),c.getCacheAge&&!isNaN(d.ageHeader)||(d.ageHeader=0)),a){case u.PlaylistContextType.MANIFEST:case u.PlaylistContextType.LEVEL:this.hls.trigger(i.Events.LEVEL_LOADED,{details:d,level:o||0,id:s||0,stats:t,networkDetails:r,deliveryDirectives:f});break;case u.PlaylistContextType.AUDIO_TRACK:this.hls.trigger(i.Events.AUDIO_TRACK_LOADED,{details:d,id:s||0,groupId:l||"",stats:t,networkDetails:r,deliveryDirectives:f});break;case u.PlaylistContextType.SUBTITLE_TRACK:this.hls.trigger(i.Events.SUBTITLE_TRACK_LOADED,{details:d,id:s||0,groupId:l||"",stats:t,networkDetails:r,deliveryDirectives:f})}}else this.handleManifestParsingError(e,n,"invalid target duration",r)},e}();t.default=f},"./src/polyfills/number.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"isFiniteNumber",(function(){return r})),n.d(t,"MAX_SAFE_INTEGER",(function(){return i}));var r=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},i=Number.MAX_SAFE_INTEGER||9007199254740991},"./src/remux/aac-helper.ts":function(e,t,n){"use strict";n.r(t);var r=function(){function e(){}return e.getSilentFrame=function(e,t){if("mp4a.40.2"===e){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}},e}();t.default=r},"./src/remux/mp4-generator.ts":function(e,t,n){"use strict";n.r(t);var r=Math.pow(2,32)-1,i=function(){function e(){}return e.init=function(){var t;for(t in e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var n=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),r=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);e.HDLR_TYPES={video:n,audio:r};var i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),a=new Uint8Array([0,0,0,0,0,0,0,0]);e.STTS=e.STSC=e.STCO=a,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var o=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);e.FTYP=e.box(e.types.ftyp,o,l,o,s),e.DINF=e.box(e.types.dinf,e.box(e.types.dref,i))},e.box=function(e){for(var t=8,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=r.length,o=a;a--;)t+=r[a].byteLength;var s=new Uint8Array(t);for(s[0]=t>>24&255,s[1]=t>>16&255,s[2]=t>>8&255,s[3]=255&t,s.set(e,4),a=0,t=8;a<o;a++)s.set(r[a],t),t+=r[a].byteLength;return s},e.hdlr=function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])},e.mdat=function(t){return e.box(e.types.mdat,t)},e.mdhd=function(t,n){n*=t;var i=Math.floor(n/(r+1)),a=Math.floor(n%(r+1));return e.box(e.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,i>>24,i>>16&255,i>>8&255,255&i,a>>24,a>>16&255,a>>8&255,255&a,85,196,0,0]))},e.mdia=function(t){return e.box(e.types.mdia,e.mdhd(t.timescale,t.duration),e.hdlr(t.type),e.minf(t))},e.mfhd=function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))},e.minf=function(t){return"audio"===t.type?e.box(e.types.minf,e.box(e.types.smhd,e.SMHD),e.DINF,e.stbl(t)):e.box(e.types.minf,e.box(e.types.vmhd,e.VMHD),e.DINF,e.stbl(t))},e.moof=function(t,n,r){return e.box(e.types.moof,e.mfhd(t),e.traf(r,n))},e.moov=function(t){for(var n=t.length,r=[];n--;)r[n]=e.trak(t[n]);return e.box.apply(null,[e.types.moov,e.mvhd(t[0].timescale,t[0].duration)].concat(r).concat(e.mvex(t)))},e.mvex=function(t){for(var n=t.length,r=[];n--;)r[n]=e.trex(t[n]);return e.box.apply(null,[e.types.mvex].concat(r))},e.mvhd=function(t,n){n*=t;var i=Math.floor(n/(r+1)),a=Math.floor(n%(r+1)),o=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,i>>24,i>>16&255,i>>8&255,255&i,a>>24,a>>16&255,a>>8&255,255&a,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e.box(e.types.mvhd,o)},e.sdtp=function(t){var n,r,i=t.samples||[],a=new Uint8Array(4+i.length);for(n=0;n<i.length;n++)r=i[n].flags,a[n+4]=r.dependsOn<<4|r.isDependedOn<<2|r.hasRedundancy;return e.box(e.types.sdtp,a)},e.stbl=function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.STTS),e.box(e.types.stsc,e.STSC),e.box(e.types.stsz,e.STSZ),e.box(e.types.stco,e.STCO))},e.avc1=function(t){var n,r,i,a=[],o=[];for(n=0;n<t.sps.length;n++)i=(r=t.sps[n]).byteLength,a.push(i>>>8&255),a.push(255&i),a=a.concat(Array.prototype.slice.call(r));for(n=0;n<t.pps.length;n++)i=(r=t.pps[n]).byteLength,o.push(i>>>8&255),o.push(255&i),o=o.concat(Array.prototype.slice.call(r));var s=e.box(e.types.avcC,new Uint8Array([1,a[3],a[4],a[5],255,224|t.sps.length].concat(a).concat([t.pps.length]).concat(o))),l=t.width,u=t.height,c=t.pixelRatio[0],d=t.pixelRatio[1];return e.box(e.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,u>>8&255,255&u,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,e.box(e.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),e.box(e.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,d>>24,d>>16&255,d>>8&255,255&d])))},e.esds=function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))},e.mp4a=function(t){var n=t.samplerate;return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]),e.box(e.types.esds,e.esds(t)))},e.mp3=function(t){var n=t.samplerate;return e.box(e.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]))},e.stsd=function(t){return"audio"===t.type?t.isAAC||"mp3"!==t.codec?e.box(e.types.stsd,e.STSD,e.mp4a(t)):e.box(e.types.stsd,e.STSD,e.mp3(t)):e.box(e.types.stsd,e.STSD,e.avc1(t))},e.tkhd=function(t){var n=t.id,i=t.duration*t.timescale,a=t.width,o=t.height,s=Math.floor(i/(r+1)),l=Math.floor(i%(r+1));return e.box(e.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,n>>24&255,n>>16&255,n>>8&255,255&n,0,0,0,0,s>>24,s>>16&255,s>>8&255,255&s,l>>24,l>>16&255,l>>8&255,255&l,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,a>>8&255,255&a,0,0,o>>8&255,255&o,0,0]))},e.traf=function(t,n){var i=e.sdtp(t),a=t.id,o=Math.floor(n/(r+1)),s=Math.floor(n%(r+1));return e.box(e.types.traf,e.box(e.types.tfhd,new Uint8Array([0,0,0,0,a>>24,a>>16&255,a>>8&255,255&a])),e.box(e.types.tfdt,new Uint8Array([1,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,s>>24,s>>16&255,s>>8&255,255&s])),e.trun(t,i.length+16+20+8+16+8+8),i)},e.trak=function(t){return t.duration=t.duration||4294967295,e.box(e.types.trak,e.tkhd(t),e.mdia(t))},e.trex=function(t){var n=t.id;return e.box(e.types.trex,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},e.trun=function(t,n){var r,i,a,o,s,l,u=t.samples||[],c=u.length,d=12+16*c,f=new Uint8Array(d);for(n+=8+d,f.set([0,0,15,1,c>>>24&255,c>>>16&255,c>>>8&255,255&c,n>>>24&255,n>>>16&255,n>>>8&255,255&n],0),r=0;r<c;r++)a=(i=u[r]).duration,o=i.size,s=i.flags,l=i.cts,f.set([a>>>24&255,a>>>16&255,a>>>8&255,255&a,o>>>24&255,o>>>16&255,o>>>8&255,255&o,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,l>>>24&255,l>>>16&255,l>>>8&255,255&l],12+16*r);return e.box(e.types.trun,f)},e.initSegment=function(t){e.types||e.init();var n=e.moov(t),r=new Uint8Array(e.FTYP.byteLength+n.byteLength);return r.set(e.FTYP),r.set(n,e.FTYP.byteLength),r},e}();i.types=void 0,i.HDLR_TYPES=void 0,i.STTS=void 0,i.STSC=void 0,i.STCO=void 0,i.STSZ=void 0,i.VMHD=void 0,i.SMHD=void 0,i.STSD=void 0,i.FTYP=void 0,i.DINF=void 0,t.default=i},"./src/remux/mp4-remuxer.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v})),n.d(t,"normalizePts",(function(){return g}));var r=n("./src/polyfills/number.ts"),i=n("./src/remux/aac-helper.ts"),a=n("./src/remux/mp4-generator.ts"),o=n("./src/events.ts"),s=n("./src/errors.ts"),l=n("./src/utils/logger.ts"),u=n("./src/types/loader.ts"),c=n("./src/utils/timescale-conversion.ts");function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f=null,h=null,p=!1,v=function(){function e(e,t,n,r){if(void 0===r&&(r=""),this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=void 0,this._initDTS=void 0,this.nextAvcDts=null,this.nextAudioPts=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=e,this.config=t,this.typeSupported=n,this.ISGenerated=!1,null===f){var i=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);f=i?parseInt(i[1]):0}if(null===h){var a=navigator.userAgent.match(/Safari\/(\d+)/i);h=a?parseInt(a[1]):0}p=!!f&&f<75||!!h&&h<600}var t=e.prototype;return t.destroy=function(){},t.resetTimeStamp=function(e){l.logger.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=e},t.resetNextTimestamp=function(){l.logger.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1},t.resetInitSegment=function(){l.logger.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1},t.getVideoStartPts=function(e){var t=!1,n=e.reduce((function(e,n){var r=n.pts-e;return r<-4294967296?(t=!0,g(e,n.pts)):r>0?e:n.pts}),e[0].pts);return t&&l.logger.debug("PTS rollover detected"),n},t.remux=function(e,t,n,r,i,a,o,s){var c,d,f,h,p,v,m=i,y=i,b=e.pid>-1,E=t.pid>-1,S=t.samples.length,T=e.samples.length>0,w=S>1;if((!b||T)&&(!E||w)||this.ISGenerated||o){this.ISGenerated||(f=this.generateIS(e,t,i));var k=this.isVideoContiguous,L=-1;if(w&&(L=function(e){for(var t=0;t<e.length;t++)if(e[t].key)return t;return-1}(t.samples),!k&&this.config.forceKeyFrameOnDiscontinuity))if(v=!0,L>0){l.logger.warn("[mp4-remuxer]: Dropped "+L+" out of "+S+" video samples due to a missing keyframe");var x=this.getVideoStartPts(t.samples);t.samples=t.samples.slice(L),t.dropped+=L,y+=(t.samples[0].pts-x)/(t.timescale||9e4)}else-1===L&&(l.logger.warn("[mp4-remuxer]: No keyframe found out of "+S+" video samples"),v=!1);if(this.ISGenerated){if(T&&w){var C=this.getVideoStartPts(t.samples),_=(g(e.samples[0].pts,C)-C)/t.inputTimeScale;m+=Math.max(0,_),y+=Math.max(0,-_)}if(T){if(e.samplerate||(l.logger.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),f=this.generateIS(e,t,i)),d=this.remuxAudio(e,m,this.isAudioContiguous,a,E||w||s===u.PlaylistLevelType.AUDIO?y:void 0),w){var A=d?d.endPTS-d.startPTS:0;t.inputTimeScale||(l.logger.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),f=this.generateIS(e,t,i)),c=this.remuxVideo(t,y,k,A)}}else w&&(c=this.remuxVideo(t,y,k,0));c&&(c.firstKeyFrame=L,c.independent=-1!==L)}}return this.ISGenerated&&(n.samples.length&&(p=this.remuxID3(n,i)),r.samples.length&&(h=this.remuxText(r,i))),{audio:d,video:c,initSegment:f,independent:v,text:h,id3:p}},t.generateIS=function(e,t,n){var i,o,s,l=e.samples,u=t.samples,c=this.typeSupported,d={},f=!Object(r.isFiniteNumber)(this._initPTS),h="audio/mp4";if(f&&(i=o=1/0),e.config&&l.length&&(e.timescale=e.samplerate,e.isAAC||(c.mpeg?(h="audio/mpeg",e.codec=""):c.mp3&&(e.codec="mp3")),d.audio={id:"audio",container:h,codec:e.codec,initSegment:!e.isAAC&&c.mpeg?new Uint8Array(0):a.default.initSegment([e]),metadata:{channelCount:e.channelCount}},f&&(s=e.inputTimeScale,i=o=l[0].pts-Math.round(s*n))),t.sps&&t.pps&&u.length&&(t.timescale=t.inputTimeScale,d.video={id:"main",container:"video/mp4",codec:t.codec,initSegment:a.default.initSegment([t]),metadata:{width:t.width,height:t.height}},f)){s=t.inputTimeScale;var p=this.getVideoStartPts(u),v=Math.round(s*n);o=Math.min(o,g(u[0].dts,p)-v),i=Math.min(i,p-v)}if(Object.keys(d).length)return this.ISGenerated=!0,f&&(this._initPTS=i,this._initDTS=o),{tracks:d,initPTS:i,timescale:s}},t.remuxVideo=function(e,t,n,r){var i,u,h,v=e.inputTimeScale,y=e.samples,b=[],E=y.length,S=this._initPTS,T=this.nextAvcDts,w=8,k=Number.POSITIVE_INFINITY,L=Number.NEGATIVE_INFINITY,x=0,C=!1;n&&null!==T||(T=t*v-(y[0].pts-g(y[0].dts,y[0].pts)));for(var _=0;_<E;_++){var A=y[_];A.pts=g(A.pts-S,T),A.dts=g(A.dts-S,T),A.dts>A.pts&&(x=Math.max(Math.min(x,A.pts-A.dts),-18e3)),A.dts<y[_>0?_-1:_].dts&&(C=!0)}C&&y.sort((function(e,t){var n=e.dts-t.dts,r=e.pts-t.pts;return n||r})),u=y[0].dts,h=y[y.length-1].dts;var O=Math.round((h-u)/(E-1));if(x<0){if(x<-2*O){l.logger.warn("PTS < DTS detected in video samples, offsetting DTS from PTS by "+Object(c.toMsFromMpegTsClock)(-O,!0)+" ms");for(var P=x,R=0;R<E;R++)y[R].dts=P=Math.max(P,y[R].pts-O),y[R].pts=Math.max(P,y[R].pts)}else{l.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+Object(c.toMsFromMpegTsClock)(x,!0)+" ms to overcome this issue");for(var D=0;D<E;D++)y[D].dts=y[D].dts+x}u=y[0].dts}if(n){var I=u-T,M=I>O;if(M||I<-1){M?l.logger.warn("AVC: "+Object(c.toMsFromMpegTsClock)(I,!0)+" ms ("+I+"dts) hole between fragments detected, filling it"):l.logger.warn("AVC: "+Object(c.toMsFromMpegTsClock)(-I,!0)+" ms ("+I+"dts) overlapping between fragments detected"),u=T;var F=y[0].pts-I;y[0].dts=u,y[0].pts=F,l.logger.log("Video: First PTS/DTS adjusted: "+Object(c.toMsFromMpegTsClock)(F,!0)+"/"+Object(c.toMsFromMpegTsClock)(u,!0)+", delta: "+Object(c.toMsFromMpegTsClock)(I,!0)+" ms")}}p&&(u=Math.max(0,u));for(var N=0,j=0,B=0;B<E;B++){for(var U=y[B],G=U.units,z=G.length,H=0,K=0;K<z;K++)H+=G[K].data.length;j+=H,N+=z,U.length=H,U.dts=Math.max(U.dts,u),U.pts=Math.max(U.pts,U.dts,0),k=Math.min(U.pts,k),L=Math.max(U.pts,L)}h=y[E-1].dts;var V,W=j+4*N+8;try{V=new Uint8Array(W)}catch(e){return void this.observer.emit(o.Events.ERROR,o.Events.ERROR,{type:s.ErrorTypes.MUX_ERROR,details:s.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:W,reason:"fail allocating video mdat "+W})}var J=new DataView(V.buffer);J.setUint32(0,W),V.set(a.default.types.mdat,4);for(var q=0;q<E;q++){for(var Y=y[q],X=Y.units,Q=0,$=0,Z=X.length;$<Z;$++){var ee=X[$],te=ee.data,ne=ee.data.byteLength;J.setUint32(w,ne),w+=4,V.set(te,w),w+=ne,Q+=4+ne}if(q<E-1)i=y[q+1].dts-Y.dts;else{var re=this.config,ie=Y.dts-y[q>0?q-1:q].dts;if(re.stretchShortVideoTrack&&null!==this.nextAudioPts){var ae=Math.floor(re.maxBufferHole*v),oe=(r?k+r*v:this.nextAudioPts)-Y.pts;oe>ae?((i=oe-ie)<0&&(i=ie),l.logger.log("[mp4-remuxer]: It is approximately "+oe/90+" ms to the next segment; using duration "+i/90+" ms for the last video frame.")):i=ie}else i=ie}var se=Math.round(Y.pts-Y.dts);b.push(new m(Y.key,i,Q,se))}if(b.length&&f&&f<70){var le=b[0].flags;le.dependsOn=2,le.isNonSync=0}console.assert(void 0!==i,"mp4SampleDuration must be computed"),this.nextAvcDts=T=h+i,this.isVideoContiguous=!0;var ue={data1:a.default.moof(e.sequenceNumber++,u,d({},e,{samples:b})),data2:V,startPTS:k/v,endPTS:(L+i)/v,startDTS:u/v,endDTS:T/v,type:"video",hasAudio:!1,hasVideo:!0,nb:b.length,dropped:e.dropped};return e.samples=[],e.dropped=0,console.assert(V.length,"MDAT length must not be zero"),ue},t.remuxAudio=function(e,t,n,r,u){var c=e.inputTimeScale,f=c/(e.samplerate?e.samplerate:c),h=e.isAAC?1024:1152,p=h*f,v=this._initPTS,y=!e.isAAC&&this.typeSupported.mpeg,b=[],E=e.samples,S=y?0:8,T=this.nextAudioPts||-1,w=t*c;if(this.isAudioContiguous=n=n||E.length&&T>0&&(r&&Math.abs(w-T)<9e3||Math.abs(g(E[0].pts-v,w)-T)<20*p),E.forEach((function(e){e.pts=g(e.pts-v,w)})),!n||T<0){if(!(E=E.filter((function(e){return e.pts>=0}))).length)return;T=0===u?0:r?Math.max(0,w):E[0].pts}if(e.isAAC)for(var k=void 0!==u,L=this.config.maxAudioFramesDrift,x=0,C=T;x<E.length;x++){var _=E[x],A=_.pts,O=A-C,P=Math.abs(1e3*O/c);if(O<=-L*p&&k)0===x&&(l.logger.warn("Audio frame @ "+(A/c).toFixed(3)+"s overlaps nextAudioPts by "+Math.round(1e3*O/c)+" ms."),this.nextAudioPts=T=C=A);else if(O>=L*p&&P<1e4&&k){var R=Math.round(O/p);(C=A-R*p)<0&&(R--,C+=p),0===x&&(this.nextAudioPts=T=C),l.logger.warn("[mp4-remuxer]: Injecting "+R+" audio frame @ "+(C/c).toFixed(3)+"s due to "+Math.round(1e3*O/c)+" ms gap.");for(var D=0;D<R;D++){var I=Math.max(C,0),M=i.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);M||(l.logger.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),M=_.unit.subarray()),E.splice(x,0,{unit:M,pts:I}),C+=p,x++}}_.pts=C,C+=p}for(var F,N=null,j=null,B=0,U=E.length;U--;)B+=E[U].unit.byteLength;for(var G=0,z=E.length;G<z;G++){var H=E[G],K=H.unit,V=H.pts;if(null!==j)b[G-1].duration=Math.round((V-j)/f);else{if(n&&e.isAAC&&(V=T),N=V,!(B>0))return;B+=S;try{F=new Uint8Array(B)}catch(e){return void this.observer.emit(o.Events.ERROR,o.Events.ERROR,{type:s.ErrorTypes.MUX_ERROR,details:s.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:B,reason:"fail allocating audio mdat "+B})}y||(new DataView(F.buffer).setUint32(0,B),F.set(a.default.types.mdat,4))}F.set(K,S);var W=K.byteLength;S+=W,b.push(new m(!0,h,W,0)),j=V}var J=b.length;if(J){var q=b[b.length-1];this.nextAudioPts=T=j+f*q.duration;var Y=y?new Uint8Array(0):a.default.moof(e.sequenceNumber++,N/f,d({},e,{samples:b}));e.samples=[];var X=N/c,Q=T/c,$={data1:Y,data2:F,startPTS:X,endPTS:Q,startDTS:X,endDTS:Q,type:"audio",hasAudio:!0,hasVideo:!1,nb:J};return this.isAudioContiguous=!0,console.assert(F.length,"MDAT length must not be zero"),$}},t.remuxEmptyAudio=function(e,t,n,r){var a=e.inputTimeScale,o=a/(e.samplerate?e.samplerate:a),s=this.nextAudioPts,u=(null!==s?s:r.startDTS*a)+this._initDTS,c=r.endDTS*a+this._initDTS,d=1024*o,f=Math.ceil((c-u)/d),h=i.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(l.logger.warn("[mp4-remuxer]: remux empty Audio"),h){for(var p=[],v=0;v<f;v++){var g=u+v*d;p.push({unit:h,pts:g,dts:g})}return e.samples=p,this.remuxAudio(e,t,n,!1)}l.logger.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec")},t.remuxID3=function(e,t){var n=e.samples.length;if(n){for(var r=e.inputTimeScale,i=this._initPTS,a=this._initDTS,o=0;o<n;o++){var s=e.samples[o];s.pts=g(s.pts-i,t*r)/r,s.dts=g(s.dts-a,t*r)/r}var l=e.samples;return e.samples=[],{samples:l}}},t.remuxText=function(e,t){var n=e.samples.length;if(n){for(var r=e.inputTimeScale,i=this._initPTS,a=0;a<n;a++){var o=e.samples[a];o.pts=g(o.pts-i,t*r)/r}e.samples.sort((function(e,t){return e.pts-t.pts}));var s=e.samples;return e.samples=[],{samples:s}}},e}();function g(e,t){var n;if(null===t)return e;for(n=t<e?-8589934592:8589934592;Math.abs(e-t)>4294967296;)e+=n;return e}var m=function(e,t,n,r){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=t,this.size=n,this.cts=r,this.flags=new y(e)},y=function(e){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=e?2:1,this.isNonSync=e?0:1}},"./src/remux/passthrough-remuxer.ts":function(e,t,n){"use strict";n.r(t);var r=n("./src/polyfills/number.ts"),i=n("./src/utils/mp4-tools.ts"),a=n("./src/loader/fragment.ts"),o=n("./src/utils/logger.ts"),s=function(){function e(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=void 0,this.initTracks=void 0,this.lastEndDTS=null}var t=e.prototype;return t.destroy=function(){},t.resetTimeStamp=function(e){this.initPTS=e,this.lastEndDTS=null},t.resetNextTimestamp=function(){this.lastEndDTS=null},t.resetInitSegment=function(e,t,n){this.audioCodec=t,this.videoCodec=n,this.generateInitSegment(e),this.emitInitSegment=!0},t.generateInitSegment=function(e){var t=this.audioCodec,n=this.videoCodec;if(!e||!e.byteLength)return this.initTracks=void 0,void(this.initData=void 0);var r=this.initData=Object(i.parseInitSegment)(e);t||(t=u(r.audio,a.ElementaryStreamTypes.AUDIO)),n||(n=u(r.video,a.ElementaryStreamTypes.VIDEO));var s={};r.audio&&r.video?s.audiovideo={container:"video/mp4",codec:t+","+n,initSegment:e,id:"main"}:r.audio?s.audio={container:"audio/mp4",codec:t,initSegment:e,id:"audio"}:r.video?s.video={container:"video/mp4",codec:n,initSegment:e,id:"main"}:o.logger.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=s},t.remux=function(e,t,n,a,s){var u=this.initPTS,c=this.lastEndDTS,d={audio:void 0,video:void 0,text:a,id3:n,initSegment:void 0};Object(r.isFiniteNumber)(c)||(c=this.lastEndDTS=s||0);var f=t.samples;if(!f||!f.length)return d;var h={initPTS:void 0,timescale:1},p=this.initData;if(p&&p.length||(this.generateInitSegment(f),p=this.initData),!p||!p.length)return o.logger.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),d;this.emitInitSegment&&(h.tracks=this.initTracks,this.emitInitSegment=!1),Object(r.isFiniteNumber)(u)||(this.initPTS=h.initPTS=u=l(p,f,c));var v=Object(i.getDuration)(f,p),g=c,m=v+g;Object(i.offsetStartDTS)(p,f,u),v>0?this.lastEndDTS=m:(o.logger.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());var y=!!p.audio,b=!!p.video,E="";y&&(E+="audio"),b&&(E+="video");var S={data1:f,startPTS:g,startDTS:g,endPTS:m,endDTS:m,type:E,hasAudio:y,hasVideo:b,nb:1,dropped:0};return d.audio="audio"===S.type?S:void 0,d.video="audio"!==S.type?S:void 0,d.text=a,d.id3=n,d.initSegment=h,d},e}(),l=function(e,t,n){return Object(i.getStartDTS)(e,t)-n};function u(e,t){var n=null==e?void 0:e.codec;return n&&n.length>4?n:"hvc1"===n?"hvc1.1.c.L120.90":"av01"===n?"av01.0.04M.08":"avc1"===n||t===a.ElementaryStreamTypes.VIDEO?"avc1.42e01e":"mp4a.40.5"}t.default=s},"./src/task-loop.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var r=function(){function e(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}var t=e.prototype;return t.destroy=function(){this.onHandlerDestroying(),this.onHandlerDestroyed()},t.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},t.onHandlerDestroyed=function(){},t.hasInterval=function(){return!!this._tickInterval},t.hasNextTick=function(){return!!this._tickTimer},t.setInterval=function(e){return!this._tickInterval&&(this._tickInterval=self.setInterval(this._boundTick,e),!0)},t.clearInterval=function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)},t.clearNextTick=function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)},t.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)},t.tickImmediate=function(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)},t.doTick=function(){},e}()},"./src/types/level.ts":function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i;function a(e,t){var n=e.canSkipUntil,r=e.canSkipDateRanges,a=e.endSN;return n&&(void 0!==t?t-a:0)<n?r?i.v2:i.Yes:i.No}n.r(t),n.d(t,"HlsSkip",(function(){return i})),n.d(t,"getSkipValue",(function(){return a})),n.d(t,"HlsUrlParameters",(function(){return o})),n.d(t,"Level",(function(){return s})),function(e){e.No="",e.Yes="YES",e.v2="v2"}(i||(i={}));var o=function(){function e(e,t,n){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=t,this.skip=n}return e.prototype.addDirectives=function(e){var t=new self.URL(e);return void 0!==this.msn&&t.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&t.searchParams.set("_HLS_part",this.part.toString()),this.skip&&t.searchParams.set("_HLS_skip",this.skip),t.toString()},e}(),s=function(){function e(e){this.attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[e.url],this.attrs=e.attrs,this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.unknownCodecs=e.unknownCodecs,this.codecSet=[e.videoCodec,e.audioCodec].filter((function(e){return e})).join(",").replace(/\.[^.,]+/g,"")}var t,n;return t=e,(n=[{key:"maxBitrate",get:function(){return Math.max(this.realBitrate,this.bitrate)}},{key:"uri",get:function(){return this.url[this._urlId]||""}},{key:"urlId",get:function(){return this._urlId},set:function(e){var t=e%this.url.length;this._urlId!==t&&(this.details=void 0,this._urlId=t)}}])&&r(t.prototype,n),e}()},"./src/types/loader.ts":function(e,t,n){"use strict";var r,i;n.r(t),n.d(t,"PlaylistContextType",(function(){return r})),n.d(t,"PlaylistLevelType",(function(){return i})),function(e){e.MANIFEST="manifest",e.LEVEL="level",e.AUDIO_TRACK="audioTrack",e.SUBTITLE_TRACK="subtitleTrack"}(r||(r={})),function(e){e.MAIN="main",e.AUDIO="audio",e.SUBTITLE="subtitle"}(i||(i={}))},"./src/types/transmuxer.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"ChunkMetadata",(function(){return r}));var r=function(e,t,n,r,i,a){void 0===r&&(r=0),void 0===i&&(i=-1),void 0===a&&(a=!1),this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=e,this.sn=t,this.id=n,this.size=r,this.part=i,this.partial=a}},"./src/utils/attr-list.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"AttrList",(function(){return a}));var r=/^(\d+)x(\d+)$/,i=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,a=function(){function e(t){for(var n in"string"==typeof t&&(t=e.parseAttrList(t)),t)t.hasOwnProperty(n)&&(this[n]=t[n])}var t=e.prototype;return t.decimalInteger=function(e){var t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t},t.hexadecimalInteger=function(e){if(this[e]){var t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;for(var n=new Uint8Array(t.length/2),r=0;r<t.length/2;r++)n[r]=parseInt(t.slice(2*r,2*r+2),16);return n}return null},t.hexadecimalIntegerAsNumber=function(e){var t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t},t.decimalFloatingPoint=function(e){return parseFloat(this[e])},t.optionalFloat=function(e,t){var n=this[e];return n?parseFloat(n):t},t.enumeratedString=function(e){return this[e]},t.bool=function(e){return"YES"===this[e]},t.decimalResolution=function(e){var t=r.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}},e.parseAttrList=function(e){var t,n={};for(i.lastIndex=0;null!==(t=i.exec(e));){var r=t[2];0===r.indexOf('"')&&r.lastIndexOf('"')===r.length-1&&(r=r.slice(1,-1)),n[t[1]]=r}return n},e}()},"./src/utils/binary-search.ts":function(e,t,n){"use strict";n.r(t),t.default={search:function(e,t){for(var n=0,r=e.length-1,i=null,a=null;n<=r;){var o=t(a=e[i=(n+r)/2|0]);if(o>0)n=i+1;else{if(!(o<0))return a;r=i-1}}return null}}},"./src/utils/buffer-helper.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"BufferHelper",(function(){return a}));var r=n("./src/utils/logger.ts"),i={length:0,start:function(){return 0},end:function(){return 0}},a=function(){function e(){}return e.isBuffered=function(t,n){try{if(t)for(var r=e.getBuffered(t),i=0;i<r.length;i++)if(n>=r.start(i)&&n<=r.end(i))return!0}catch(e){}return!1},e.bufferInfo=function(t,n,r){try{if(t){var i,a=e.getBuffered(t),o=[];for(i=0;i<a.length;i++)o.push({start:a.start(i),end:a.end(i)});return this.bufferedInfo(o,n,r)}}catch(e){}return{len:0,start:n,end:n,nextStart:void 0}},e.bufferedInfo=function(e,t,n){t=Math.max(0,t),e.sort((function(e,t){return e.start-t.start||t.end-e.end}));var r=[];if(n)for(var i=0;i<e.length;i++){var a=r.length;if(a){var o=r[a-1].end;e[i].start-o<n?e[i].end>o&&(r[a-1].end=e[i].end):r.push(e[i])}else r.push(e[i])}else r=e;for(var s,l=0,u=t,c=t,d=0;d<r.length;d++){var f=r[d].start,h=r[d].end;if(t+n>=f&&t<h)u=f,l=(c=h)-t;else if(t+n<f){s=f;break}}return{len:l,start:u||0,end:c||0,nextStart:s}},e.getBuffered=function(e){try{return e.buffered}catch(e){return r.logger.log("failed to get media.buffered",e),i}},e}()},"./src/utils/cea-608-parser.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"Row",(function(){return g})),n.d(t,"CaptionScreen",(function(){return m}));var r,i=n("./src/utils/logger.ts"),a={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},o=function(e){var t=e;return a.hasOwnProperty(e)&&(t=a[e]),String.fromCharCode(t)},s={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},l={17:2,18:4,21:6,22:8,23:10,19:13,20:15},u={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},c={25:2,26:4,29:6,30:8,31:10,27:13,28:15},d=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];!function(e){e[e.ERROR=0]="ERROR",e[e.TEXT=1]="TEXT",e[e.WARNING=2]="WARNING",e[e.INFO=2]="INFO",e[e.DEBUG=3]="DEBUG",e[e.DATA=3]="DATA"}(r||(r={}));var f=function(){function e(){this.time=null,this.verboseLevel=r.ERROR}return e.prototype.log=function(e,t){this.verboseLevel>=e&&i.logger.log(this.time+" ["+e+"] "+t)},e}(),h=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].toString(16));return t},p=function(){function e(e,t,n,r,i){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=e||"white",this.underline=t||!1,this.italics=n||!1,this.background=r||"black",this.flash=i||!1}var t=e.prototype;return t.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},t.setStyles=function(e){for(var t=["foreground","underline","italics","background","flash"],n=0;n<t.length;n++){var r=t[n];e.hasOwnProperty(r)&&(this[r]=e[r])}},t.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},t.equals=function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash},t.copy=function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash},t.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},e}(),v=function(){function e(e,t,n,r,i,a){this.uchar=void 0,this.penState=void 0,this.uchar=e||" ",this.penState=new p(t,n,r,i,a)}var t=e.prototype;return t.reset=function(){this.uchar=" ",this.penState.reset()},t.setChar=function(e,t){this.uchar=e,this.penState.copy(t)},t.setPenState=function(e){this.penState.copy(e)},t.equals=function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)},t.copy=function(e){this.uchar=e.uchar,this.penState.copy(e.penState)},t.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},e}(),g=function(){function e(e){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(var t=0;t<100;t++)this.chars.push(new v);this.logger=e,this.pos=0,this.currPenState=new p}var t=e.prototype;return t.equals=function(e){for(var t=!0,n=0;n<100;n++)if(!this.chars[n].equals(e.chars[n])){t=!1;break}return t},t.copy=function(e){for(var t=0;t<100;t++)this.chars[t].copy(e.chars[t])},t.isEmpty=function(){for(var e=!0,t=0;t<100;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e},t.setCursor=function(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(r.DEBUG,"Negative cursor position "+this.pos),this.pos=0):this.pos>100&&(this.logger.log(r.DEBUG,"Too large cursor position "+this.pos),this.pos=100)},t.moveCursor=function(e){var t=this.pos+e;if(e>1)for(var n=this.pos+1;n<t+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(t)},t.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},t.insertChar=function(e){e>=144&&this.backSpace();var t=o(e);this.pos>=100?this.logger.log(r.ERROR,"Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1))},t.clearFromPos=function(e){var t;for(t=e;t<100;t++)this.chars[t].reset()},t.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},t.clearToEndOfRow=function(){this.clearFromPos(this.pos)},t.getTextString=function(){for(var e=[],t=!0,n=0;n<100;n++){var r=this.chars[n].uchar;" "!==r&&(t=!1),e.push(r)}return t?"":e.join("")},t.setPenStyles=function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)},e}(),m=function(){function e(e){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(var t=0;t<15;t++)this.rows.push(new g(e));this.logger=e,this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}var t=e.prototype;return t.reset=function(){for(var e=0;e<15;e++)this.rows[e].clear();this.currRow=14},t.equals=function(e){for(var t=!0,n=0;n<15;n++)if(!this.rows[n].equals(e.rows[n])){t=!1;break}return t},t.copy=function(e){for(var t=0;t<15;t++)this.rows[t].copy(e.rows[t])},t.isEmpty=function(){for(var e=!0,t=0;t<15;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e},t.backSpace=function(){this.rows[this.currRow].backSpace()},t.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},t.insertChar=function(e){this.rows[this.currRow].insertChar(e)},t.setPen=function(e){this.rows[this.currRow].setPenStyles(e)},t.moveCursor=function(e){this.rows[this.currRow].moveCursor(e)},t.setCursor=function(e){this.logger.log(r.INFO,"setCursor: "+e),this.rows[this.currRow].setCursor(e)},t.setPAC=function(e){this.logger.log(r.INFO,"pacData = "+JSON.stringify(e));var t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(var n=0;n<15;n++)this.rows[n].clear();var i=this.currRow+1-this.nrRollUpRows,a=this.lastOutputScreen;if(a){var o=a.rows[i].cueStartTime,s=this.logger.time;if(o&&null!==s&&o<s)for(var l=0;l<this.nrRollUpRows;l++)this.rows[t-this.nrRollUpRows+l+1].copy(a.rows[i+l])}}this.currRow=t;var u=this.rows[this.currRow];if(null!==e.indent){var c=e.indent,d=Math.max(c-1,0);u.setCursor(e.indent),e.color=u.chars[d].penState.foreground}var f={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(f)},t.setBkgData=function(e){this.logger.log(r.INFO,"bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)},t.setRollUpRows=function(e){this.nrRollUpRows=e},t.rollUp=function(){if(null!==this.nrRollUpRows){this.logger.log(r.TEXT,this.getDisplayText());var e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),this.logger.log(r.INFO,"Rolling up")}else this.logger.log(r.DEBUG,"roll_up but nrRollUpRows not set yet")},t.getDisplayText=function(e){e=e||!1;for(var t=[],n="",r=-1,i=0;i<15;i++){var a=this.rows[i].getTextString();a&&(r=i+1,e?t.push("Row "+r+": '"+a+"'"):t.push(a.trim()))}return t.length>0&&(n=e?"["+t.join(" | ")+"]":t.join("\n")),n},t.getTextAndFormat=function(){return this.rows},e}(),y=function(){function e(e,t,n){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new m(n),this.nonDisplayedMemory=new m(n),this.lastOutputScreen=new m(n),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=n}var t=e.prototype;return t.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null},t.getHandler=function(){return this.outputFilter},t.setHandler=function(e){this.outputFilter=e},t.setPAC=function(e){this.writeScreen.setPAC(e)},t.setBkgData=function(e){this.writeScreen.setBkgData(e)},t.setMode=function(e){e!==this.mode&&(this.mode=e,this.logger.log(r.INFO,"MODE="+e),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)},t.insertChars=function(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(r.INFO,n+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(this.logger.log(r.TEXT,"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},t.ccRCL=function(){this.logger.log(r.INFO,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},t.ccBS=function(){this.logger.log(r.INFO,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},t.ccAOF=function(){},t.ccAON=function(){},t.ccDER=function(){this.logger.log(r.INFO,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},t.ccRU=function(e){this.logger.log(r.INFO,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)},t.ccFON=function(){this.logger.log(r.INFO,"FON - Flash On"),this.writeScreen.setPen({flash:!0})},t.ccRDC=function(){this.logger.log(r.INFO,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},t.ccTR=function(){this.logger.log(r.INFO,"TR"),this.setMode("MODE_TEXT")},t.ccRTD=function(){this.logger.log(r.INFO,"RTD"),this.setMode("MODE_TEXT")},t.ccEDM=function(){this.logger.log(r.INFO,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},t.ccCR=function(){this.logger.log(r.INFO,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},t.ccENM=function(){this.logger.log(r.INFO,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},t.ccEOC=function(){if(this.logger.log(r.INFO,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,this.logger.log(r.TEXT,"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},t.ccTO=function(e){this.logger.log(r.INFO,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)},t.ccMIDROW=function(e){var t={flash:!1};if(t.underline=e%2==1,t.italics=e>=46,t.italics)t.foreground="white";else{var n=Math.floor(e/2)-16;t.foreground=["white","green","blue","cyan","red","yellow","magenta"][n]}this.logger.log(r.INFO,"MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)},t.outputDataUpdate=function(e){void 0===e&&(e=!1);var t=this.logger.time;null!==t&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:t):this.cueStartTime=t,this.lastOutputScreen.copy(this.displayedMemory))},t.cueSplitAtTime=function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))},e}(),b=function(){function e(e,t,n){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;var r=new f;this.channels=[null,new y(e,t,r),new y(e+1,n,r)],this.cmdHistory={a:null,b:null},this.logger=r}var t=e.prototype;return t.getHandler=function(e){return this.channels[e].getHandler()},t.setHandler=function(e,t){this.channels[e].setHandler(t)},t.addData=function(e,t){var n,i,a,o=!1;this.logger.time=e;for(var s=0;s<t.length;s+=2)if(i=127&t[s],a=127&t[s+1],0!==i||0!==a){if(this.logger.log(r.DATA,"["+h([t[s],t[s+1]])+"] -> ("+h([i,a])+")"),(n=this.parseCmd(i,a))||(n=this.parseMidrow(i,a)),n||(n=this.parsePAC(i,a)),n||(n=this.parseBackgroundAttributes(i,a)),!n&&(o=this.parseChars(i,a))){var l=this.currentChannel;l&&l>0?this.channels[l].insertChars(o):this.logger.log(r.WARNING,"No channel found yet. TEXT-MODE?")}n||o||this.logger.log(r.WARNING,"Couldn't parse cleaned data "+h([i,a])+" orig: "+h([t[s],t[s+1]]))}},t.parseCmd=function(e,t){var n=this.cmdHistory;if(!((20===e||28===e||21===e||29===e)&&t>=32&&t<=47||(23===e||31===e)&&t>=33&&t<=35))return!1;if(S(e,t,n))return E(null,null,n),this.logger.log(r.DEBUG,"Repeated command ("+h([e,t])+") is dropped"),!0;var i=20===e||21===e||23===e?1:2,a=this.channels[i];return 20===e||21===e||28===e||29===e?32===t?a.ccRCL():33===t?a.ccBS():34===t?a.ccAOF():35===t?a.ccAON():36===t?a.ccDER():37===t?a.ccRU(2):38===t?a.ccRU(3):39===t?a.ccRU(4):40===t?a.ccFON():41===t?a.ccRDC():42===t?a.ccTR():43===t?a.ccRTD():44===t?a.ccEDM():45===t?a.ccCR():46===t?a.ccENM():47===t&&a.ccEOC():a.ccTO(t-32),E(e,t,n),this.currentChannel=i,!0},t.parseMidrow=function(e,t){var n=0;if((17===e||25===e)&&t>=32&&t<=47){if((n=17===e?1:2)!==this.currentChannel)return this.logger.log(r.ERROR,"Mismatch channel in midrow parsing"),!1;var i=this.channels[n];return!!i&&(i.ccMIDROW(t),this.logger.log(r.DEBUG,"MIDROW ("+h([e,t])+")"),!0)}return!1},t.parsePAC=function(e,t){var n,r=this.cmdHistory;if(!((e>=17&&e<=23||e>=25&&e<=31)&&t>=64&&t<=127||(16===e||24===e)&&t>=64&&t<=95))return!1;if(S(e,t,r))return E(null,null,r),!0;var i=e<=23?1:2;n=t>=64&&t<=95?1===i?s[e]:u[e]:1===i?l[e]:c[e];var a=this.channels[i];return!!a&&(a.setPAC(this.interpretPAC(n,t)),E(e,t,r),this.currentChannel=i,!0)},t.interpretPAC=function(e,t){var n,r={color:null,italics:!1,indent:null,underline:!1,row:e};return n=t>95?t-96:t-64,r.underline=1==(1&n),n<=13?r.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(r.italics=!0,r.color="white"):r.indent=4*Math.floor((n-16)/2),r},t.parseChars=function(e,t){var n,i,a=null,s=null;if(e>=25?(n=2,s=e-8):(n=1,s=e),s>=17&&s<=19?(i=17===s?t+80:18===s?t+112:t+144,this.logger.log(r.INFO,"Special char '"+o(i)+"' in channel "+n),a=[i]):e>=32&&e<=127&&(a=0===t?[e]:[e,t]),a){var l=h(a);this.logger.log(r.DEBUG,"Char codes =  "+l.join(",")),E(e,t,this.cmdHistory)}return a},t.parseBackgroundAttributes=function(e,t){var n;if(!((16===e||24===e)&&t>=32&&t<=47||(23===e||31===e)&&t>=45&&t<=47))return!1;var r={};16===e||24===e?(n=Math.floor((t-32)/2),r.background=d[n],t%2==1&&(r.background=r.background+"_semi")):45===t?r.background="transparent":(r.foreground="black",47===t&&(r.underline=!0));var i=e<=23?1:2;return this.channels[i].setBkgData(r),E(e,t,this.cmdHistory),!0},t.reset=function(){for(var e=0;e<Object.keys(this.channels).length;e++){var t=this.channels[e];t&&t.reset()}this.cmdHistory={a:null,b:null}},t.cueSplitAtTime=function(e){for(var t=0;t<this.channels.length;t++){var n=this.channels[t];n&&n.cueSplitAtTime(e)}},e}();function E(e,t,n){n.a=e,n.b=t}function S(e,t,n){return n.a===e&&n.b===t}t.default=b},"./src/utils/codecs.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"isCodecType",(function(){return i})),n.d(t,"isCodecSupportedInMp4",(function(){return a}));var r={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}};function i(e,t){var n=r[t];return!!n&&!0===n[e.slice(0,4)]}function a(e,t){return MediaSource.isTypeSupported((t||"video")+'/mp4;codecs="'+e+'"')}},"./src/utils/cues.ts":function(e,t,n){"use strict";n.r(t);var r=n("./src/utils/vttparser.ts"),i=n("./src/utils/webvtt-parser.ts"),a=n("./src/utils/texttrack-utils.ts"),o=/\s/,s={newCue:function(e,t,n,s){for(var l,u,c,d,f,h=[],p=self.VTTCue||self.TextTrackCue,v=0;v<s.rows.length;v++)if(c=!0,d=0,f="",!(l=s.rows[v]).isEmpty()){for(var g=0;g<l.chars.length;g++)o.test(l.chars[g].uchar)&&c?d++:(f+=l.chars[g].uchar,c=!1);l.cueStartTime=t,t===n&&(n+=1e-4),d>=16?d--:d++;var m=Object(r.fixLineBreaks)(f.trim()),y=Object(i.generateCueId)(t,n,m);e&&e.cues&&e.cues.getCueById(y)||((u=new p(t,n,m)).id=y,u.line=v+1,u.align="left",u.position=10+Math.min(80,10*Math.floor(8*d/32)),h.push(u))}return e&&h.length&&(h.sort((function(e,t){return"auto"===e.line||"auto"===t.line?0:e.line>8&&t.line>8?t.line-e.line:e.line-t.line})),h.forEach((function(t){return Object(a.addCueToTrack)(e,t)}))),h}};t.default=s},"./src/utils/discontinuities.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"findFirstFragWithCC",(function(){return o})),n.d(t,"shouldAlignOnDiscontinuities",(function(){return s})),n.d(t,"findDiscontinuousReferenceFrag",(function(){return l})),n.d(t,"adjustSlidingStart",(function(){return c})),n.d(t,"alignStream",(function(){return d})),n.d(t,"alignPDT",(function(){return f})),n.d(t,"alignFragmentByPDTDelta",(function(){return h})),n.d(t,"alignMediaPlaylistByPDT",(function(){return p}));var r=n("./src/polyfills/number.ts"),i=n("./src/utils/logger.ts"),a=n("./src/controller/level-helper.ts");function o(e,t){for(var n=null,r=0,i=e.length;r<i;r++){var a=e[r];if(a&&a.cc===t){n=a;break}}return n}function s(e,t,n){return!(!t.details||!(n.endCC>n.startCC||e&&e.cc<n.startCC))}function l(e,t){var n=e.fragments,r=t.fragments;if(r.length&&n.length){var a=o(n,r[0].cc);if(a&&(!a||a.startPTS))return a;i.logger.log("No frag in previous level to align on")}else i.logger.log("No fragments to align")}function u(e,t){if(e){var n=e.start+t;e.start=e.startPTS=n,e.endPTS=n+e.duration}}function c(e,t){for(var n=t.fragments,r=0,i=n.length;r<i;r++)u(n[r],e);t.fragmentHint&&u(t.fragmentHint,e),t.alignedSliding=!0}function d(e,t,n){t&&(function(e,t,n){if(s(e,n,t)){var a=l(n.details,t);a&&Object(r.isFiniteNumber)(a.start)&&(i.logger.log("Adjusting PTS using last level due to CC increase within current level "+t.url),c(a.start,t))}}(e,n,t),!n.alignedSliding&&t.details&&f(n,t.details),n.alignedSliding||!t.details||n.skippedSegments||Object(a.adjustSliding)(t.details,n))}function f(e,t){if(t.fragments.length&&e.hasProgramDateTime&&t.hasProgramDateTime){var n=t.fragments[0].programDateTime,a=e.fragments[0].programDateTime,o=(a-n)/1e3+t.fragments[0].start;o&&Object(r.isFiniteNumber)(o)&&(i.logger.log("Adjusting PTS using programDateTime delta "+(a-n)+"ms, sliding:"+o.toFixed(3)+" "+e.url+" "),c(o,e))}}function h(e,t){var n=e.programDateTime;if(n){var r=(n-t)/1e3;e.start=e.startPTS=r,e.endPTS=r+e.duration}}function p(e,t){if(t.fragments.length&&e.hasProgramDateTime&&t.hasProgramDateTime){var n=t.fragments[0].programDateTime-1e3*t.fragments[0].start;e.fragments.forEach((function(e){h(e,n)})),e.fragmentHint&&h(e.fragmentHint,n),e.alignedSliding=!0}}},"./src/utils/ewma-bandwidth-estimator.ts":function(e,t,n){"use strict";n.r(t);var r=n("./src/utils/ewma.ts"),i=function(){function e(e,t,n){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultEstimate_=n,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new r.default(e),this.fast_=new r.default(t)}var t=e.prototype;return t.update=function(e,t){var n=this.slow_,i=this.fast_;this.slow_.halfLife!==e&&(this.slow_=new r.default(e,n.getEstimate(),n.getTotalWeight())),this.fast_.halfLife!==t&&(this.fast_=new r.default(t,i.getEstimate(),i.getTotalWeight()))},t.sample=function(e,t){var n=(e=Math.max(e,this.minDelayMs_))/1e3,r=8*t/n;this.fast_.sample(n,r),this.slow_.sample(n,r)},t.canEstimate=function(){var e=this.fast_;return e&&e.getTotalWeight()>=this.minWeight_},t.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},t.destroy=function(){},e}();t.default=i},"./src/utils/ewma.ts":function(e,t,n){"use strict";n.r(t);var r=function(){function e(e,t,n){void 0===t&&(t=0),void 0===n&&(n=0),this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=t,this.totalWeight_=n}var t=e.prototype;return t.sample=function(e,t){var n=Math.pow(this.alpha_,e);this.estimate_=t*(1-n)+n*this.estimate_,this.totalWeight_+=e},t.getTotalWeight=function(){return this.totalWeight_},t.getEstimate=function(){if(this.alpha_){var e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_},e}();t.default=r},"./src/utils/fetch-loader.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"fetchSupported",(function(){return c}));var r=n("./src/polyfills/number.ts"),i=n("./src/loader/load-stats.ts"),a=n("./src/demux/chunk-cache.ts");function o(e){var t="function"==typeof Map?new Map:void 0;return(o=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return s(e,arguments,u(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),l(r,e)})(e)}function s(e,t,n){return(s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&l(i,n.prototype),i}).apply(null,arguments)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch(e){}return!1}var d=function(){function e(e){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||f,this.controller=new self.AbortController,this.stats=new i.LoadStats}var t=e.prototype;return t.destroy=function(){this.loader=this.callbacks=null,this.abortInternal()},t.abortInternal=function(){var e=this.response;e&&e.ok||(this.stats.aborted=!0,this.controller.abort())},t.abort=function(){var e;this.abortInternal(),null!==(e=this.callbacks)&&void 0!==e&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)},t.load=function(e,t,n){var i=this,a=this.stats;if(a.loading.start)throw new Error("Loader can only be used once.");a.loading.start=self.performance.now();var o=function(e,t){var n={method:"GET",mode:"cors",credentials:"same-origin",signal:t};return e.rangeEnd&&(n.headers=new self.Headers({Range:"bytes="+e.rangeStart+"-"+String(e.rangeEnd-1)})),n}(e,this.controller.signal),s=n.onProgress,l="arraybuffer"===e.responseType,u=l?"byteLength":"length";this.context=e,this.config=t,this.callbacks=n,this.request=this.fetchSetup(e,o),self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout((function(){i.abortInternal(),n.onTimeout(a,e,i.response)}),t.timeout),self.fetch(this.request).then((function(n){if(i.response=i.loader=n,!n.ok){var o=n.status,u=n.statusText;throw new h(u||"fetch, bad network response",o,n)}return a.loading.first=Math.max(self.performance.now(),a.loading.start),a.total=parseInt(n.headers.get("Content-Length")||"0"),s&&Object(r.isFiniteNumber)(t.highWaterMark)?i.loadProgressively(n,a,e,t.highWaterMark,s):l?n.arrayBuffer():n.text()})).then((function(o){var l=i.response;self.clearTimeout(i.requestTimeout),a.loading.end=Math.max(self.performance.now(),a.loading.first),a.loaded=a.total=o[u];var c={url:l.url,data:o};s&&!Object(r.isFiniteNumber)(t.highWaterMark)&&s(a,e,o,l),n.onSuccess(c,a,e,l)})).catch((function(t){if(self.clearTimeout(i.requestTimeout),!a.aborted){var r=t.code||0;n.onError({code:r,text:t.message},e,t.details)}}))},t.getCacheAge=function(){var e=null;if(this.response){var t=this.response.headers.get("age");e=t?parseFloat(t):null}return e},t.loadProgressively=function(e,t,n,r,i){void 0===r&&(r=0);var o=new a.default,s=e.body.getReader();return function a(){return s.read().then((function(s){if(s.done)return o.dataLength&&i(t,n,o.flush(),e),Promise.resolve(new ArrayBuffer(0));var l=s.value,u=l.length;return t.loaded+=u,u<r||o.dataLength?(o.push(l),o.dataLength>=r&&i(t,n,o.flush(),e)):i(t,n,l,e),a()})).catch((function(){return Promise.reject()}))}()},e}();function f(e,t){return new self.Request(e.url,t)}var h=function(e){var t,n;function r(t,n,r){var i;return(i=e.call(this,t)||this).code=void 0,i.details=void 0,i.code=n,i.details=r,i}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,l(t,n),r}(o(Error));t.default=d},"./src/utils/imsc1-ttml-parser.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"IMSC1_CODEC",(function(){return c})),n.d(t,"parseIMSC1",(function(){return p}));var r=n("./src/utils/mp4-tools.ts"),i=n("./src/utils/vttparser.ts"),a=n("./src/utils/vttcue.ts"),o=n("./src/demux/id3.ts"),s=n("./src/utils/timescale-conversion.ts"),l=n("./src/utils/webvtt-parser.ts");function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var c="stpp.ttml.im1t",d=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,f=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,h={left:"start",center:"center",right:"end",start:"start",end:"end"};function p(e,t,n,i,c){var d=Object(r.findBox)(new Uint8Array(e),["mdat"]);if(0!==d.length){var f=d[0],p=Object(o.utf8ArrayToStr)(new Uint8Array(e,f.start,f.end-f.start)),E=Object(s.toTimescaleFromScale)(t,1,n);try{i(function(e,t){var n=(new DOMParser).parseFromString(e,"text/xml").getElementsByTagName("tt")[0];if(!n)throw new Error("Invalid ttml");var r={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},i=Object.keys(r).reduce((function(e,t){return e[t]=n.getAttribute("ttp:"+t)||r[t],e}),{}),o="preserve"!==n.getAttribute("xml:space"),s=g(v(n,"styling","style")),c=g(v(n,"layout","region")),d=v(n,"body","[begin]");return[].map.call(d,(function(e){var n=function e(t,n){return[].slice.call(t.childNodes).reduce((function(t,r,i){var a;return"br"===r.nodeName&&i?t+"\n":null!==(a=r.childNodes)&&void 0!==a&&a.length?e(r,n):n?t+r.textContent.trim().replace(/\s+/g," "):t+r.textContent}),"")}(e,o);if(!n||!e.hasAttribute("begin"))return null;var r=b(e.getAttribute("begin"),i),d=b(e.getAttribute("dur"),i),f=b(e.getAttribute("end"),i);if(null===r)throw y(e);if(null===f){if(null===d)throw y(e);f=r+d}var p=new a.default(r-t,f-t,n);p.id=Object(l.generateCueId)(p.startTime,p.endTime,p.text);var v=c[e.getAttribute("region")],g=s[e.getAttribute("style")];p.position=10,p.size=80;var E=function(e,t){var n="http://www.w3.org/ns/ttml#styling";return["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"].reduce((function(r,i){var a=m(t,n,i)||m(e,n,i);return a&&(r[i]=a),r}),{})}(v,g),S=E.textAlign;if(S){var T=h[S];T&&(p.lineAlign=T),p.align=S}return u(p,E),p})).filter((function(e){return null!==e}))}(p,E))}catch(e){c(e)}}else c(new Error("Could not parse IMSC1 mdat"))}function v(e,t,n){var r=e.getElementsByTagName(t)[0];return r?[].slice.call(r.querySelectorAll(n)):[]}function g(e){return e.reduce((function(e,t){var n=t.getAttribute("xml:id");return n&&(e[n]=t),e}),{})}function m(e,t,n){return e.hasAttributeNS(t,n)?e.getAttributeNS(t,n):null}function y(e){return new Error("Could not parse ttml timestamp "+e)}function b(e,t){if(!e)return null;var n=Object(i.parseTimeStamp)(e);return null===n&&(d.test(e)?n=function(e,t){var n=d.exec(e),r=(0|n[4])+(0|n[5])/t.subFrameRate;return 3600*(0|n[1])+60*(0|n[2])+(0|n[3])+r/t.frameRate}(e,t):f.test(e)&&(n=function(e,t){var n=f.exec(e),r=Number(n[1]);switch(n[2]){case"h":return 3600*r;case"m":return 60*r;case"ms":return 1e3*r;case"f":return r/t.frameRate;case"t":return r/t.tickRate}return r}(e,t))),n}},"./src/utils/logger.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"enableLogs",(function(){return s})),n.d(t,"logger",(function(){return l}));var r=function(){},i={trace:r,debug:r,log:r,warn:r,info:r,error:r},a=i;function o(e){var t=self.console[e];return t?t.bind(self.console,"["+e+"] >"):r}function s(e){if(self.console&&!0===e||"object"==typeof e){!function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];n.forEach((function(t){a[t]=e[t]?e[t].bind(e):o(t)}))}(e,"debug","log","info","warn","error");try{a.log()}catch(e){a=i}}else a=i}var l=i},"./src/utils/mediakeys-helper.ts":function(e,t,n){"use strict";var r;n.r(t),n.d(t,"KeySystems",(function(){return r})),n.d(t,"requestMediaKeySystemAccess",(function(){return i})),function(e){e.WIDEVINE="com.widevine.alpha",e.PLAYREADY="com.microsoft.playready"}(r||(r={}));var i="undefined"!=typeof self&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null},"./src/utils/mediasource-helper.ts":function(e,t,n){"use strict";function r(){return self.MediaSource||self.WebKitMediaSource}n.r(t),n.d(t,"getMediaSource",(function(){return r}))},"./src/utils/mp4-tools.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"bin2str",(function(){return s})),n.d(t,"readUint16",(function(){return l})),n.d(t,"readUint32",(function(){return u})),n.d(t,"writeUint32",(function(){return c})),n.d(t,"findBox",(function(){return d})),n.d(t,"parseSegmentIndex",(function(){return f})),n.d(t,"parseInitSegment",(function(){return h})),n.d(t,"getStartDTS",(function(){return p})),n.d(t,"getDuration",(function(){return v})),n.d(t,"computeRawDurationFromSamples",(function(){return g})),n.d(t,"offsetStartDTS",(function(){return m})),n.d(t,"segmentValidRange",(function(){return y})),n.d(t,"appendUint8Array",(function(){return b}));var r=n("./src/utils/typed-array.ts"),i=n("./src/loader/fragment.ts"),a=Math.pow(2,32)-1,o=[].push;function s(e){return String.fromCharCode.apply(null,e)}function l(e,t){"data"in e&&(t+=e.start,e=e.data);var n=e[t]<<8|e[t+1];return n<0?65536+n:n}function u(e,t){"data"in e&&(t+=e.start,e=e.data);var n=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3];return n<0?4294967296+n:n}function c(e,t,n){"data"in e&&(t+=e.start,e=e.data),e[t]=n>>24,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n}function d(e,t){var n,r,i,a=[];if(!t.length)return a;"data"in e?(n=e.data,r=e.start,i=e.end):(r=0,i=(n=e).byteLength);for(var l=r;l<i;){var c=u(n,l),f=c>1?l+c:i;if(s(n.subarray(l+4,l+8))===t[0])if(1===t.length)a.push({data:n,start:l+8,end:f});else{var h=d({data:n,start:l+8,end:f},t.slice(1));h.length&&o.apply(a,h)}l=f}return a}function f(e){var t=d(e,["moov"])[0],n=t?t.end:null,r=d(e,["sidx"]);if(!r||!r[0])return null;var i=[],a=r[0],o=a.data[0],s=0===o?8:16,c=u(a,s);s+=4,s+=0===o?8:16,s+=2;var f=a.end+0,h=l(a,s);s+=2;for(var p=0;p<h;p++){var v=s,g=u(a,v);v+=4;var m=2147483647&g;if(1==(2147483648&g)>>>31)return console.warn("SIDX has hierarchical references (not supported)"),null;var y=u(a,v);v+=4,i.push({referenceSize:m,subsegmentDuration:y,info:{duration:y/c,start:f,end:f+m-1}}),f+=m,s=v+=4}return{earliestPresentationTime:0,timescale:c,version:o,referencesCount:h,references:i,moovEndOffset:n}}function h(e){for(var t=[],n=d(e,["moov","trak"]),r=0;r<n.length;r++){var a=n[r],o=d(a,["tkhd"])[0];if(o){var l=o.data[o.start],c=0===l?12:20,f=u(o,c),h=d(a,["mdia","mdhd"])[0];if(h){var p=u(h,c=0===(l=h.data[h.start])?12:20),v=d(a,["mdia","hdlr"])[0];if(v){var g=s(v.data.subarray(v.start+8,v.start+12)),m={soun:i.ElementaryStreamTypes.AUDIO,vide:i.ElementaryStreamTypes.VIDEO}[g];if(m){var y=d(a,["mdia","minf","stbl","stsd"])[0],b=void 0;y&&(b=s(y.data.subarray(y.start+12,y.start+16))),t[f]={timescale:p,type:m},t[m]={timescale:p,id:f,codec:b}}}}}}return d(e,["moov","mvex","trex"]).forEach((function(e){var n=u(e,4),r=t[n];r&&(r.default={duration:u(e,12),flags:u(e,20)})})),t}function p(e,t){return d(t,["moof","traf"]).reduce((function(t,n){var r=d(n,["tfdt"])[0],i=r.data[r.start],a=d(n,["tfhd"]).reduce((function(t,n){var a=u(n,4),o=e[a];if(o){var s=u(r,4);1===i&&(s*=Math.pow(2,32),s+=u(r,8));var l=s/(o.timescale||9e4);if(isFinite(l)&&(null===t||l<t))return l}return t}),null);return null!==a&&isFinite(a)&&(null===t||a<t)?a:t}),null)||0}function v(e,t){for(var n=0,r=0,a=0,o=d(e,["moof","traf"]),s=0;s<o.length;s++){var l=o[s],c=d(l,["tfhd"])[0],h=t[u(c,4)];if(h){var p=h.default,v=u(c,0)|(null==p?void 0:p.flags),m=null==p?void 0:p.duration;8&v&&(m=u(c,2&v?12:8));for(var y=h.timescale||9e4,b=d(l,["trun"]),E=0;E<b.length;E++)n=m?m*u(b[E],4):g(b[E]),h.type===i.ElementaryStreamTypes.VIDEO?r+=n/y:h.type===i.ElementaryStreamTypes.AUDIO&&(a+=n/y)}}if(0===r&&0===a){var S=f(e);if(null!=S&&S.references)return S.references.reduce((function(e,t){return e+t.info.duration||0}),0)}return r||a}function g(e){var t=u(e,0),n=8;1&t&&(n+=4),4&t&&(n+=4);for(var r=0,i=u(e,4),a=0;a<i;a++)256&t&&(r+=u(e,n),n+=4),512&t&&(n+=4),1024&t&&(n+=4),2048&t&&(n+=4);return r}function m(e,t,n){d(t,["moof","traf"]).forEach((function(t){d(t,["tfhd"]).forEach((function(r){var i=u(r,4),o=e[i];if(o){var s=o.timescale||9e4;d(t,["tfdt"]).forEach((function(e){var t=e.data[e.start],r=u(e,4);if(0===t)c(e,4,r-n*s);else{r*=Math.pow(2,32),r+=u(e,8),r-=n*s,r=Math.max(r,0);var i=Math.floor(r/(a+1)),o=Math.floor(r%(a+1));c(e,4,i),c(e,8,o)}}))}}))}))}function y(e){var t={valid:null,remainder:null},n=d(e,["moof"]);if(!n)return t;if(n.length<2)return t.remainder=e,t;var i=n[n.length-1];return t.valid=Object(r.sliceUint8)(e,0,i.start-8),t.remainder=Object(r.sliceUint8)(e,i.start-8),t}function b(e,t){var n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}},"./src/utils/output-filter.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var r=function(){function e(e,t){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=e,this.trackName=t}var t=e.prototype;return t.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)},t.newCue=function(e,t,n){(null===this.startTime||this.startTime>e)&&(this.startTime=e),this.endTime=t,this.screen=n,this.timelineController.createCaptionsTrack(this.trackName)},t.reset=function(){this.cueRanges=[]},e}()},"./src/utils/texttrack-utils.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"sendAddTrackEvent",(function(){return i})),n.d(t,"addCueToTrack",(function(){return a})),n.d(t,"clearCurrentCues",(function(){return o})),n.d(t,"removeCuesInRange",(function(){return s})),n.d(t,"getCuesInRange",(function(){return l}));var r=n("./src/utils/logger.ts");function i(e,t){var n;try{n=new Event("addtrack")}catch(e){(n=document.createEvent("Event")).initEvent("addtrack",!1,!1)}n.track=e,t.dispatchEvent(n)}function a(e,t){var n=e.mode;if("disabled"===n&&(e.mode="hidden"),e.cues&&!e.cues.getCueById(t.id))try{if(e.addCue(t),!e.cues.getCueById(t.id))throw new Error("addCue is failed for: "+t)}catch(n){r.logger.debug("[texttrack-utils]: "+n);var i=new self.TextTrackCue(t.startTime,t.endTime,t.text);i.id=t.id,e.addCue(i)}"disabled"===n&&(e.mode=n)}function o(e){var t=e.mode;if("disabled"===t&&(e.mode="hidden"),e.cues)for(var n=e.cues.length;n--;)e.removeCue(e.cues[n]);"disabled"===t&&(e.mode=t)}function s(e,t,n){var r=e.mode;if("disabled"===r&&(e.mode="hidden"),e.cues&&e.cues.length>0)for(var i=l(e.cues,t,n),a=0;a<i.length;a++)e.removeCue(i[a]);"disabled"===r&&(e.mode=r)}function l(e,t,n){var r=[],i=function(e,t){if(t<e[0].startTime)return 0;var n=e.length-1;if(t>e[n].endTime)return-1;for(var r=0,i=n;r<=i;){var a=Math.floor((i+r)/2);if(t<e[a].startTime)i=a-1;else{if(!(t>e[a].startTime&&r<n))return a;r=a+1}}return e[r].startTime-t<t-e[i].startTime?r:i}(e,t);if(i>-1)for(var a=i,o=e.length;a<o;a++){var s=e[a];if(s.startTime>=t&&s.endTime<=n)r.push(s);else if(s.startTime>n)return r}return r}},"./src/utils/time-ranges.ts":function(e,t,n){"use strict";n.r(t),t.default={toString:function(e){for(var t="",n=e.length,r=0;r<n;r++)t+="["+e.start(r).toFixed(3)+","+e.end(r).toFixed(3)+"]";return t}}},"./src/utils/timescale-conversion.ts":function(e,t,n){"use strict";function r(e,t,n,r){void 0===n&&(n=1),void 0===r&&(r=!1);var i=e*t*n;return r?Math.round(i):i}function i(e,t,n,i){return void 0===n&&(n=1),void 0===i&&(i=!1),r(e,t,1/n,i)}function a(e,t){return void 0===t&&(t=!1),r(e,1e3,1/9e4,t)}function o(e,t){return void 0===t&&(t=1),r(e,9e4,1/t)}n.r(t),n.d(t,"toTimescaleFromBase",(function(){return r})),n.d(t,"toTimescaleFromScale",(function(){return i})),n.d(t,"toMsFromMpegTsClock",(function(){return a})),n.d(t,"toMpegTsClockFromTimescale",(function(){return o}))},"./src/utils/typed-array.ts":function(e,t,n){"use strict";function r(e,t,n){return Uint8Array.prototype.slice?e.slice(t,n):new Uint8Array(Array.prototype.slice.call(e,t,n))}n.r(t),n.d(t,"sliceUint8",(function(){return r}))},"./src/utils/vttcue.ts":function(e,t,n){"use strict";n.r(t),t.default=function(){if("undefined"!=typeof self&&self.VTTCue)return self.VTTCue;var e=["","lr","rl"],t=["start","middle","end","left","right"];function n(e,t){if("string"!=typeof t)return!1;if(!Array.isArray(e))return!1;var n=t.toLowerCase();return!!~e.indexOf(n)&&n}function r(e){return n(t,e)}function i(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var o in a)e[o]=a[o]}return e}function a(t,a,o){var s=this,l={enumerable:!0};s.hasBeenReset=!1;var u="",c=!1,d=t,f=a,h=o,p=null,v="",g=!0,m="auto",y="start",b=50,E="middle",S=50,T="middle";Object.defineProperty(s,"id",i({},l,{get:function(){return u},set:function(e){u=""+e}})),Object.defineProperty(s,"pauseOnExit",i({},l,{get:function(){return c},set:function(e){c=!!e}})),Object.defineProperty(s,"startTime",i({},l,{get:function(){return d},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");d=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",i({},l,{get:function(){return f},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");f=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",i({},l,{get:function(){return h},set:function(e){h=""+e,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",i({},l,{get:function(){return p},set:function(e){p=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",i({},l,{get:function(){return v},set:function(t){var r=function(t){return n(e,t)}(t);if(!1===r)throw new SyntaxError("An invalid or illegal string was specified.");v=r,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",i({},l,{get:function(){return g},set:function(e){g=!!e,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",i({},l,{get:function(){return m},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("An invalid number or illegal string was specified.");m=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",i({},l,{get:function(){return y},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");y=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",i({},l,{get:function(){return b},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");b=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",i({},l,{get:function(){return E},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");E=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",i({},l,{get:function(){return S},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");S=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",i({},l,{get:function(){return T},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");T=t,this.hasBeenReset=!0}})),s.displayState=void 0}return a.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},a}()},"./src/utils/vttparser.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"parseTimeStamp",(function(){return a})),n.d(t,"fixLineBreaks",(function(){return d})),n.d(t,"VTTParser",(function(){return f}));var r=n("./src/utils/vttcue.ts"),i=function(){function e(){}return e.prototype.decode=function(e,t){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))},e}();function a(e){function t(e,t,n,r){return 3600*(0|e)+60*(0|t)+(0|n)+parseFloat(r||0)}var n=e.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return n?parseFloat(n[2])>59?t(n[2],n[3],0,n[4]):t(n[1],n[2],n[3],n[4]):null}var o=function(){function e(){this.values=Object.create(null)}var t=e.prototype;return t.set=function(e,t){this.get(e)||""===t||(this.values[e]=t)},t.get=function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},t.has=function(e){return e in this.values},t.alt=function(e,t,n){for(var r=0;r<n.length;++r)if(t===n[r]){this.set(e,t);break}},t.integer=function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},t.percent=function(e,t){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(t)){var n=parseFloat(t);if(n>=0&&n<=100)return this.set(e,n),!0}return!1},e}();function s(e,t,n,r){var i=r?e.split(r):[e];for(var a in i)if("string"==typeof i[a]){var o=i[a].split(n);2===o.length&&t(o[0],o[1])}}var l=new r.default(0,0,""),u="middle"===l.align?"middle":"center";function c(e,t,n){var r=e;function i(){var t=a(e);if(null===t)throw new Error("Malformed timestamp: "+r);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function c(){e=e.replace(/^\s+/,"")}if(c(),t.startTime=i(),c(),"--\x3e"!==e.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+r);e=e.substr(3),c(),t.endTime=i(),c(),function(e,t){var r=new o;s(e,(function(e,t){var i;switch(e){case"region":for(var a=n.length-1;a>=0;a--)if(n[a].id===t){r.set(e,n[a].region);break}break;case"vertical":r.alt(e,t,["rl","lr"]);break;case"line":i=t.split(","),r.integer(e,i[0]),r.percent(e,i[0])&&r.set("snapToLines",!1),r.alt(e,i[0],["auto"]),2===i.length&&r.alt("lineAlign",i[1],["start",u,"end"]);break;case"position":i=t.split(","),r.percent(e,i[0]),2===i.length&&r.alt("positionAlign",i[1],["start",u,"end","line-left","line-right","auto"]);break;case"size":r.percent(e,t);break;case"align":r.alt(e,t,["start",u,"end","left","right"])}}),/:/,/\s/),t.region=r.get("region",null),t.vertical=r.get("vertical","");var i=r.get("line","auto");"auto"===i&&-1===l.line&&(i=-1),t.line=i,t.lineAlign=r.get("lineAlign","start"),t.snapToLines=r.get("snapToLines",!0),t.size=r.get("size",100),t.align=r.get("align",u);var a=r.get("position","auto");"auto"===a&&50===l.position&&(a="start"===t.align||"left"===t.align?0:"end"===t.align||"right"===t.align?100:50),t.position=a}(e,t)}function d(e){return e.replace(/<br(?: \/)?>/gi,"\n")}var f=function(){function e(){this.state="INITIAL",this.buffer="",this.decoder=new i,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}var t=e.prototype;return t.parse=function(e){var t=this;function n(){var e=t.buffer,n=0;for(e=d(e);n<e.length&&"\r"!==e[n]&&"\n"!==e[n];)++n;var r=e.substr(0,n);return"\r"===e[n]&&++n,"\n"===e[n]&&++n,t.buffer=e.substr(n),r}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{var i="";if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var a=(i=n()).match(/^(\xef\xbb\xbf)?WEBVTT([ \t].*)?$/);if(!a||!a[0])throw new Error("Malformed WebVTT signature.");t.state="HEADER"}for(var o=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(o?o=!1:i=n(),t.state){case"HEADER":/:/.test(i)?s(i,(function(e,t){}),/:/):i||(t.state="ID");continue;case"NOTE":i||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(i)){t.state="NOTE";break}if(!i)continue;if(t.cue=new r.default(0,0,""),t.state="CUE",-1===i.indexOf("--\x3e")){t.cue.id=i;continue}case"CUE":if(!t.cue){t.state="BADCUE";continue}try{c(i,t.cue,t.regionList)}catch(e){t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var l=-1!==i.indexOf("--\x3e");if(!i||l&&(o=!0)){t.oncue&&t.cue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}if(null===t.cue)continue;t.cue.text&&(t.cue.text+="\n"),t.cue.text+=i;continue;case"BADCUE":i||(t.state="ID")}}}catch(e){"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},t.flush=function(){try{if((this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state||"BADWEBVTT"===this.state)throw new Error("Malformed WebVTT signature.")}catch(e){this.onparsingerror&&this.onparsingerror(e)}return this.onflush&&this.onflush(),this},e}()},"./src/utils/webvtt-parser.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"generateCueId",(function(){return d})),n.d(t,"parseWebVTT",(function(){return f}));var r=n("./src/polyfills/number.ts"),i=n("./src/utils/vttparser.ts"),a=n("./src/demux/id3.ts"),o=n("./src/utils/timescale-conversion.ts"),s=n("./src/remux/mp4-remuxer.ts"),l=/\r\n|\n\r|\n|\r/g,u=function(e,t,n){return void 0===n&&(n=0),e.substr(n,t.length)===t},c=function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return(t>>>0).toString()};function d(e,t,n){return c(e.toString())+c(t.toString())+c(n)}function f(e,t,n,c,f,h,p,v){var g,m=new i.VTTParser,y=Object(a.utf8ArrayToStr)(new Uint8Array(e)).trim().replace(l,"\n").split("\n"),b=[],E=Object(o.toMpegTsClockFromTimescale)(t,n),S="00:00.000",T=0,w=0,k=!0,L=!1;m.oncue=function(e){var t=c[f],n=c.ccOffset,r=(T-E)/9e4;if(null!=t&&t.new&&(void 0!==w?n=c.ccOffset=t.start:function(e,t,n){var r=e[t],i=e[r.prevCC];if(!i||!i.new&&r.new)return e.ccOffset=e.presentationOffset=r.start,void(r.new=!1);for(;null!==(a=i)&&void 0!==a&&a.new;){var a;e.ccOffset+=r.start-i.start,r.new=!1,i=e[(r=i).prevCC]}e.presentationOffset=n}(c,f,r)),r&&(n=r-c.presentationOffset),L){var i=e.endTime-e.startTime,a=Object(s.normalizePts)(9e4*(e.startTime+n-w),9e4*h)/9e4;e.startTime=a,e.endTime=a+i}var o=e.text.trim();e.text=decodeURIComponent(encodeURIComponent(o)),e.id||(e.id=d(e.startTime,e.endTime,o)),e.endTime>0&&b.push(e)},m.onparsingerror=function(e){g=e},m.onflush=function(){g?v(g):p(b)},y.forEach((function(e){if(k){if(u(e,"X-TIMESTAMP-MAP=")){k=!1,L=!0,e.substr(16).split(",").forEach((function(e){u(e,"LOCAL:")?S=e.substr(6):u(e,"MPEGTS:")&&(T=parseInt(e.substr(7)))}));try{w=function(e){var t=parseInt(e.substr(-3)),n=parseInt(e.substr(-6,2)),i=parseInt(e.substr(-9,2)),a=e.length>9?parseInt(e.substr(0,e.indexOf(":"))):0;if(!(Object(r.isFiniteNumber)(t)&&Object(r.isFiniteNumber)(n)&&Object(r.isFiniteNumber)(i)&&Object(r.isFiniteNumber)(a)))throw Error("Malformed X-TIMESTAMP-MAP: Local:"+e);return t+=1e3*n,(t+=6e4*i)+36e5*a}(S)/1e3}catch(e){L=!1,g=e}return}""===e&&(k=!1)}m.parse(e+"\n")})),m.flush()}},"./src/utils/xhr-loader.ts":function(e,t,n){"use strict";n.r(t);var r=n("./src/utils/logger.ts"),i=n("./src/loader/load-stats.ts"),a=/^age:\s*[\d.]+\s*$/m,o=function(){function e(e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=e?e.xhrSetup:null,this.stats=new i.LoadStats,this.retryDelay=0}var t=e.prototype;return t.destroy=function(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null},t.abortInternal=function(){var e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,4!==e.readyState&&(this.stats.aborted=!0,e.abort()))},t.abort=function(){var e;this.abortInternal(),null!==(e=this.callbacks)&&void 0!==e&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)},t.load=function(e,t,n){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=t,this.callbacks=n,this.retryDelay=t.retryDelay,this.loadInternal()},t.loadInternal=function(){var e=this.config,t=this.context;if(e){var n=this.loader=new self.XMLHttpRequest,r=this.stats;r.loading.first=0,r.loaded=0;var i=this.xhrSetup;try{if(i)try{i(n,t.url)}catch(e){n.open("GET",t.url,!0),i(n,t.url)}n.readyState||n.open("GET",t.url,!0)}catch(e){return void this.callbacks.onError({code:n.status,text:e.message},t,n)}t.rangeEnd&&n.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),n.onreadystatechange=this.readystatechange.bind(this),n.onprogress=this.loadprogress.bind(this),n.responseType=t.responseType,self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),e.timeout),n.send()}},t.readystatechange=function(){var e=this.context,t=this.loader,n=this.stats;if(e&&t){var i=t.readyState,a=this.config;if(!n.aborted&&i>=2)if(self.clearTimeout(this.requestTimeout),0===n.loading.first&&(n.loading.first=Math.max(self.performance.now(),n.loading.start)),4===i){t.onreadystatechange=null,t.onprogress=null;var o=t.status;if(o>=200&&o<300){var s,l;if(n.loading.end=Math.max(self.performance.now(),n.loading.first),l="arraybuffer"===e.responseType?(s=t.response).byteLength:(s=t.responseText).length,n.loaded=n.total=l,!this.callbacks)return;var u=this.callbacks.onProgress;if(u&&u(n,e,s,t),!this.callbacks)return;var c={url:t.responseURL,data:s};this.callbacks.onSuccess(c,n,e,t)}else n.retry>=a.maxRetry||o>=400&&o<499?(r.logger.error(o+" while loading "+e.url),this.callbacks.onError({code:o,text:t.statusText},e,t)):(r.logger.warn(o+" while loading "+e.url+", retrying in "+this.retryDelay+"..."),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,a.maxRetryDelay),n.retry++)}else self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),a.timeout)}},t.loadtimeout=function(){r.logger.warn("timeout while loading "+this.context.url);var e=this.callbacks;e&&(this.abortInternal(),e.onTimeout(this.stats,this.context,this.loader))},t.loadprogress=function(e){var t=this.stats;t.loaded=e.loaded,e.lengthComputable&&(t.total=e.total)},t.getCacheAge=function(){var e=null;if(this.loader&&a.test(this.loader.getAllResponseHeaders())){var t=this.loader.getResponseHeader("age");e=t?parseFloat(t):null}return e},e}();t.default=o}}).default},e.exports=r())},function(e,t,n){e.exports=!n(7)&&!n(11)((function(){return 7!=Object.defineProperty(n(37)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(18),i=n(6).document,a=r(i)&&r(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(14),i=n(58),a=n(30),o=n(29)("IE_PROTO"),s=function(){},l=function(){var e,t=n(37)("iframe"),r=a.length;for(t.style.display="none",n(62).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;r--;)delete l.prototype[a[r]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[o]=e):n=l(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(12),i=n(15),a=n(59)(!1),o=n(29)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),l=0,u=[];for(n in s)n!=o&&r(s,n)&&u.push(n);for(;t.length>l;)r(s,n=t[l++])&&(~a(u,n)||u.push(n));return u}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){t.f=n(8)},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(42),i=n(30).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){"use strict";var r=n(14);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r=n(78);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},function(e,t,n){"use strict";var r=n(51),i=n(52),a=n(27),o=n(15);e.exports=n(54)(Array,"Array",(function(e,t){this._t=o(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},function(e,t,n){var r=n(8)("unscopables"),i=Array.prototype;null==i[r]&&n(9)(i,r,{}),e.exports=function(e){i[r][e]=!0}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){var r=n(38);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){"use strict";var r=n(23),i=n(28),a=n(19),o=n(9),s=n(27),l=n(57),u=n(31),c=n(63),d=n(8)("iterator"),f=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,n,p,v,g,m){l(n,t,p);var y,b,E,S=function(e){if(!f&&e in L)return L[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},T=t+" Iterator",w="values"==v,k=!1,L=e.prototype,x=L[d]||L["@@iterator"]||v&&L[v],C=x||S(v),_=v?w?S("entries"):C:void 0,A="Array"==t&&L.entries||x;if(A&&(E=c(A.call(new e)))!==Object.prototype&&E.next&&(u(E,T,!0),r||"function"==typeof E[d]||o(E,d,h)),w&&x&&"values"!==x.name&&(k=!0,C=function(){return x.call(this)}),r&&!m||!f&&!k&&L[d]||o(L,d,C),s[t]=C,s[T]=h,v)if(y={values:w?C:S("values"),keys:g?C:S("keys"),entries:_},m)for(b in y)b in L||a(L,b,y[b]);else i(i.P+i.F*(f||k),t,y);return y}},function(e,t,n){e.exports=n(21)("native-function-to-string",Function.toString)},function(e,t,n){var r=n(40);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){"use strict";var r=n(41),i=n(24),a=n(31),o={};n(9)(o,n(8)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(o,{next:i(1,n)}),a(e,t+" Iterator")}},function(e,t,n){var r=n(10),i=n(14),a=n(25);e.exports=n(7)?Object.defineProperties:function(e,t){i(e);for(var n,o=a(t),s=o.length,l=0;s>l;)r.f(e,n=o[l++],t[n]);return e}},function(e,t,n){var r=n(15),i=n(60),a=n(61);e.exports=function(e){return function(t,n,o){var s,l=r(t),u=i(l.length),c=a(o,u);if(e&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}}},function(e,t,n){var r=n(43),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(43),i=Math.max,a=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):a(e,t)}},function(e,t,n){var r=n(6).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(12),i=n(32),a=n(29)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},function(e,t,n){var r=n(17)("meta"),i=n(18),a=n(12),o=n(10).f,s=0,l=Object.isExtensible||function(){return!0},u=!n(11)((function(){return l(Object.preventExtensions({}))})),c=function(e){o(e,r,{value:{i:"O"+ ++s,w:{}}})},d=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,r)){if(!l(e))return"F";if(!t)return"E";c(e)}return e[r].i},getWeak:function(e,t){if(!a(e,r)){if(!l(e))return!0;if(!t)return!1;c(e)}return e[r].w},onFreeze:function(e){return u&&d.NEED&&l(e)&&!a(e,r)&&c(e),e}}},function(e,t,n){var r=n(6),i=n(22),a=n(23),o=n(44),s=n(10).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=a?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:o.f(e)})}},function(e,t,n){var r=n(25),i=n(45),a=n(33);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var o,s=n(e),l=a.f,u=0;s.length>u;)l.call(e,o=s[u++])&&t.push(o);return t}},function(e,t,n){var r=n(38);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(15),i=n(46).f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==a.call(e)?function(e){try{return i(e)}catch(e){return o.slice()}}(e):i(r(e))}},function(e,t,n){var r=n(33),i=n(24),a=n(15),o=n(26),s=n(12),l=n(36),u=Object.getOwnPropertyDescriptor;t.f=n(7)?u:function(e,t){if(e=a(e),t=o(t,!0),l)try{return u(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){n(7)&&"g"!=/./g.flags&&n(10).f(RegExp.prototype,"flags",{configurable:!0,get:n(47)})},function(e,t,n){var r=n(4),i=n(72);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(5)(!1)).push([e.i,"@keyframes show{0%{opacity:0}50%{opacity:.5}100%{opacity:1}}@keyframes scaleAnimate{50%{transform:scale(1.2)}100%{transform:scale(1)}}@keyframes rotateAnimate{0%{transform:rotate(270deg)}100%{transform:rotate(360deg)}}@keyframes example{from{opacity:0;transform:scale(1.5)}to{opacity:1;transform:scale(1)}}@keyframes learve{from{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(1.5)}}.JoL-progress-container{transition:all .5s;width:100%}.JoL-progress-container .progress-bg{transition:all .3s;width:100%;height:5px;background:rgba(255,255,255,.2);border-radius:2px;position:relative}.JoL-progress-container .progress-bg .progress-buffered{width:0%;height:100%;position:absolute;left:0;top:0;right:auto;bottom:auto;z-index:1;border-radius:2px;background:rgba(255,255,255,.5)}.JoL-progress-container .progress-bg .progress-played{width:0%;height:100%;position:absolute;left:0;top:0;right:auto;bottom:auto;z-index:2;border-radius:2px}.JoL-progress-container .progress-bg .progress-played .progress-scrubber{transition:all .3s;width:12px;height:12px;position:absolute;left:auto;top:-50%;right:-5px;bottom:auto;margin-top:1px;border-radius:50%}.JoL-progress-container .progress-bg .progress-seek-mask{width:100%;height:calc(100% + 6px);position:absolute;left:0;top:-3px;right:auto;bottom:auto;z-index:100}.JoL-progress-container .progress-bg .progress-seek-mask:hover{cursor:pointer}.JoL-progress-container .progress-bg .pointer{position:absolute;left:714px;top:0;right:auto;bottom:auto}.JoL-progress-container .progress-bg .pointer .top-triangle,.JoL-progress-container .progress-bg .pointer .bottom-triangle{width:0;height:0;position:absolute;border-right:4px solid transparent;border-left:4px solid transparent}.JoL-progress-container .progress-bg .pointer .top-triangle{left:-4px;top:-5px;border-bottom:4px solid transparent}.JoL-progress-container .progress-bg .pointer .bottom-triangle{left:-4px;top:3px;border-top:4px solid transparent}.JoL-progress-container .progress-bg .video-img-box{width:169px;height:96px;position:absolute;left:0;top:-105px;right:auto;bottom:auto;margin-left:calc(-169px / 2)}.JoL-progress-container .progress-bg .video-img-box .video-current-img{width:100%;height:100%}.JoL-progress-container .progress-bg .video-img-box .current-time{position:absolute;left:50%;top:auto;right:auto;bottom:0;font-size:12px;color:#fff;font-weight:normal;transform:translateX(-50%);background-color:#222;padding:1px 4px}",""]),e.exports=t},function(e,t,n){var r=n(4),i=n(74);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(5)(!1)).push([e.i,"@keyframes show{0%{opacity:0}50%{opacity:.5}100%{opacity:1}}@keyframes scaleAnimate{50%{transform:scale(1.2)}100%{transform:scale(1)}}@keyframes rotateAnimate{0%{transform:rotate(270deg)}100%{transform:rotate(360deg)}}.JoL-player-container .tooltip{position:relative;cursor:pointer;z-index:1}.JoL-player-container .tooltip:hover .title{transition:all .6s;opacity:1;display:block;animation:show .3s ease}.JoL-player-container .tooltip .title{display:none;opacity:0;z-index:-1;position:absolute;color:#fff;left:50%;bottom:49px;font-size:13px;background-color:rgba(0,0,0,.7);border-radius:3px;transform:translateX(-50%);line-height:20px;padding:5px 7px;white-space:nowrap}",""]),e.exports=t},function(e,t,n){var r=n(4),i=n(76);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(5)(!1)).push([e.i,'@keyframes show{0%{opacity:0}50%{opacity:.5}100%{opacity:1}}@keyframes scaleAnimate{50%{transform:scale(1.2)}100%{transform:scale(1)}}@keyframes rotateAnimate{0%{transform:rotate(270deg)}100%{transform:rotate(360deg)}}.JoL-player-container body{--JoL-theme: red}.JoL-player-container .container{display:flex;align-items:center;font-size:14px}.JoL-player-container .label{padding-right:20px;cursor:pointer}.JoL-player-container .switch{position:relative;width:30px;height:15px;background-color:#dadada;border-radius:30px;border:none;outline:none;-webkit-appearance:none;transition:all .2s ease;cursor:pointer}.JoL-player-container .switch::after{content:"";width:50%;height:100%;position:absolute;left:0;top:0;right:auto;bottom:auto;background-color:#fff;border-radius:50%;transition:all .2s ease}.JoL-player-container .switch:checked{background-color:var(--JoL-theme)}.JoL-player-container .switch:checked::after{left:50%}',""]),e.exports=t},function(e,t,n){(t=n(5)(!1)).push([e.i,'@keyframes show{0%{opacity:0}50%{opacity:.5}100%{opacity:1}}@keyframes scaleAnimate{50%{transform:scale(1.2)}100%{transform:scale(1)}}@keyframes rotateAnimate{0%{transform:rotate(270deg)}100%{transform:rotate(360deg)}}.clientFullScreen{width:auto !important;height:auto !important;position:fixed !important;left:0;top:0;right:0;bottom:0;z-index:100000 !important}.JoL-controls-container{padding:0 5px;box-sizing:border-box;transition:all .5s;width:100%;height:42px;color:#eee;position:relative;display:flex;align-items:center}.JoL-controls-container:hover{cursor:default}.JoL-controls-container:after{content:"";width:calc(100% + 26px);height:100%;position:absolute;left:50%;top:auto;right:auto;bottom:0;z-index:-1;transform:translateX(-50%);background:linear-gradient(to top, rgba(0, 0, 0, 0.5), transparent)}.JoL-controls-container .play-pause-timeline{display:flex;align-items:center}.JoL-controls-container .play-pause-timeline .icon{cursor:pointer}.JoL-controls-container .play-pause-timeline .time-wrap{font-size:13px;vertical-align:middle;padding:0 10px}.JoL-controls-container .JoL-multifunction{width:100%;height:100%;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-end;align-items:center;text-align:center;line-height:42px}.JoL-controls-container .JoL-multifunction-multiple{cursor:pointer;padding:0 10px;position:relative}.JoL-controls-container .JoL-multifunction-multiple-container{transition:all .5s;position:absolute;left:50%;top:-12px;right:auto;bottom:auto;transform:translateX(-50%);width:100%;height:70px}.JoL-controls-container .JoL-multifunction-multiple-container:hover .multifunction-multiple-layer{animation:show .3s ease}.JoL-controls-container .JoL-multifunction-multiple-layer{list-style:none;line-height:normal;position:absolute;left:50%;top:auto;right:auto;bottom:65px;transform:translateX(-50%);border-radius:3px;background-color:rgba(0,0,0,.7)}.JoL-controls-container .JoL-multifunction-multiple-layer li{padding:10px 22px;cursor:pointer;font-size:14px;white-space:nowrap;display:flex}.JoL-controls-container .JoL-multifunction-multiple-layer li p{padding:0 3px}.JoL-controls-container .JoL-multifunction-multiple-layer li:hover{background:rgba(255,255,255,.2)}.JoL-controls-container .JoL-multifunction-multiple:hover{z-index:1000000000}.JoL-controls-container .JoL-multifunction-multiple:hover-layer{z-index:1000000000}.JoL-controls-container .JoL-multifunction-volume{padding:0 10px;position:relative;cursor:pointer}.JoL-controls-container .JoL-multifunction-volume:hover{z-index:1000000000}.JoL-controls-container .JoL-multifunction-volume:hover-layer{z-index:1000000000}.JoL-controls-container .JoL-multifunction-volume-container{width:100%;height:70px;position:absolute;left:50%;top:-12px;right:auto;bottom:0;transform:translateX(-50%)}.JoL-controls-container .JoL-multifunction-volume-container:hover .volume-box{animation:show .3s ease}.JoL-controls-container .JoL-multifunction-volume .volume-box{line-height:normal;position:absolute;bottom:65px;width:40px;height:120px;padding-bottom:8px;border-radius:3px;background-color:rgba(0,0,0,.7)}.JoL-controls-container .JoL-multifunction-volume .volume-box .current-volume{width:100%;height:24px;margin:0;line-height:24px;text-align:center}.JoL-controls-container .JoL-multifunction-volume .volume-box .current-volume:hover{cursor:default}.JoL-controls-container .JoL-multifunction-volume .volume-box .current-volume .volume-value{font-size:13px;font-style:normal}.JoL-controls-container .JoL-multifunction-volume .volume-box .volume-slider{width:100%;height:96px;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center;align-items:center}.JoL-controls-container .JoL-multifunction-volume .volume-box .volume-slider .volume-slider-bg{width:2px;height:86px;border-radius:1px;background-color:#fff;position:relative}.JoL-controls-container .JoL-multifunction-volume .volume-box .volume-slider .volume-slider-bg .volume-slider-op{width:100%;height:100%;position:absolute;left:0;top:auto;right:auto;bottom:0;z-index:1;border-radius:1px}.JoL-controls-container .JoL-multifunction-volume .volume-box .volume-slider .volume-slider-bg .volume-slider-op .volume-slider-op-circle{width:10px;height:10px;position:absolute;left:50%;top:calc(-10px / 2);right:auto;bottom:auto;margin-left:calc(-10px / 2);border-radius:50%}.JoL-controls-container .JoL-multifunction-volume .volume-box .volume-slider .volume-slider-bg .volume-slider-mirror{width:32px;height:calc(100% + 5px);position:absolute;left:-15px;top:auto;right:auto;bottom:0;z-index:2}.JoL-controls-container .JoL-multifunction-set{padding:0 10px;position:relative;cursor:pointer}.JoL-controls-container .JoL-multifunction-set-container{width:100%;height:70px;position:absolute;left:50%;top:-12px;right:auto;bottom:0;transition:all .5s;transform:translateX(-50%)}.JoL-controls-container .JoL-multifunction-set:hover{z-index:1000000000}.JoL-controls-container .JoL-multifunction-set:hover .hover-icon-rotateAnimate{animation:rotateAnimate .5s ease}.JoL-controls-container .JoL-multifunction-set:hover .JoL-multifunction-set-layer{animation:show .3s ease}.JoL-controls-container .JoL-multifunction-set-layer{line-height:normal;list-style:none;position:absolute;left:50%;top:auto;right:auto;bottom:65px;transform:translateX(-50%);border-radius:3px;background-color:rgba(0,0,0,.7);padding:8px 0}.JoL-controls-container .JoL-multifunction-set-layer li{padding:7px 22px;cursor:pointer;width:100%;white-space:nowrap}.JoL-controls-container .hover-icon-animate:hover{animation:scaleAnimate .5s ease}',""]),e.exports=t},function(e,t){e.exports=n(4164)},function(e,t,n){var r=n(4),i=n(80);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(5)(!1)).push([e.i,"@keyframes show{0%{opacity:0}50%{opacity:.5}100%{opacity:1}}@keyframes scaleAnimate{50%{transform:scale(1.2)}100%{transform:scale(1)}}@keyframes rotateAnimate{0%{transform:rotate(270deg)}100%{transform:rotate(360deg)}}.JoL-player-container .leftTop{position:absolute;left:15px;top:15px;right:auto;bottom:auto}.JoL-player-container .rightTop{position:absolute;left:auto;top:15px;right:15px;bottom:auto}.JoL-player-container .leftBottom{position:absolute;left:15px;top:auto;right:auto;bottom:60px}.JoL-player-container .rightBottom{position:absolute;left:auto;top:auto;right:15px;bottom:60px}.JoL-player-container .center{position:absolute;left:50%;top:50%;right:auto;bottom:auto;transform:translate(-50%, -50%)}.JoL-player-container .jolPlayerToast{background-color:rgba(0,0,0,.7);z-index:10000;font-size:13px;color:#fff;font-weight:normal;padding:8px 10px;border-radius:2px;animation:show .3s ease}",""]),e.exports=t},function(e,t,n){"use strict";var r=n(28),i=n(40),a=n(32),o=n(11),s=[].sort,l=[1,2,3];r(r.P+r.F*(o((function(){l.sort(void 0)}))||!o((function(){l.sort(null)}))||!n(82)(s)),"Array",{sort:function(e){return void 0===e?s.call(a(this)):s.call(a(this),i(e))}})},function(e,t,n){"use strict";var r=n(11);e.exports=function(e,t){return!!e&&r((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},function(e,t,n){var r=n(4),i=n(84);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(5)(!1)).push([e.i,"@keyframes show{0%{opacity:0}50%{opacity:.5}100%{opacity:1}}@keyframes scaleAnimate{50%{transform:scale(1.2)}100%{transform:scale(1)}}@keyframes rotateAnimate{0%{transform:rotate(270deg)}100%{transform:rotate(360deg)}}.JoL-player-container .end{position:absolute;left:0;top:0;right:0;bottom:0;z-index:1300;cursor:default;background:rgba(0,0,0,.4)}.JoL-player-container .end .replay{position:absolute;left:50%;top:50%;right:0;bottom:0;transform:translate(-50%, -50%);display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center;align-items:center;color:#fff;text-align:center;height:100px}.JoL-player-container .end .replay .cicle{width:65px;height:65px;background:rgba(0,0,0,.58);border-radius:50%;cursor:pointer;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center;align-items:center}.JoL-player-container .end .replay p{width:100%}",""]),e.exports=t},function(e,t,n){var r=n(4),i=n(86);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(5)(!1)).push([e.i,"@keyframes show{0%{opacity:0}50%{opacity:.5}100%{opacity:1}}@keyframes scaleAnimate{50%{transform:scale(1.2)}100%{transform:scale(1)}}@keyframes rotateAnimate{0%{transform:rotate(270deg)}100%{transform:rotate(360deg)}}.JoL-player-container .screenshot{width:280px;position:absolute;left:auto;top:auto;right:0;bottom:55px;background:#fff;padding:3px;overflow:hidden}.JoL-player-container .screenshot .img{height:155px;overflow:hidden;position:relative}.JoL-player-container .screenshot .img canvas{position:absolute;left:50%;top:50%;right:auto;bottom:auto;transform:translate(-50%, -50%)}.JoL-player-container .screenshot .close{position:absolute;left:auto;top:-24px;right:-24px;bottom:auto;width:0;height:0;z-index:1;border:26px solid transparent;border-left-color:#fff;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);border-radius:100%}.JoL-player-container .screenshot .close .icon{position:absolute;left:auto;top:-8px;right:5px;bottom:auto;transform:rotate(45deg);cursor:pointer}.JoL-player-container .screenshot .save{padding:10px;text-align:center;font-size:13px}",""]),e.exports=t},function(e,t,n){var r=n(4),i=n(88);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(5)(!1)).push([e.i,"@keyframes show{0%{opacity:0}50%{opacity:.5}100%{opacity:1}}@keyframes scaleAnimate{50%{transform:scale(1.2)}100%{transform:scale(1)}}@keyframes rotateAnimate{0%{transform:rotate(270deg)}100%{transform:rotate(360deg)}}.JoL-player-container .tp{top:0}.JoL-player-container .bt{bottom:0}.JoL-player-container .suspendedProgressBoard{transition:all .3s;animation:show .3s ease;width:100%;height:3px;background:rgba(255,255,255,.2);border-radius:2px;position:absolute}.JoL-player-container .suspendedProgressBoard .progressPlayed{width:0%;height:100%;position:absolute;left:0;top:0;right:auto;bottom:auto;z-index:2;border-radius:2px}",""]),e.exports=t},function(e,t,n){var r=n(4),i=n(90);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(5)(!1)).push([e.i,"@keyframes show{0%{opacity:0}50%{opacity:.5}100%{opacity:1}}@keyframes scaleAnimate{50%{transform:scale(1.2)}100%{transform:scale(1)}}@keyframes rotateAnimate{0%{transform:rotate(270deg)}100%{transform:rotate(360deg)}}.JoL-controller-container{width:100%;height:100%;position:absolute;left:50%;top:auto;right:auto;bottom:0;transform:translateX(-50%);z-index:3;cursor:pointer}.JoL-controller-container .JoL-click-to-play-or-pause{width:100%;height:calc(100% - 47px);position:absolute;left:0;top:0;right:auto;bottom:auto;z-index:101;outline:none}.JoL-controller-container .play-icon{display:inline-block;font-size:24px;color:#fff;font-weight:normal;width:40px;height:40px;position:absolute;left:auto;top:auto;right:30px;bottom:60px;z-index:100;line-height:40px;text-align:center;border-radius:30%;opacity:.7}.JoL-controller-container .JoL-progress-and-controls-wrap{width:calc(100% - 26px);position:absolute;left:50%;top:auto;right:auto;bottom:0;z-index:102;transform:translateX(-50%)}",""]),e.exports=t},function(e,t,n){var r=n(4),i=n(92);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(5)(!1)).push([e.i,'.JoL-player-container html,.JoL-player-container body,.JoL-player-container div,.JoL-player-container span,.JoL-player-container object,.JoL-player-container iframe,.JoL-player-container h1,.JoL-player-container h2,.JoL-player-container h3,.JoL-player-container h4,.JoL-player-container h5,.JoL-player-container h6,.JoL-player-container p,.JoL-player-container blockquote,.JoL-player-container pre,.JoL-player-container abbr,.JoL-player-container address,.JoL-player-container cite,.JoL-player-container code,.JoL-player-container del,.JoL-player-container dfn,.JoL-player-container em,.JoL-player-container img,.JoL-player-container ins,.JoL-player-container kbd,.JoL-player-container q,.JoL-player-container samp,.JoL-player-container small,.JoL-player-container strong,.JoL-player-container sub,.JoL-player-container sup,.JoL-player-container var,.JoL-player-container b,.JoL-player-container i,.JoL-player-container dl,.JoL-player-container dt,.JoL-player-container dd,.JoL-player-container ol,.JoL-player-container ul,.JoL-player-container li,.JoL-player-container fieldset,.JoL-player-container form,.JoL-player-container label,.JoL-player-container legend,.JoL-player-container table,.JoL-player-container caption,.JoL-player-container tbody,.JoL-player-container tfoot,.JoL-player-container thead,.JoL-player-container tr,.JoL-player-container th,.JoL-player-container td,.JoL-player-container article,.JoL-player-container aside,.JoL-player-container canvas,.JoL-player-container details,.JoL-player-container figcaption,.JoL-player-container figure,.JoL-player-container footer,.JoL-player-container header,.JoL-player-container hgroup,.JoL-player-container menu,.JoL-player-container nav,.JoL-player-container section,.JoL-player-container summary,.JoL-player-container time,.JoL-player-container mark,.JoL-player-container audio,.JoL-player-container video{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}.JoL-player-container body{line-height:1}.JoL-player-container :focus{outline:1}.JoL-player-container article,.JoL-player-container aside,.JoL-player-container canvas,.JoL-player-container details,.JoL-player-container figcaption,.JoL-player-container figure,.JoL-player-container footer,.JoL-player-container header,.JoL-player-container hgroup,.JoL-player-container menu,.JoL-player-container nav,.JoL-player-container section,.JoL-player-container summary{display:block}.JoL-player-container nav ul{list-style:none}.JoL-player-container blockquote,.JoL-player-container q{quotes:none}.JoL-player-container blockquote:before,.JoL-player-container blockquote:after,.JoL-player-container q:before,.JoL-player-container q:after{content:"";content:none}.JoL-player-container a{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;background:transparent}.JoL-player-container ins{background-color:#ff9;color:#000;text-decoration:none}.JoL-player-container mark{background-color:#ff9;color:#000;font-style:italic;font-weight:bold}.JoL-player-container del{text-decoration:line-through}.JoL-player-container abbr[title],.JoL-player-container dfn[title]{border-bottom:1px dotted #000;cursor:help}.JoL-player-container table{border-collapse:collapse;border-spacing:0}.JoL-player-container hr{display:block;height:1px;border:0;border-top:1px solid #ccc;margin:1em 0;padding:0}.JoL-player-container input,.JoL-player-container select{vertical-align:middle}',""]),e.exports=t},function(e,t,n){var r=n(4),i=n(94);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(5)(!1)).push([e.i,"@keyframes show{0%{opacity:0}50%{opacity:.5}100%{opacity:1}}@keyframes scaleAnimate{50%{transform:scale(1.2)}100%{transform:scale(1)}}@keyframes rotateAnimate{0%{transform:rotate(270deg)}100%{transform:rotate(360deg)}}.JoL-player-container{-moz-user-select:none;-khtml-user-select:none;-webkit-user-select:none;user-select:none;margin:0;box-sizing:border-box;position:relative;z-index:100}.JoL-player-container .JoL-player{width:100%;height:100%;background-color:#000;object-fit:cover;position:absolute;left:0;top:0;right:auto;bottom:auto;z-index:1}.JoL-player-container .JoL-light-off-mask{width:100vw;height:100vh;position:fixed;left:0;top:0;right:auto;bottom:auto;z-index:0;background-color:rgba(0,0,0,.9);display:none}.JoL-player-container .video-no-useful-tip,.JoL-player-container .buffering-animation{width:100%;height:100px;position:fixed;left:0;top:50%;right:auto;bottom:auto;font-size:16px;color:#fff;font-weight:normal;margin-top:-50px;text-align:center;line-height:100px;z-index:99}.JoL-player-container .player-loading{position:absolute;left:50%;top:50%;right:auto;bottom:auto;z-index:30;transform:translate(-50%, -50%)}",""]),e.exports=t},function(e,t,n){var r={"./close.svg":96,"./closeFullScreen.svg":97,"./closeWebFullscreen.svg":98,"./fullScreen.svg":99,"./inPicture.svg":100,"./loading.svg":101,"./mute.svg":102,"./pause.svg":103,"./player.svg":104,"./replay.svg":105,"./screenshot.svg":106,"./screenshots.svg":107,"./set.svg":108,"./volume.svg":109,"./webFullscreen.svg":110};function i(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=a,e.exports=i,i.id=95},function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),a=n(2),o=n.n(a),s=new i.a({id:"icon-close",use:"icon-close-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-close"><defs><style type="text/css"></style></defs><path d="M783.36 195.2L512 466.56 240.64 195.2a32 32 0 0 0-45.44 45.44L466.56 512l-271.36 271.36a32 32 0 0 0 45.44 45.44L512 557.44l271.36 271.36a32 32 0 0 0 45.44-45.44L557.44 512l271.36-271.36a32 32 0 0 0-45.44-45.44z" p-id="6952" /></symbol>'});o.a.add(s),t.default=s},function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),a=n(2),o=n.n(a),s=new i.a({id:"icon-closeFullScreen",use:"icon-closeFullScreen-usage",viewBox:"0 0 18 18",content:'<symbol viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-closeFullScreen">\n    <title>icon_tcqp</title>\n    <g id="icon-closeFullScreen_\u9875\u9762-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="icon-closeFullScreen_iPhone-8" transform="translate(-253.000000, -61.000000)">\n            <g id="icon-closeFullScreen_icon_tcqp" transform="translate(253.000000, 61.000000)">\n                <rect id="icon-closeFullScreen_\u77e9\u5f62\u5907\u4efd" x="0" y="0" width="18" height="18" />\n                <g transform="translate(1.000000, 1.000000)" fill="#FFFFFF" fill-rule="nonzero" id="icon-closeFullScreen_\u5f62\u72b6">\n                    <path d="M6.1481867,5.15916634 L6.13112633,0.749707211 C6.12356793,0.409921405 5.84286357,0.205952741 5.50205199,0.198358355 L5.04484113,0.198358355 C4.70507332,0.190799961 4.43523865,0.486621108 4.44274306,0.826082983 L4.461837,3.22409148 L1.43637382,0.247145989 C1.10751169,-0.0823819964 0.575364753,-0.0823819964 0.24648463,0.247145989 C-0.0813697115,0.576727963 -0.0813697115,1.10928881 0.24648463,1.43914073 L3.24419771,4.40644027 L0.946139975,4.41565431 C0.606372165,4.40707014 0.291187132,4.64251411 0.23961009,5.04370287 L0.23961009,5.4770508 C0.248194266,5.81748447 0.528934618,6.09896266 0.868702428,6.10641308 L5.25663813,6.08053458 C5.26315274,6.08116444 5.2675798,6.08361192 5.27333858,6.08361192 L5.5810732,6.09041448 C5.7509751,6.09448161 5.90320475,6.02802173 6.01159572,5.91777716 C6.12180431,5.80830642 6.16243967,5.65539291 6.15792263,5.48446522 L6.1251516,5.17604675 C6.12516959,5.17001803 6.14800674,5.1659329 6.14800674,5.15904037 L6.1481867,5.15916634 Z M12.7278767,11.5673528 L15.0228211,11.5581388 C15.3625889,11.5657151 15.6771081,11.3568875 15.729351,10.9557347 L15.729351,10.5224408 C15.7207488,10.1819172 15.4390007,9.90052895 15.1002587,9.89190878 L10.768543,9.9181472 C10.7617405,9.9181472 10.7576553,9.91542978 10.7511407,9.91542978 L10.44409,9.90787139 C10.2741881,9.90380425 10.1210586,9.97030012 10.0125416,10.0808326 C9.9017032,10.1893496 9.86207562,10.342839 9.8654589,10.5137667 L9.89930971,10.8215013 C9.89990358,10.8290597 9.87710242,10.8333967 9.87710242,10.8392455 L9.89484665,15.1807871 C9.90343083,15.5202489 10.1841892,15.7235877 10.523939,15.7310381 L10.9561532,15.731704 C11.2949672,15.7394963 11.5657556,15.4427754 11.5572794,15.1028996 L11.5381675,12.7564142 L14.5636307,15.7528135 C14.8925288,16.0823955 15.4240099,16.0823955 15.752908,15.7528135 C16.0814282,15.4233035 16.0814282,14.8906887 15.752908,14.5611427 L12.7278407,11.5671908 L12.7278767,11.5673528 Z M6.01136177,10.0809406 C5.90288082,9.97044409 5.74967937,9.90396622 5.58083925,9.90799736 L5.27303265,9.91555575 C5.26680597,9.91555575 5.26284681,9.91827318 5.25597227,9.91827318 L0.868324508,9.89203475 C0.528538702,9.90063692 0.247402435,10.1819891 0.239250167,10.5225128 L0.239250167,10.9558247 C0.290413296,11.3569955 0.605598329,11.5657511 0.944808258,11.5582287 L3.26915841,11.5657871 L0.24610671,14.559811 C-0.08203557,14.8883312 -0.08203557,15.4219358 0.24610671,15.7514818 C0.574644906,16.0810638 1.10713377,16.0810638 1.43568996,15.7514818 L4.46151307,12.7745903 L4.44209519,15.1354187 C4.4345368,15.4759423 4.70446145,15.7727173 5.04359939,15.7641691 L5.50081025,15.7641691 C5.84160384,15.7555849 6.12239818,15.5533799 6.12988459,15.2128203 L6.14764682,10.8388496 C6.14764682,10.8326229 6.12484566,10.8285738 6.12484566,10.8217712 L6.1576167,10.5139646 C6.16132391,10.3430909 6.12175032,10.1895835 6.01155973,10.0811026 L6.01136177,10.0809406 Z M10.0144672,5.918497 C10.1229842,6.02868759 10.2761496,6.09520146 10.4457456,6.09041448 L10.7527604,6.08361192 C10.7595629,6.08361192 10.763702,6.08123643 10.7705046,6.08019265 L15.1649909,6.10641308 C15.5047587,6.09860274 15.7855351,5.81707055 15.7940653,5.47665488 L15.795109,5.04334295 C15.7429561,4.64147033 15.4272852,4.40708813 15.0885791,4.41457454 L12.7567606,4.40537849 L15.752818,1.43793498 C16.082328,1.10977471 16.082328,0.577177868 15.7537898,0.24761389 C15.4248917,-0.0819140958 14.8934106,-0.0819140958 14.5645305,0.24761389 L11.5390673,3.24302346 L11.5584852,0.82656888 C11.5666554,0.487107005 11.295777,0.190314064 10.956981,0.197800474 L10.5247668,0.197800474 C10.184981,0.20638465 9.90418667,0.409669458 9.89567448,0.749149329 L9.87827218,5.15956225 C9.87827218,5.16636481 9.90078539,5.17050393 9.90078539,5.17662263 L9.8673305,5.4850411 C9.86387523,5.65598678 9.90344883,5.80881031 10.0144133,5.91835303 L10.0144672,5.918497 Z" />\n                </g>\n            </g>\n        </g>\n    </g>\n</symbol>'});o.a.add(s),t.default=s},function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),a=n(2),o=n.n(a),s=new i.a({id:"icon-closeWebFullscreen",use:"icon-closeWebFullscreen-usage",viewBox:"0 0 18 18",content:'<symbol viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-closeWebFullscreen">\n    <title>icon_tcqp</title>\n    <g id="icon-closeWebFullscreen_\u9875\u9762-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="icon-closeWebFullscreen_iPhone-8" transform="translate(-78.000000, -21.000000)">\n            <g id="icon-closeWebFullscreen_icon_tcqp" transform="translate(78.000000, 21.000000)">\n                <rect id="icon-closeWebFullscreen_\u77e9\u5f62\u5907\u4efd-10" x="0" y="0" width="18" height="18" />\n                <g id="icon-closeWebFullscreen_icon_wyqp" transform="translate(1.000000, 1.000000)" fill="#FFFFFF">\n                    <path d="M0,14.3998594 L0,1.59990625 C0,0.71621875 0.71640625,0 1.60007812,0 L14.4000312,0 C15.2837187,0 15.9999375,0.71621875 15.9999375,1.59990625 L15.9999375,14.3998906 C15.9999375,15.2835781 15.2837187,16 14.4000312,16 L1.60007812,16 C0.716421875,16 0,15.2835469 0,14.3998594 Z M13.967076,1.66 L2.03308428,1.66 C1.76927393,1.66 1.66,1.76925936 1.66,2.0328949 L1.66,13.9669157 C1.66,14.2307406 1.76927393,14.34 2.03308428,14.34 L14.34,14.34 L14.34,2.0328949 C14.34,1.76924479 14.2307552,1.66 13.967076,1.66 Z" id="icon-closeWebFullscreen_\u5f62\u72b6" fill-rule="nonzero" />\n                    <path d="M6.2,9 C6.28000001,9 6.44,9 6.52000001,9.08000001 C6.60000001,9.08000001 6.68000002,9.15999999 6.76000001,9.24 C6.84,9.32000001 6.92,9.39999999 6.92,9.48 C7.00000001,9.56000001 7.00000001,9.72 7.00000001,9.80000001 L7.00000001,9.80000001 L7.00000001,12.4 C7.00000001,12.88 6.68,13.2 6.2,13.2 C5.72,13.2 5.4,12.88 5.4,12.4 L5.4,12.4 L5.4,10.6 L3.60000001,10.6 C3.12000001,10.6 2.8,10.28 2.8,9.80000001 C2.8,9.32000001 3.12000001,9 3.60000001,9 L3.60000001,9 Z M12.4,9 C12.88,9 13.2,9.32000001 13.2,9.80000001 C13.2,10.28 12.88,10.6 12.4,10.6 L10.6,10.6 L10.6,12.4 C10.6,12.88 10.28,13.2 9.80000001,13.2 C9.32000001,13.2 9,12.88 9,12.4 L9,9.80000001 C9,9.72 9,9.56000001 9.08000001,9.48 C9.08000001,9.39999999 9.16000001,9.32000001 9.24,9.24 C9.31999999,9.15999999 9.39999999,9.08000001 9.48,9.08000001 C9.56000001,9 9.72,9 9.80000001,9 L12.4,9 Z M6.2,2.8 C6.68,2.8 7.00000001,3.12000001 7.00000001,3.60000001 L7.00000001,6.2 C7.00000001,6.28000001 7.00000001,6.44 6.92,6.52000001 C6.92,6.60000002 6.84,6.68 6.76000001,6.76000001 C6.68000002,6.84000001 6.60000001,6.92 6.52000001,6.92 C6.44,7.00000001 6.28000001,7.00000001 6.2,7.00000001 L3.60000001,7.00000001 C3.12000001,7.00000001 2.8,6.68 2.8,6.2 C2.8,5.72 3.12000001,5.4 3.60000001,5.4 L5.4,5.4 L5.4,3.60000001 C5.4,3.12000001 5.72,2.8 6.2,2.8 Z M9.80000001,2.8 C10.28,2.8 10.6,3.12000001 10.6,3.60000001 L10.6,3.60000001 L10.6,5.4 L12.4,5.4 C12.88,5.4 13.2,5.72 13.2,6.2 C13.2,6.68 12.88,7.00000001 12.4,7.00000001 L12.4,7.00000001 L9.80000001,7.00000001 C9.72,7.00000001 9.56000001,7.00000001 9.48,6.92 C9.39999999,6.92 9.31999999,6.84000001 9.24,6.76000001 C9.16000001,6.68 9.08000001,6.60000002 9.08000001,6.52000001 C9,6.44 9,6.28000001 9,6.2 L9,6.2 L9,3.60000001 C9,3.12000001 9.32000001,2.8 9.80000001,2.8 Z" id="icon-closeWebFullscreen_\u5f62\u72b6\u7ed3\u5408" />\n                </g>\n            </g>\n        </g>\n    </g>\n</symbol>'});o.a.add(s),t.default=s},function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),a=n(2),o=n.n(a),s=new i.a({id:"icon-fullScreen",use:"icon-fullScreen-usage",viewBox:"0 0 18 18",content:'<symbol viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-fullScreen">\n    <title>icon_qp</title>\n    <g id="icon-fullScreen_\u9875\u9762-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="icon-fullScreen_iPhone-8" transform="translate(-218.000000, -61.000000)">\n            <g id="icon-fullScreen_icon_qp" transform="translate(218.000000, 61.000000)">\n                <rect id="icon-fullScreen_\u77e9\u5f62" x="0" y="0" width="18" height="18" />\n                <g transform="translate(1.000000, 1.000000)" fill="#FFFFFF" fill-rule="nonzero" id="icon-fullScreen_\u5f62\u72b6">\n                    <path d="M15.2,16 L11.6,16 C11.12,16 10.8,15.68 10.8,15.2 C10.8,14.72 11.12,14.4 11.6,14.4 L13.28,14.4 L10.16,11.28 C9.83999999,10.96 9.83999999,10.48 10.16,10.16 C10.48,9.84000001 10.96,9.83999999 11.28,10.16 L14.4,13.28 L14.4,11.6 C14.4,11.12 14.72,10.8 15.2,10.8 C15.68,10.8 16,11.12 16,11.6 L16,15.2 C16,15.28 16,15.44 15.92,15.52 C15.92,15.6 15.84,15.68 15.76,15.76 C15.68,15.84 15.6,15.92 15.52,15.92 C15.44,16 15.28,16 15.2,16 Z M4.4,16 L0.800000006,16 C0.719999999,16 0.560000006,16 0.48,15.92 C0.399999993,15.92 0.320000006,15.84 0.24,15.76 C0.159999994,15.68 0.0800000062,15.6 0.0800000062,15.52 C0,15.44 0,15.28 0,15.2 L0,11.6 C0,11.12 0.320000006,10.8 0.800000006,10.8 C1.28000001,10.8 1.60000001,11.12 1.60000001,11.6 L1.60000001,13.28 L4.72000001,10.16 C5.04000001,9.83999999 5.52000001,9.83999999 5.84,10.16 C6.15999999,10.48 6.16000001,10.96 5.84,11.28 L2.72,14.4 L4.4,14.4 C4.88,14.4 5.20000001,14.72 5.20000001,15.2 C5.20000001,15.68 4.88,16 4.4,16 Z M10.72,6.08 C10.48,6.08 10.32,6 10.16,5.84 C9.83999999,5.52 9.83999999,5.04 10.16,4.72000001 L13.28,1.60000001 L11.6,1.60000001 C11.12,1.60000001 10.8,1.28000001 10.8,0.800000006 C10.8,0.320000006 11.12,-4.4408921e-16 11.6,-4.4408921e-16 L15.2,-4.4408921e-16 C15.28,-4.4408921e-16 15.44,-4.4408921e-16 15.52,0.0800000062 C15.6,0.0800000062 15.68,0.160000012 15.76,0.24 C15.84,0.319999987 15.92,0.399999993 15.92,0.48 C16,0.560000006 16,0.719999999 16,0.800000006 L16,4.4 C16,4.88 15.68,5.20000001 15.2,5.20000001 C14.72,5.20000001 14.4,4.88 14.4,4.4 L14.4,2.72 L11.28,5.84 C11.12,6 10.88,6.08 10.72,6.08 L10.72,6.08 Z M5.28,6.08 C5.04,6.08 4.88,6 4.72000001,5.84 L1.60000001,2.72 L1.60000001,4.4 C1.60000001,4.88 1.28000001,5.20000001 0.800000006,5.20000001 C0.320000006,5.20000001 0,4.88 0,4.4 L0,0.800000006 C0,0.719999999 0,0.560000006 0.0800000062,0.48 C0.0800000062,0.399999993 0.160000012,0.320000006 0.24,0.24 C0.319999987,0.159999994 0.399999993,0.0800000062 0.48,0.0800000062 C0.560000006,-4.4408921e-16 0.719999999,-4.4408921e-16 0.800000006,-4.4408921e-16 L4.4,-4.4408921e-16 C4.88,-4.4408921e-16 5.20000001,0.320000006 5.20000001,0.800000006 C5.20000001,1.28000001 4.88,1.60000001 4.4,1.60000001 L2.72,1.60000001 L5.84,4.72000001 C6.16000001,5.04000001 6.16000001,5.52000001 5.84,5.84 C5.68000001,6 5.52,6.08 5.28,6.08 L5.28,6.08 Z" />\n                </g>\n            </g>\n        </g>\n    </g>\n</symbol>'});o.a.add(s),t.default=s},function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),a=n(2),o=n.n(a),s=new i.a({id:"icon-inPicture",use:"icon-inPicture-usage",viewBox:"0 0 18 18",content:'<symbol viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-inPicture">\n    <title>icon_hzh</title>\n    <g id="icon-inPicture_\u9875\u9762-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="icon-inPicture_iPhone-8" transform="translate(-288.000000, -61.000000)">\n            <g id="icon-inPicture_icon_yhzh" transform="translate(288.000000, 61.000000)">\n                <rect id="icon-inPicture_\u77e9\u5f62\u5907\u4efd-6" x="0" y="0" width="18" height="18" />\n                <g transform="translate(0.000000, 1.500000)" fill="#FFFFFF">\n                    <path d="M14,0 C15.1045695,-2.02906125e-16 16,0.8954305 16,2 L16,7.659 L14.34,7.659 L14.34,2.66 C14.34,2.14716416 13.9539598,1.72449284 13.4566211,1.66672773 L13.34,1.66 L2.66,1.66 C2.10771525,1.66 1.66,2.10771525 1.66,2.66 L1.66,2.66 L1.66,10.34 C1.66,10.8922847 2.10771525,11.34 2.66,11.34 L2.66,11.34 L7.659,11.34 L7.659,13 L2,13 C0.8954305,13 1.3527075e-16,12.1045695 0,11 L0,2 C-1.3527075e-16,0.8954305 0.8954305,2.02906125e-16 2,0 L14,0 Z" id="icon-inPicture_\u5f62\u72b6\u7ed3\u5408" />\n                    <rect id="icon-inPicture_\u77e9\u5f62" x="8.87" y="8.87" width="9.13" height="6.13" rx="1.5" />\n                </g>\n            </g>\n        </g>\n    </g>\n</symbol>'});o.a.add(s),t.default=s},function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),a=n(2),o=n.n(a),s=new i.a({id:"icon-loading",use:"icon-loading-usage",viewBox:"0 0 100 100",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 100" id="icon-loading">\r\n <path d="M31.6,3.5C5.9,13.6-6.6,42.7,3.5,68.4c10.1,25.7,39.2,38.3,64.9,28.1l-3.1-7.9c-21.3,8.4-45.4-2-53.8-23.3\r\n  c-8.4-21.3,2-45.4,23.3-53.8L31.6,3.5z">\r\n      <animateTransform attributeName="transform" attributeType="XML" type="rotate" dur="2s" from="0 50 50" to="360 50 50" repeatCount="indefinite" />\r\n  </path>\r\n <path d="M42.3,39.6c5.7-4.3,13.9-3.1,18.1,2.7c4.3,5.7,3.1,13.9-2.7,18.1l4.1,5.5c8.8-6.5,10.6-19,4.1-27.7\r\n  c-6.5-8.8-19-10.6-27.7-4.1L42.3,39.6z">\r\n      <animateTransform attributeName="transform" attributeType="XML" type="rotate" dur="1s" from="0 50 50" to="-360 50 50" repeatCount="indefinite" />\r\n  </path>\r\n <path d="M82,35.7C74.1,18,53.4,10.1,35.7,18S10.1,46.6,18,64.3l7.6-3.4c-6-13.5,0-29.3,13.5-35.3s29.3,0,35.3,13.5\r\n  L82,35.7z">\r\n      <animateTransform attributeName="transform" attributeType="XML" type="rotate" dur="2s" from="0 50 50" to="360 50 50" repeatCount="indefinite" />\r\n  </path>\r\n</symbol>'});o.a.add(s),t.default=s},function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),a=n(2),o=n.n(a),s=new i.a({id:"icon-mute",use:"icon-mute-usage",viewBox:"0 0 18 18",content:'<symbol viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-mute">\n    <title>icon_gbyl</title>\n    <g id="icon-mute_\u9875\u9762-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="icon-mute_iPhone-8" transform="translate(-148.000000, -61.000000)">\n            <g id="icon-mute_icon_gbyl" transform="translate(148.000000, 61.000000)">\n                <rect id="icon-mute_\u77e9\u5f62\u5907\u4efd-4" x="0" y="0" width="18" height="18" />\n                <g transform="translate(1.000000, 1.000000)" fill="#FFFFFF" fill-rule="nonzero">\n                    <path d="M1.882,4.284 L3.482,5.884 L1.6001084,5.88493423 L1.6001084,10.117221 L3.99307054,10.117221 L9.07981515,14.1814963 L9.079,11.481 L10.68,13.082 L10.6807236,14.575923 C10.6807236,15.1087591 10.391104,15.5927919 9.92467239,15.8392086 C9.46072422,16.0846014 8.89795239,16.0468149 8.4709739,15.741602 L8.47017385,15.7424021 L3.43223254,11.7181294 L1.40329508,11.7181294 C0.629642666,11.7181294 0,11.0780861 0,10.2940329 L0,5.70812225 C0,4.92246902 0.629642651,4.28402578 1.40329508,4.28402576 L1.882,4.284 Z M13.6873273,3.4535695 C16.3950119,6.33895693 16.7255697,9.3563042 14.6790005,12.2744527 L13.5283797,11.1240388 C14.9637376,8.91769099 14.6278938,6.79375844 12.5208483,4.54884371 C12.3162543,4.34126159 12.2400166,4.03972533 12.321746,3.76055187 C12.4034753,3.48137841 12.630292,3.26856277 12.9141001,3.20476276 C13.1979083,3.14096275 13.4939825,3.23623264 13.6873273,3.4535695 Z M9.92467239,0.161346456 C10.391104,0.406963098 10.6807236,0.891795943 10.6807236,1.42463204 L10.68,8.277 L9.079,6.676 L9.07981515,1.82465915 L6.397,3.994 L5.258,2.855 L8.4709739,0.258953072 C8.89768882,-0.0469951052 9.46088713,-0.0848102934 9.92467239,0.161346456 Z" id="icon-mute_\u5f62\u72b6\u7ed3\u5408" />\n                    <path d="M2.1728,1.0356 L14.9648,13.8276 C15.27499,14.1422606 15.2731354,14.6482675 14.9606472,14.9606458 C14.6481589,15.2730241 14.1421514,15.2747007 13.8276,14.9644 L1.0356,2.1724 C0.73932756,1.8557529 0.747545194,1.36120328 1.05417424,1.05457424 C1.36080328,0.747945194 1.8553529,0.73972756 2.172,1.036 L2.1728,1.0356 Z" id="icon-mute_\u8def\u5f84\u5907\u4efd" />\n                </g>\n            </g>\n        </g>\n    </g>\n</symbol>'});o.a.add(s),t.default=s},function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),a=n(2),o=n.n(a),s=new i.a({id:"icon-pause",use:"icon-pause-usage",viewBox:"0 0 18 18",content:'<symbol viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-pause">\n    <title>icon_bf</title>\n    <g id="icon-pause_\u9875\u9762-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="icon-pause_iPhone-8" transform="translate(-113.000000, -109.000000)">\n            <g id="icon-pause_icon_bf" transform="translate(113.000000, 109.000000)">\n                <rect id="icon-pause_\u77e9\u5f62\u5907\u4efd-10" x="0" y="0" width="18" height="18" />\n                <g transform="translate(3.000000, 1.000000)" fill="#FFFFFF" fill-rule="nonzero" id="icon-pause_\u5f62\u72b6">\n                    <path d="M9.73026169,0 C8.81413554,0 8.01252516,0.799821069 8.01252516,1.71415791 L8.01252516,14.2858421 C8.01252516,15.2001789 8.81413554,16 9.73026169,16 C10.6463878,16 11.4479982,15.2001789 11.4479982,14.2858421 L11.4479982,1.71415791 C11.4479982,0.799821069 10.6463878,0 9.73026169,0 Z M1.71773652,0 C0.801610378,0 -6.50946778e-16,0.799821069 -6.50946778e-16,1.71415791 L-6.50946778e-16,14.2858421 C-6.50946778e-16,15.2001789 0.801610378,16 1.71773652,16 C2.63386267,16 3.43547305,15.2001789 3.43547305,14.2858421 L3.43547305,1.71415791 C3.43368374,0.799821069 2.63207336,0 1.71773652,0 Z" />\n                </g>\n            </g>\n        </g>\n    </g>\n</symbol>'});o.a.add(s),t.default=s},function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),a=n(2),o=n.n(a),s=new i.a({id:"icon-player",use:"icon-player-usage",viewBox:"0 0 18 18",content:'<symbol viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-player">\n    <title>icon_zt</title>\n    <g id="icon-player_\u9875\u9762-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="icon-player_iPhone-8" transform="translate(-78.000000, -109.000000)">\n            <g id="icon-player_icon_zt" transform="translate(78.000000, 109.000000)">\n                <rect id="icon-player_\u77e9\u5f62\u5907\u4efd-10" x="0" y="0" width="18" height="18" />\n                <g transform="translate(3.000000, 1.000000)" fill="#FFFFFF" fill-rule="nonzero" id="icon-player_\u8def\u5f84">\n                    <path d="M0.992369212,15.8990308 C0.481836467,15.7736376 0.0929717158,15.3594445 6.48386882e-16,14.8420245 L6.48386882e-16,1.15417331 C0.0879382032,0.631910584 0.478007891,0.211950496 0.992369212,0.0857604795 C1.54075549,-0.0899263394 2.14010986,0.00761010376 2.6044939,0.348110961 L11.729728,7.19203656 C12.0075567,7.3666885 12.176164,7.67183527 12.176164,8 C12.176164,8.32816473 12.0075567,8.6333115 11.729728,8.80796344 L2.6044939,15.651889 C2.14010986,15.9923899 1.54075549,16.0899263 0.992369212,15.9142395 L0.992369212,15.8990308 Z" />\n                </g>\n            </g>\n        </g>\n    </g>\n</symbol>'});o.a.add(s),t.default=s},function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),a=n(2),o=n.n(a),s=new i.a({id:"icon-replay",use:"icon-replay-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-replay"><defs><style type="text/css"></style></defs><path d="M874.144 262.56C735.232 79.104 471.264 41.6 285.76 178.912c-60.16 44.544-106.784 104.352-135.584 172.224l-21.696-73.92c-4.992-16.96-22.752-26.752-39.712-21.696C71.808 260.512 62.08 278.304 67.072 295.264l47.456 161.76C118.624 470.944 131.36 480 145.216 480c2.976 0 22.72-5.76 25.824-6.912l161.248-59.264c16.576-6.08 25.088-24.48 18.976-41.088-6.08-16.576-24.384-25.056-41.088-18.976l-107.968 39.68c23.424-64.576 65.568-121.632 121.6-163.104 157.376-116.576 381.376-84.768 499.296 70.848 56.832 75.008 80.8 167.456 67.488 260.256-13.376 93.28-62.784 175.712-139.072 232.192-157.536 116.512-381.568 84.736-499.392-70.72-10.688-14.112-30.72-16.864-44.832-6.176-14.08 10.656-16.832 30.752-6.176 44.8 82.464 108.832 208.992 166.24 337.024 166.24 87.68 0 176.032-26.912 251.456-82.72 90.144-66.72 148.512-164.224 164.352-274.528C969.792 460.704 941.44 351.328 874.144 262.56z" p-id="1472" /></symbol>'});o.a.add(s),t.default=s},function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),a=n(2),o=n.n(a),s=new i.a({id:"icon-screenshot",use:"icon-screenshot-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-screenshot"><defs><style type="text/css">@font-face { font-family: feedback-iconfont; src: url("//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.eot?#iefix") format("embedded-opentype"), url("//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.woff2") format("woff2"), url("//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.woff") format("woff"), url("//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.ttf") format("truetype"), url("//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.svg#iconfont") format("svg"); }\n</style></defs><path d="M512 384c55.6 0 107.8 21.6 147.1 60.9S720 536.4 720 592s-21.6 107.8-60.9 147.1S567.6 800 512 800s-107.8-21.6-147.1-60.9S304 647.6 304 592s21.6-107.8 60.9-147.1S456.4 384 512 384z m0-64c-150.2 0-272 121.8-272 272s121.8 272 272 272 272-121.8 272-272-121.8-272-272-272z" p-id="3304" /><path d="M650.9 128l4.4 23.6C666.7 212.1 719.6 256 781.1 256H896c35.3 0 64 28.7 64 64v512c0 35.3-28.7 64-64 64H128c-35.3 0-64-28.7-64-64V320c0-35.3 28.7-64 64-64h114.9c61.6 0 114.5-43.9 125.8-104.4l4.4-23.6h277.8z m39.8-64H333.3c-7.7 0-14.3 5.5-15.7 13.1l-11.8 62.7c-5.7 30.3-32.1 52.2-62.9 52.2H128C57.3 192 0 249.3 0 320v512c0 70.7 57.3 128 128 128h768c70.7 0 128-57.3 128-128V320c0-70.7-57.3-128-128-128H781.1c-30.8 0-57.2-21.9-62.9-52.2l-11.8-62.7c-1.4-7.6-8-13.1-15.7-13.1z" p-id="3305" /><path d="M224 352h-64c-17.7 0-32-14.3-32-32s14.3-32 32-32h64c17.7 0 32 14.3 32 32s-14.3 32-32 32zM512 560c17.6 0 32 14.4 32 32s-14.4 32-32 32-32-14.4-32-32 14.4-32 32-32z m0-64c-53 0-96 43-96 96s43 96 96 96 96-43 96-96-43-96-96-96z" p-id="3306" /></symbol>'});o.a.add(s),t.default=s},function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),a=n(2),o=n.n(a),s=new i.a({id:"icon-screenshots",use:"icon-screenshots-usage",viewBox:"0 0 18 18",content:'<symbol viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-screenshots">\n    <title>icon_xj</title>\n    <g id="icon-screenshots_\u9875\u9762-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="icon-screenshots_iPhone-8" transform="translate(-148.000000, -109.000000)">\n            <g id="icon-screenshots_icon_xj" transform="translate(148.000000, 110.000000)">\n                <path d="M11.0584816,0.83 C11.3102833,0.83 11.5479599,0.910563303 11.7425926,1.05084664 C11.9372253,1.19112998 12.0888143,1.39113336 12.168441,1.63001351 L12.168441,1.63001351 L12.7630014,3.41369464 L15.9529961,3.8309214 C16.2946546,3.81754316 16.6053644,3.95073452 16.8273149,4.17268507 C17.0390433,4.38441342 17.17,4.67691342 17.17,5 L17.17,5 L17.17,13 C17.17,13.3230866 17.0390433,13.6155866 16.8273149,13.8273149 C16.6155866,14.0390433 16.3230866,14.17 16,14.17 L16,14.17 L2,14.17 C1.67691342,14.17 1.38441342,14.0390433 1.17268507,13.8273149 C0.960956711,13.6155866 0.83,13.3230866 0.83,13 L0.83,13 L0.83,5 C0.83,4.67691342 0.960956711,4.38441342 1.17268507,4.17268507 C1.38441342,3.96095671 1.67691342,3.83 2,3.83 L2,3.83 L4.62862034,3.83 L5.81227593,1.69379445 C5.88490856,1.42670035 6.04569254,1.20344209 6.25740741,1.05084664 C6.45204015,0.910563303 6.68971665,0.83 6.94151844,0.83 L6.94151844,0.83 Z" id="icon-screenshots_\u8def\u5f84-2" stroke="#FFFFFF" stroke-width="1.66" />\n                <circle id="icon-screenshots_\u692d\u5706\u5f62" stroke="#FFFFFF" stroke-width="1.66" cx="9" cy="8" r="2.17" />\n                <circle id="icon-screenshots_\u692d\u5706\u5f62\u5907\u4efd" fill="#FFFFFF" cx="14" cy="6" r="1" />\n            </g>\n        </g>\n    </g>\n</symbol>'});o.a.add(s),t.default=s},function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),a=n(2),o=n.n(a),s=new i.a({id:"icon-set",use:"icon-set-usage",viewBox:"0 0 18 18",content:'<symbol viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-set">\n    <title>icon_sz</title>\n    <g id="icon-set_\u9875\u9762-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="icon-set_iPhone-8" transform="translate(-183.000000, -61.000000)">\n            <g id="icon-set_icon_sz" transform="translate(183.000000, 61.000000)">\n                <rect id="icon-set_\u77e9\u5f62\u5907\u4efd-3" x="0" y="0" width="18" height="18" />\n                <g transform="translate(1.000000, 1.000000)" fill="#FFFFFF" fill-rule="nonzero" id="icon-set_\u5f62\u72b6">\n                    <path d="M16,8.67446429 L16,7.32553571 C16,7.05316061 15.8077928,6.81863218 15.5407143,6.76517857 L13.7980357,6.41660714 C13.6014036,6.37680161 13.4398445,6.23718097 13.3719643,6.04839286 C13.3144643,5.88958333 13.25,5.73410714 13.1785714,5.58196429 C13.0929015,5.40035722 13.1083407,5.18718828 13.2192857,5.01982143 L14.2051786,3.54107143 C14.3562861,3.31441428 14.3263893,3.01260596 14.13375,2.82 L13.18,1.86625 C12.987394,1.67361075 12.6855857,1.64371394 12.4589286,1.79482143 L10.9801786,2.78071429 C10.8128117,2.8916593 10.5996428,2.90709848 10.4180357,2.82142857 C10.2660119,2.75 10.1104762,2.68559524 9.95142857,2.62821429 C9.76264046,2.56033408 9.62301981,2.39877498 9.58321429,2.20214286 L9.23464286,0.459285714 C9.18120242,0.192273064 8.94677226,0 8.67446429,0 L7.32553571,0 C7.05316061,0 6.81863218,0.192207246 6.76517857,0.459285714 L6.41660714,2.20196429 C6.37680161,2.39859641 6.23718097,2.56015551 6.04839286,2.62803571 C5.88958333,2.68553571 5.73410714,2.75 5.58196429,2.82142857 C5.40035722,2.90709848 5.18718828,2.8916593 5.01982143,2.78071429 L3.54107143,1.79482143 C3.31441428,1.64371394 3.01260596,1.67361075 2.82,1.86625 L1.86625,2.82 C1.67361075,3.01260596 1.64371394,3.31441428 1.79482143,3.54107143 L2.78071429,5.01982143 C2.8916593,5.18718828 2.90709848,5.40035722 2.82142857,5.58196429 C2.75,5.7339881 2.68559524,5.88952381 2.62821429,6.04857143 C2.56033408,6.23735954 2.39877498,6.37698019 2.20214286,6.41678571 L0.459285714,6.76535714 C0.192273064,6.81879758 0,7.05322774 0,7.32553571 L0,8.67428571 C0,8.94666082 0.192207246,9.18118924 0.459285714,9.23464286 L2.20196429,9.58321429 C2.39859641,9.62301981 2.56015551,9.76264046 2.62803571,9.95142857 C2.68553571,10.1103571 2.75,10.2658929 2.82142857,10.4180357 C2.90709848,10.5996428 2.8916593,10.8128117 2.78071429,10.9801786 L1.79482143,12.4589286 C1.64371394,12.6855857 1.67361075,12.987394 1.86625,13.18 L2.82,14.13375 C3.01260596,14.3263893 3.31441428,14.3562861 3.54107143,14.2051786 L5.01982143,13.2192857 C5.18718828,13.1083407 5.40035722,13.0929015 5.58196429,13.1785714 C5.7339881,13.25 5.88952381,13.3144048 6.04857143,13.3717857 C6.23735954,13.4396659 6.37698019,13.601225 6.41678571,13.7978571 L6.76535714,15.5405357 C6.81872326,15.8076194 7.05317271,16 7.32553571,16 L8.67428571,16 C8.94666082,16 9.18118924,15.8077928 9.23464286,15.5407143 L9.58321429,13.7980357 C9.62301981,13.6014036 9.76264046,13.4398445 9.95142857,13.3719643 C10.1103571,13.3144643 10.2658929,13.25 10.4180357,13.1785714 C10.5996428,13.0929015 10.8128117,13.1083407 10.9801786,13.2192857 L12.4589286,14.2051786 C12.6855857,14.3562861 12.987394,14.3263893 13.18,14.13375 L14.13375,13.18 C14.3263893,12.987394 14.3562861,12.6855857 14.2051786,12.4589286 L13.2192857,10.9801786 C13.1083407,10.8128117 13.0929015,10.5996428 13.1785714,10.4180357 C13.25,10.2660119 13.3144048,10.1104762 13.3717857,9.95142857 C13.4396659,9.76264046 13.601225,9.62301981 13.7978571,9.58321429 L15.5405357,9.23464286 C15.8076194,9.18127674 16,8.94682729 16,8.67446429 Z M10.4242857,10.4244643 C9.26765335,11.5810199 7.45510983,11.759488 6.09512057,10.8507258 C4.73513131,9.9419637 4.20646608,8.19907015 4.83243138,6.68791601 C5.45839669,5.17676186 7.06465532,4.31821771 8.6688959,4.63732834 C10.2731365,4.95643897 11.4285838,6.36432906 11.4285838,8 C11.4310195,8.90979114 11.0693876,9.78274895 10.4242857,10.4242857 L10.4242857,10.4244643 Z" />\n                </g>\n            </g>\n        </g>\n    </g>\n</symbol>'});o.a.add(s),t.default=s},function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),a=n(2),o=n.n(a),s=new i.a({id:"icon-volume",use:"icon-volume-usage",viewBox:"0 0 18 18",content:'<symbol viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-volume">\n    <title>icon_yl</title>\n    <g id="icon-volume_\u9875\u9762-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="icon-volume_iPhone-8" transform="translate(-113.000000, -61.000000)">\n            <g id="icon-volume_icon_yl" transform="translate(113.000000, 61.000000)">\n                <rect id="icon-volume_\u77e9\u5f62\u5907\u4efd-5" x="0" y="0" width="18" height="18" />\n                <g transform="translate(1.000000, 1.000000)" fill="#FFFFFF" fill-rule="nonzero" id="icon-volume_\u5f62\u72b6">\n                    <path d="M9.07981515,1.82465915 L4.78032386,5.30169472 L4.65871562,5.38970067 L3.91466522,5.88493423 L1.6001084,5.88493423 L1.6001084,10.117221 L3.99307054,10.117221 L9.07981515,14.1814963 L9.07981515,1.82465915 Z M8.47017385,15.7424021 L3.43223254,11.7181294 L1.40329508,11.7181294 C0.629642666,11.7181294 0,11.0780861 0,10.2940329 L0,5.70812225 C0,4.92246902 0.629642651,4.28402578 1.40329508,4.28402576 L3.43223254,4.28402576 L3.77465573,4.05601031 L8.4709739,0.258953072 C8.89768882,-0.0469951052 9.46088713,-0.0848102934 9.92467239,0.161346456 C10.391104,0.406963098 10.6807236,0.891795943 10.6807236,1.42463204 L10.6807236,14.575923 C10.6807236,15.1087591 10.391104,15.5927919 9.92467239,15.8392086 C9.46072422,16.0846014 8.89795239,16.0468149 8.4709739,15.741602 L8.47017385,15.7424021 Z M12.5208483,4.54804364 C12.3162543,4.34126159 12.2400166,4.03972533 12.321746,3.76055187 C12.4034753,3.48137841 12.630292,3.26856277 12.9141001,3.20476276 C13.1979083,3.14096275 13.4939825,3.23623264 13.6873273,3.4535695 C16.7715362,6.74019217 16.7715362,10.1980264 13.6873273,13.4854492 C13.3846547,13.8075634 12.8781649,13.8233241 12.5560507,13.5206515 C12.2339364,13.217979 12.2181757,12.7114892 12.5208483,12.3893749 C15.0274181,9.71879396 15.0274181,7.21942463 12.5208483,4.54884371 L12.5208483,4.54804364 Z" />\n                </g>\n            </g>\n        </g>\n    </g>\n</symbol>'});o.a.add(s),t.default=s},function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),a=n(2),o=n.n(a),s=new i.a({id:"icon-webFullscreen",use:"icon-webFullscreen-usage",viewBox:"0 0 18 18",content:'<symbol viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-webFullscreen">\n    <title>icon_wyqp</title>\n    <g id="icon-webFullscreen_\u9875\u9762-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="icon-webFullscreen_iPhone-8" transform="translate(-78.000000, -61.000000)">\n            <g id="icon-webFullscreen_icon_wyqp" transform="translate(78.000000, 61.000000)">\n                <rect id="icon-webFullscreen_\u77e9\u5f62\u5907\u4efd-10" x="0" y="0" width="18" height="18" />\n                <g transform="translate(1.000000, 1.000000)" fill="#FFFFFF">\n                    <path d="M0,14.3998594 L0,1.59990625 C0,0.71621875 0.71640625,0 1.60007812,0 L14.4000312,0 C15.2837187,0 15.9999375,0.71621875 15.9999375,1.59990625 L15.9999375,14.3998906 C15.9999375,15.2835781 15.2837187,16 14.4000312,16 L1.60007812,16 C0.716421875,16 0,15.2835469 0,14.3998594 Z M13.967076,1.66 L2.03308428,1.66 C1.76927393,1.66 1.66,1.76925936 1.66,2.0328949 L1.66,13.9669157 C1.66,14.2307406 1.76927393,14.34 2.03308428,14.34 L14.34,14.34 L14.34,2.0328949 C14.34,1.76924479 14.2307552,1.66 13.967076,1.66 Z" id="icon-webFullscreen_\u5f62\u72b6" fill-rule="nonzero" />\n                    <path d="M3.60000001,9 C4.08000001,9 4.40000001,9.32000001 4.40000001,9.80000001 L4.40000001,9.80000001 L4.40000001,11.6 L6.2,11.6 C6.68,11.6 7.00000001,11.92 7.00000001,12.4 C7.00000001,12.88 6.68,13.2 6.2,13.2 L6.2,13.2 L3.60000001,13.2 C3.52,13.2 3.36000001,13.2 3.28,13.12 C3.19999999,13.12 3.11999999,13.04 3.04,12.96 C2.96000001,12.88 2.88000001,12.8 2.88000001,12.72 C2.8,12.64 2.8,12.48 2.8,12.4 L2.8,9.80000001 C2.8,9.32000001 3.12000001,9 3.60000001,9 Z M12.4,9 C12.88,9 13.2,9.32000001 13.2,9.80000001 L13.2,12.4 C13.2,12.48 13.2,12.64 13.12,12.72 C13.12,12.8 13.04,12.88 12.96,12.96 C12.88,13.04 12.8,13.12 12.72,13.12 C12.64,13.2 12.48,13.2 12.4,13.2 L9.80000001,13.2 C9.32000001,13.2 9,12.88 9,12.4 C9,11.92 9.32000001,11.6 9.80000001,11.6 L11.6,11.6 L11.6,9.80000001 C11.6,9.32000001 11.92,9 12.4,9 Z M6.2,2.8 C6.68,2.8 7.00000001,3.12000001 7.00000001,3.60000001 C7.00000001,4.08000001 6.68,4.40000001 6.2,4.40000001 L4.40000001,4.40000001 L4.40000001,6.2 C4.40000001,6.68 4.08000001,7.00000001 3.60000001,7.00000001 C3.12000001,7.00000001 2.8,6.68 2.8,6.2 L2.8,3.60000001 C2.8,3.52 2.8,3.36000001 2.88000001,3.28 C2.88000001,3.19999999 2.96000001,3.12000001 3.04,3.04 C3.11999999,2.95999999 3.19999999,2.88000001 3.28,2.88000001 C3.344,2.816 3.4592,2.8032 3.54368,2.80064 L6.2,2.8 Z M12.45632,2.80064 C12.5408,2.8032 12.656,2.816 12.72,2.88000001 C12.8,2.88000001 12.88,2.95999999 12.96,3.04 C13.04,3.12000001 13.12,3.19999999 13.12,3.28 C13.2,3.36000001 13.2,3.52 13.2,3.60000001 L13.2,3.60000001 L13.2,6.2 C13.2,6.68 12.88,7.00000001 12.4,7.00000001 C11.92,7.00000001 11.6,6.68 11.6,6.2 L11.6,6.2 L11.6,4.40000001 L9.80000001,4.40000001 C9.32000001,4.40000001 9,4.08000001 9,3.60000001 C9,3.12000001 9.32000001,2.8 9.80000001,2.8 L9.80000001,2.8 Z" id="icon-webFullscreen_\u5f62\u72b6\u7ed3\u5408" />\n                </g>\n            </g>\n        </g>\n    </g>\n</symbol>'});o.a.add(s),t.default=s},function(e,t,n){"use strict";n.r(t),n.d(t,"JolPlayer",(function(){return de})),n(3),n(13);var o=n(0),s=n.n(o);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=Object(o.memo)((function(e){var t=e.iconClass,n=e.fill,r=e.fontSize,i=void 0===r?"18px":r,a=e.className,l=e.onClick,c=e.style,d=Object(o.useMemo)((function(){return"#icon-"+t}),[t]);return s.a.createElement("svg",{fontSize:i,style:u(u({},f),{},{fontSize:i},c),"aria-hidden":"true",className:a,onClick:l},s.a.createElement("use",{xlinkHref:d,fill:n}))})),f={width:"1em",height:"1em",verticalAlign:"-0.15em",overflow:"hidden",fill:"currentColor",fontSize:"1.1em"},h=d;function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(34);var m={isControl:!1,progressSliderChangeVal:0,progressMouseUpChangeVal:0,quality:void 0},y={videoRef:null,videoContainerRef:null,lightOffMaskRef:null,videoFlow:m},b=s.a.createContext(y),E=function(){var e=Object(o.useReducer)((function(e){return e+1}),0);return a(e,2)[1]},S=[{id:.5,name:"0.5x"},{id:.75,name:"0.75x"},{id:1,name:"1.0x"},{id:1.25,name:"1.25x"},{id:1.5,name:"1.5x"},{id:2,name:"2.0x"}],T=[{name:"\u6807\u6e05",key:"360P",enName:"SD",id:1},{name:"\u9ad8\u6e05",key:"540P",enName:"HD",id:2},{name:"\u8d85\u6e05",key:"720P",enName:"FHD",id:3},{name:"\u84dd\u5149",key:"1080P",enName:"BD",id:4}];function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.videoElement,r=E(),i=Object(o.useRef)({isPlay:!1,currentTime:0,duration:0,bufferedTime:0,isPictureinpicture:!1,volume:0,multiple:1,isEndEd:!1,error:null}),a=Object(o.useRef)(null),s=Object(o.useRef)(null);a.current=n,Object(o.useEffect)((function(){return a.current&&(v(60),a.current.addEventListener("canplay",(function(){l({duration:a.current.duration})})),a.current.addEventListener("progress",(function(){a.current.buffered.length>=1&&l({bufferedTime:a.current.buffered.end(0)})})),a.current.addEventListener("enterpictureinpicture",(function(){l({isPictureinpicture:!0})})),a.current.addEventListener("leavepictureinpicture",(function(){l({isPictureinpicture:!1})})),s.current=setInterval((function(){r(),l({currentTime:a.current.currentTime,isPlay:!a.current.paused,volume:a.current.volume,multiple:a.current.playbackRate,isEndEd:!!a.current.ended})}),1),a.current.addEventListener("pause",u),a.current.addEventListener("play",c),a.current.addEventListener("timeupdate",d),a.current.addEventListener("ended",f),a.current.addEventListener("error",h)),function(){s.current&&clearInterval(s.current)}}),t);var l=function(e){i.current=k(k({},i.current),e)},u=function(){l({isPlay:!a.current.paused})},c=function(){l({isPlay:!a.current.paused})},d=function(){l({isPlay:!a.current.paused})},f=function(){l({isEndEd:!!a.current.ended})},h=function(){l({error:Date.now()})},p=function(){i.current.isPlay?a.current.pause():a.current.play()},v=function(e){a.current.volume=e<1?e:e/100},g=Object(o.useMemo)((function(){return{load:function(){return a.current.load()},play:function(){return a.current.play()},pause:function(){return a.current.pause()},setVolume:v,seek:function(e){a.current.currentTime=e},setVideoSrc:function(e){a.current.src=e}}}),[t]);return Object(o.useMemo)((function(){return k(k({handleChangePlayState:p},i.current),{},{videoAttributes:i.current,videoMethod:g})}),[i.current])};function C(e,t){return e*t}function _(e){var t=Math.floor(e/60),n=Math.floor(e%60);return(t.toString().length>1?t.toString():"0"+t.toString())+":"+(n.toString().length>1?n.toString():"0"+n.toString())}var A=function(e){return null==e||!0===e};function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R=function(){var e=Object(o.useState)({clientX:0,clientY:0}),t=a(e,2),n=t[0],r=t[1];return Object(o.useEffect)((function(){function e(e){r((function(t){return{clientX:e.clientX,clientY:e.clientY}}))}return window.addEventListener("mousemove",e),function(){return window.removeEventListener("mousemove",e)}}),[]),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n)};function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(71);var F=Object(o.memo)((function(e){var t=Object(o.useRef)(null),n=Object(o.useRef)(null),r=Object(o.useRef)(null),i=Object(o.useRef)(null),l=Object(o.useRef)(null),u=Object(o.useRef)(0),c=Object(o.useContext)(b),d=c.propsAttributes.theme,f=x({videoElement:c.videoRef},[c.videoRef]),h=f.currentTime,p=f.duration,v=f.bufferedTime,g=function(){var e=Object(o.useReducer)((function(e,t){switch(t.type){case"positionX":return I(I({},e),{},{positionX:t.data});case"isMovingProgress":return I(I({},e),{},{isMovingProgress:t.data});case"progressPercent":return I(I({},e),{},{progressPercent:t.data});case"isDrag":return I(I({},e),{},{isDrag:t.data});default:return e}}),{positionX:0,isMovingProgress:!1,progressPercent:0,isDrag:!1}),t=a(e,2);return{progressState:t[0],dispatch:t[1]}}(),m=g.progressState,y=g.dispatch,E=R().clientX;u.current=E,Object(o.useEffect)((function(){if(n.current&&r.current){var e=n.current,t=r.current;i.current=setInterval((function(){m.isMovingProgress?S({height:7,opacity:1,animationName:"example",progressBgRefEle:e,progressScrubberRefEle:t}):S({height:3,opacity:0,animationName:"learve",progressBgRefEle:e,progressScrubberRefEle:t})}),100)}return function(){i.current&&clearInterval(i.current)}}),[m.isMovingProgress]),Object(o.useEffect)((function(){return window.addEventListener("mouseup",k),function(){window.removeEventListener("mouseup",k)}}),[h,p,m.isDrag]);var S=function(e){var t=e.height,n=e.opacity,r=e.animationName,i=e.progressBgRefEle,a=e.progressScrubberRefEle;i.style.height="".concat(t,"px"),a.style.opacity="".concat(n),a.style.animation="".concat(r," 0.5s")},T=Object(o.useMemo)((function(){return(h/p*100).toString()}),[p,h]),w=Object(o.useMemo)((function(){return(v/p*100).toString()}),[v,p]),k=function(){l.current&&clearInterval(l.current),h<p&&m.isDrag&&(c.videoRef.play(),y({type:"isDrag",data:!1})),y({type:"isMovingProgress",data:!1})};return s.a.createElement("div",{className:"JoL-progress-container",style:{opacity:c.videoFlow.isControl?"1":"0"}},s.a.createElement("div",{className:"progress-bg",ref:n},s.a.createElement("div",{className:"progress-buffered",style:{width:"".concat(w,"%")}}),s.a.createElement("div",{className:"progress-played",style:{width:"".concat(T,"%"),background:"".concat(d||"#ffb821")}},s.a.createElement("i",{className:"progress-scrubber",style:{background:"".concat(d||"#ffb821")},ref:r})),s.a.createElement("div",{ref:t,className:"progress-seek-mask",onMouseDown:function(){var e=t.current.offsetWidth;l.current&&clearInterval(l.current),l.current=setInterval((function(){(function(e,t){if(e>=0&&e<=t){var n=e/t;y({type:"progressPercent",data:n}),c.videoRef.currentTime=C(n,p),y({type:"positionX",data:e}),y({type:"isMovingProgress",data:!0}),y({type:"isDrag",data:!0})}e<0&&(c.videoRef.currentTime=0),e>t&&(c.videoRef.currentTime=p)})(u.current-t.current.getBoundingClientRect().left+1,e),c.dispatch({type:"progressSliderChangeVal",data:Date.now()})}),1)},onMouseUp:function(){k(),c.dispatch({type:"progressMouseUpChangeVal",data:Date.now()})},onMouseMove:function(e){var n=e.clientX-t.current.getBoundingClientRect().left+1;y({type:"progressPercent",data:n/t.current.offsetWidth}),y({type:"isMovingProgress",data:!0}),y({type:"positionX",data:n})},onMouseLeave:function(){y({type:"isMovingProgress",data:!1})},onClick:function(){c.videoRef.currentTime=C(m.progressPercent,p),y({type:"isMovingProgress",data:!0})}}),m.isMovingProgress&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"pointer",style:{left:"".concat(m.positionX,"px")}},s.a.createElement("div",{className:"top-triangle",style:{borderTop:"4px solid ".concat(d||"#ffb821")}}),s.a.createElement("div",{className:"bottom-triangle",style:{borderBottom:"4px solid ".concat(d||"#ffb821")}})),s.a.createElement("div",{className:"video-img-box",style:{left:"".concat(m.positionX,"px")}},s.a.createElement("span",{className:"current-time"},function(e,t){var n=e*t,r=Math.floor(n/60),i=Math.floor(n%60);return(r.toString().length>1?r.toString():"0"+r.toString())+":"+(i.toString().length>1?i.toString():"0"+i.toString())}(m.progressPercent,p))))))}));n(73);var N=Object(o.memo)((function(e){var t=e.title,n=e.icon,r=e.styleCss;return s.a.createElement("div",{className:"tooltip",style:r},s.a.createElement(s.a.Fragment,null,n),s.a.createElement("div",{className:"title"},t))}));function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){U(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var G=n(20),z=n.n(G);n(75);var H=function(e){var t=e.sole,n=e.label,r=e.onChange,i=e.theme,l=Object(o.useState)("no"),u=a(l,2),c=u[0],d=u[1],f=Object(o.useRef)(null),h=function(e){e.stopPropagation();var t="yes"===e.target.value?"no":"yes";d(t),r&&r(t)};return Object(o.useEffect)((function(){f.current.style.setProperty("--JoL-theme",i||"#ffb821")}),[i]),Object(o.useMemo)((function(){return s.a.createElement("div",{className:"container"},s.a.createElement("label",{htmlFor:t,className:"label"},n),s.a.createElement("input",{ref:f,className:"switch",type:"checkbox",id:t,onChange:h,value:c}))}),[t,n,c])},K={multiple:"\u500d\u6570",closeLights:"\u5173\u706f",loop:"\u5faa\u73af",screenshots:"\u622a\u56fe",openPicture:"\u5f00\u542f\u753b\u4e2d\u753b",closePicture:"\u5173\u95ed\u753b\u4e2d\u753b",Fullscreen:"\u7f51\u9875\u5168\u5c4f",closeFullscreen:"\u5173\u95ed\u7f51\u9875\u5168\u5c4f",fullScreen:"\u5168\u5c4f",closefullScreen:"\u5173\u95ed\u5168\u5c4f",replay:"\u91cd\u64ad",screenshotsSucessText:"\u9f20\u6807\u53f3\u952e\u56fe\u7247\u53e6\u5b58\u4e3a",screenshotsFailText:"\u622a\u56fe\u52a0\u8f7d\u5931\u8d25\uff0c\u5728\u70b9\u51fb\u4e0b",playText:"\u6682\u505c\u4e2d",clarityHint:"\u6e05\u6670\u5ea6\u5df2\u5207\u6362\u5230",multipleHint:"\u64ad\u653e\u500d\u6570\u5df2\u5207\u6362\u5230"},V={multiple:"multiple",closeLights:"lights",loop:"loops",screenshots:"screenshots",openPicture:"open Picture",closePicture:"close Picture",Fullscreen:"Full screen",closeFullscreen:"close Full screen",fullScreen:"full Screen",closefullScreen:"close full Screen",replay:"Replay",screenshotsSucessText:"Right mouse button to save the picture as",screenshotsFailText:"The screenshot failed to load, click",playText:"Paused",clarityHint:"Sharpness has been switched to",multipleHint:"The playback multiple has been switched to"},W=function(e,t){return"zh"===e?K[t]:V[t]};n(16);var J=Object(o.memo)((function(e){var t=e.switchChange,n=e.style,r=Object(o.useContext)(b).propsAttributes,i=r.theme,l=r.language,u=Object(o.useState)(!1),c=a(u,2),d=c[0],f=c[1];return s.a.createElement("div",{className:"JoL-multifunction-set",onMouseEnter:function(e){return[f(!0),e.stopPropagation()]},onMouseLeave:function(e){return[f(!1)]},style:n},s.a.createElement(h,{iconClass:"set",fill:"#fff",className:"hover-icon-rotateAnimate",fontSize:"20px"}),s.a.createElement("div",{className:"JoL-multifunction-set-container",style:{display:d?"block":"none"}},s.a.createElement("ul",{className:"JoL-multifunction-set-layer"},s.a.createElement("li",null,s.a.createElement(H,{sole:"lights",label:W(l||"zh","closeLights"),onChange:function(e){return t(e,"lights")},theme:i})),s.a.createElement("li",null,s.a.createElement(H,{sole:"loop",label:W(l||"zh","loop"),theme:i,onChange:function(e){return t(e,"loop")}})))))})),q=n(49);n(79);var Y=function(e){var t=e.message,n=e.duration,r=e.position;return Object(o.useEffect)((function(){var e=null;return e&&clearTimeout(e),e=setTimeout((function(){document.querySelector("#jolPlayerToast")&&document.querySelector("#JoL-player-container").removeChild(document.querySelector("#jolPlayerToast"))}),n||2e3),function(){e&&clearTimeout(e)}}),[]),s.a.createElement("div",{className:"jolPlayerToast ".concat(r||"leftTop")},t)},X=function(e){if(!document.querySelector("#jolPlayerToast")){var t=document.createElement("div");t.id="jolPlayerToast",document.querySelector("#JoL-player-container").appendChild(t),Object(q.createRoot)(t).render(s.a.createElement(Y,e))}},Q=Object(o.memo)((function(e){var t=e.multipleText,n=e.selectPlayRate,r=e.multiple,i=e.style,l=Object(o.useContext)(b).propsAttributes,u=l.theme,c=l.language,d=l.isToast,f=l.toastPosition,h=Object(o.useState)(!1),p=a(h,2),v=p[0],g=p[1];return s.a.createElement("div",{className:"JoL-multifunction-multiple",onClick:function(e){return g((function(e){return!e}))},onMouseLeave:function(e){return[g(!1)]},style:i},s.a.createElement("p",null,t),s.a.createElement("div",{className:"JoL-multifunction-multiple-container",style:{display:v?"block":"none"}},s.a.createElement("ul",{className:"JoL-multifunction-multiple-layer"},S.map((function(e,t){return s.a.createElement("li",{onClick:function(t){return[n(e.id),g(!1),t.stopPropagation(),d&&X({message:s.a.createElement("div",null,"".concat(W(c||"zh","multipleHint")," \uff1a"),s.a.createElement("strong",{style:{color:"#FF455B"}},e.name)),position:f})]},key:t,style:{color:r===e.id?u||"#ffb821":"#fff"}},e.name)})))))})),$=Object(o.forwardRef)((function(e,t){var n=e.volume,r=e.changeCurrentVolume,i=e.slideCurrentVolume,l=e.clearVolumeInterval,u=e.isMuted,c=e.toggleVolume,d=e.style,f=Object(o.useRef)(null),p=Object(o.useContext)(b).propsAttributes.theme,v=Object(o.useState)(!1),g=a(v,2),m=g[0],y=g[1];return Object(o.useImperativeHandle)(t,(function(){return{element:f.current}})),s.a.createElement("div",{className:"JoL-multifunction-volume",onMouseEnter:function(e){return[y(!0)]},onMouseLeave:function(e){return[y(!1)]},onClick:function(e){e.stopPropagation(),c()},style:d},s.a.createElement(h,{iconClass:u?"mute":"volume",fill:"#fff",fontSize:"20px"}),s.a.createElement("div",{className:"JoL-multifunction-volume-container",style:{display:m?"block":"none"}},s.a.createElement("div",{className:"volume-box"},s.a.createElement("p",{className:"current-volume"},s.a.createElement("span",{className:"volume-value"},Math.floor(n))),s.a.createElement("div",{className:"volume-slider"},s.a.createElement("div",{className:"volume-slider-bg"},s.a.createElement("div",{ref:f,className:"volume-slider-mirror",onClick:r,onMouseDown:i,onMouseUp:l}),s.a.createElement("div",{className:"volume-slider-op",style:{height:"".concat(n,"%"),backgroundColor:"".concat(p||"#ffb821")}},s.a.createElement("div",{className:"volume-slider-op-circle",style:{backgroundColor:"".concat(p||"#ffb821")}})))))))})),Z=Object(o.memo)((function(e){var t=e.isPlay,n=e.handleChangePlayState,r=e.currentTime,i=e.totalTime;return s.a.createElement("div",{className:"play-pause-timeline"},s.a.createElement(h,{iconClass:t?"pause":"player",fill:"#fff",fontSize:"20px",onClick:n,className:"icon"}),s.a.createElement("span",{className:"time-wrap"},s.a.createElement("span",{className:"current-time"},r),s.a.createElement("span",{className:"time-divider"},"\xa0/\xa0"),s.a.createElement("span",{className:"total-time"},i)))}));n(81);var ee=Object(o.memo)((function(e){var t=e.style,n=e.videoSrc,r=e.qualityToggle,i=Object(o.useContext)(b).propsAttributes,l=i.theme,u=i.quality,c=i.language,d=i.isToast,f=i.toastPosition,h=Object(o.useState)(!1),p=a(h,2),v=p[0],g=p[1],m=Object(o.useMemo)((function(){return u?u.map((function(e){return T.map((function(t){return e.name===t.enName&&Object.assign({},t,{url:e.url})})).filter((function(e){return e}))[0]})).sort((function(e,t){return(t&&t.id?t.id:1)-(e&&e.id?e.id:1)})):[]}),[u]),y=Object(o.useMemo)((function(){var e=[];return n&&m&&(e=m.filter((function(e){return e.url===n}))),e.length?e[0]:{key:"360P",enName:"SD",name:"\u6807\u6e05",id:1}}),[n,m]);return s.a.createElement("div",{className:"JoL-multifunction-multiple",onClick:function(e){return g((function(e){return!e}))},onMouseLeave:function(e){return[g(!1)]},style:t},s.a.createElement("p",null,y?c&&"en"===c?y.enName:y.name:null),s.a.createElement("div",{className:"JoL-multifunction-multiple-container",style:{display:v?"block":"none"}},m&&m.length?s.a.createElement("ul",{className:"JoL-multifunction-multiple-layer"},m.map((function(e,t){return s.a.createElement("li",{key:t,onClick:function(){return t=e&&e.url?e.url:"",n=e&&e.key?e.key:"360P",r(t,n),void(d&&X({message:s.a.createElement("div",null,"".concat(W(c||"zh","clarityHint")," \uff1a"),s.a.createElement("strong",{style:{color:"#FF455B"}},n)),position:f}));var t,n},style:{color:y.key===(e&&e.key?e.key:null)?l||"#ffb821":"#fff"}},s.a.createElement("p",null,e&&e.name?c&&"en"===c?e.enName:e.name:null),s.a.createElement("p",null,e&&e.key?e.key:null))}))):null))})),te=Object(o.memo)((function(e){var t=e.setIsscreenshot,n=e.setScreenshotLoading,l=Object(o.useRef)(null),u=Object(o.useRef)(0),c=Object(o.useRef)(null),d=Object(o.useContext)(b),f=d.propsAttributes,p=d.dispatch,v=Object(o.useRef)(null),g=x({videoElement:d.videoRef},[d.videoRef]),m=g.isPlay,y=g.handleChangePlayState,E=g.currentTime,T=g.duration,w=g.isPictureinpicture,k=g.volume,L=g.videoMethod,C=function(){var e=Object(o.useReducer)((function(e,t){switch(t.type){case"volume":return B(B({},e),{},{volume:t.data});case"isMuted":return B(B({},e),{},{isMuted:t.data});case"isSlideVolume":return B(B({},e),{},{isSlideVolume:t.data});case"isScreentFull":return B(B({},e),{},{isScreentFull:t.data});case"multiple":return B(B({},e),{},{multiple:t.data});case"isWebPageFullScreen":return B(B({},e),{},{isWebPageFullScreen:t.data});case"isMute":return B(B({},e),{},{isMute:t.data});default:return e}}),{volume:60,isMuted:!1,isSlideVolume:!1,isScreentFull:!1,multiple:1,isWebPageFullScreen:!1,isMute:!1}),t=a(e,2);return{controlsState:t[0],dispatch:t[1]}}(),O=C.controlsState,P=C.dispatch,D=R().clientY;u.current=D,v.current=d,Object(o.useEffect)((function(){P({type:"volume",data:Math.floor(100*k)}),P({type:"isMuted",data:0===k})}),[k]),Object(o.useEffect)((function(){return window.addEventListener("mouseup",M),function(){window.removeEventListener("mouseup",M)}}),[]),Object(o.useEffect)((function(){v.current&&v.current.videoRef&&(v.current.videoRef.muted=!!O.isMuted,P({type:"volume",data:O.isMuted?0:Math.floor(100*k)}))}),[O.isMuted]);var I=function(e){var t=d.videoRef;e>=0&&e<=1&&(t.volume=e,t.muted=!1,P({type:"volume",data:100*e}),P({type:"isMuted",data:0===Math.floor(100*e)})),e<0&&(t.volume=0,t.muted=!0,P({type:"volume",data:0}),P({type:"isMuted",data:!0})),e>1&&(t.volume=1,P({type:"volume",data:100}))},M=function(){c.current&&clearInterval(c.current),P({type:"isSlideVolume",data:!1})},F=Object(o.useMemo)((function(){return 1===O.multiple?W(f.language||"zh","multiple"):S.filter((function(e){return e.id===O.multiple}))[0].name}),[O.multiple]),j=Object(o.useMemo)((function(){return O.isScreentFull||O.isWebPageFullScreen?"13px":"8px"}),[O.isWebPageFullScreen,O.isScreentFull]);return s.a.createElement("div",{className:"JoL-controls-container",style:{opacity:d.videoFlow.isControl?"1":"0"}},s.a.createElement(Z,{isPlay:m,handleChangePlayState:y,currentTime:_(E),totalTime:_(T)}),s.a.createElement("div",{className:"JoL-multifunction"},f.quality&&f.quality.length?s.a.createElement(ee,{videoSrc:v.current&&v.current.videoRef?v.current.videoRef.src:void 0,qualityToggle:function(e,t){p({type:"quality",data:t}),L.setVideoSrc(e),L.seek(E),L.play()}}):null,A(f.isShowMultiple)&&s.a.createElement(Q,{multipleText:F,multiple:O.multiple,selectPlayRate:function(e){d.videoRef.playbackRate=e,P({type:"multiple",data:e})}}),s.a.createElement($,{style:{padding:"0 ".concat(j)},ref:l,volume:O.volume,changeCurrentVolume:function(e){e.stopPropagation();var t=l.current.element,n=t.offsetHeight,r=1-(e.clientY-t.getBoundingClientRect().top)/n;I(r)},slideCurrentVolume:function(e){e.stopPropagation();var t=l.current.element,n=t.offsetHeight;c.current&&clearInterval(c.current),c.current=setInterval((function(){var e=1-(u.current-t.getBoundingClientRect().top)/n;I(e),P({type:"isSlideVolume",data:!0})}),1)},clearVolumeInterval:function(e){e.stopPropagation(),M()},isMuted:O.isMuted,toggleVolume:function(){return P({type:"isMuted",data:!O.isMuted})}}),A(f.isShowSet)&&s.a.createElement(J,{switchChange:function(e,t){var n=v.current,r=n.videoRef,i=n.lightOffMaskRef;if("lights"===t)i&&(i.style.display="yes"===e?"block":"none");else{var a=r.loop;r.loop=!a}},style:{padding:"0 ".concat(j)}}),A(f.isShowScreenshot)&&s.a.createElement(N,{styleCss:{padding:"0 ".concat(j)},title:W(f.language||"zh","screenshots"),icon:s.a.createElement(h,{fontSize:"20px",iconClass:"screenshots",className:"hover-icon-animate",fill:"#fff",onClick:function(){var e=i(r().mark((function e(){var i,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=document.querySelector("#JoL-screenshotCanvas"),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.25,n=e.videoWidth*t,r=e.videoHeight*t,i=document.createElement("canvas");return i.width=n,i.height=r,i.getContext("2d").drawImage(e,0,0,n,r),i}(d.videoRef,.45),t(!0),i?(n(!1),i.innerHTML="",i.appendChild(a)):n(!0);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()})}),A(f.isShowPicture)&&s.a.createElement(N,{styleCss:{padding:"0 ".concat(j)},title:W(f.language||"zh",w?"closePicture":"openPicture"),icon:s.a.createElement(h,{iconClass:"inPicture",fill:"#fff",className:"hover-icon-animate",fontSize:"20px",onClick:function(){w?document.exitPictureInPicture():d.videoRef.requestPictureInPicture()}})}),A(f.isShowWebFullScreen)&&s.a.createElement(N,{styleCss:{padding:"0 ".concat(j)},title:W(f.language||"zh",O.isWebPageFullScreen?"closeFullscreen":"Fullscreen"),icon:s.a.createElement(h,{iconClass:O.isWebPageFullScreen?"closeWebFullscreen":"webFullscreen",fill:"#fff",className:"hover-icon-animate",fontSize:"20px",onClick:function(){var e=d.videoContainerRef;e.classList.contains("clientFullScreen")?(e.classList.remove("clientFullScreen"),P({type:"isWebPageFullScreen",data:!1})):(e.classList.add("clientFullScreen"),P({type:"isWebPageFullScreen",data:!0}))}})}),s.a.createElement(N,{styleCss:{padding:"0 ".concat(j)},title:W(f.language||"zh",O.isScreentFull?"closefullScreen":"fullScreen"),icon:s.a.createElement(h,{iconClass:O.isScreentFull?"closeFullScreen":"fullScreen",fill:"#fff",fontSize:"19px",onClick:function(){z.a.isEnabled&&(z.a.toggle(d.videoContainerRef),z.a.on("change",(function(){return P({type:"isScreentFull",data:z.a.isFullscreen})})))},className:"hover-icon-animate"})})))}));n(83);var ne=Object(o.memo)((function(e){var t=e.handle,n=e.language;return s.a.createElement("div",{className:"end"},s.a.createElement("div",{className:"replay"},s.a.createElement("div",{className:"cicle",onClick:function(){t()}},s.a.createElement(h,{iconClass:"replay",fill:"#fff",fontSize:"37px"})),s.a.createElement("p",null,W(n||"zh","replay"))))}));n(85);var re=Object(o.memo)((function(e){var t=e.setIsscreenshot,n=e.screenshotLoading,r=e.theme,i=e.language;return s.a.createElement("div",{className:"screenshot"},s.a.createElement("div",{className:"close",onClick:function(){return t(!1)}},s.a.createElement(h,{iconClass:"close",fill:r||"#ffb821",className:"icon"})),s.a.createElement("div",{className:"img",id:"JoL-screenshotCanvas"},s.a.createElement(h,{iconClass:"loading",fill:r||"#ffb821",className:"player-loading",fontSize:"55px"})),s.a.createElement("p",{className:"save"},W(i||"zh",n?"screenshotsFailText":"screenshotsSucessText")))}));n(87);var ie=Object(o.memo)((function(e){var t=e.duration,n=e.currentTime,r=Object(o.useContext)(b).propsAttributes,i=r.theme,a=r.progressFloatPosition,l=Object(o.useMemo)((function(){return(n/t*100).toString()}),[t,n]);return s.a.createElement("div",{className:"suspendedProgressBoard ".concat(a||"bt")},s.a.createElement("div",{className:"progressPlayed ",style:{width:"".concat(l,"%"),background:"".concat(i||"#ffb821")}}))}));n(89);var ae=Object(o.memo)((function(){var e=Object(o.useContext)(b),t=e.dispatch,n=e.propsAttributes,r=e.videoFlow,i=x({videoElement:e.videoRef},[e.videoRef]),l=i.isPlay,u=i.handleChangePlayState,c=i.isEndEd,d=i.duration,f=i.currentTime,p=Object(o.useRef)(null),v=Object(o.useRef)(null),g=Object(o.useRef)(!1),m=Object(o.useRef)(null),y=Object(o.useRef)(!1),E=Object(o.useState)(!1),S=a(E,2),T=S[0],w=S[1],k=Object(o.useState)(!1),L=a(k,2),C=L[0],_=L[1];Object(o.useEffect)((function(){n.isToast&&!l&&X({message:W(n.language||"zh","playText"),position:n.toastPosition})}),[l]),Object(o.useEffect)((function(){return p.current=setInterval((function(){g.current&&(g.current=!1,t({type:"isControl",data:!0}),v.current.style.cursor="pointer",m.current&&clearTimeout(m.current),m.current=setTimeout((function(){g.current||y.current||(t({type:"isControl",data:!1}),v.current.style.cursor="none")}),n.hideMouseTime?n.hideMouseTime:2e3))}),200),function(){p.current&&clearInterval(p.current)}}),[]);var O=function(e){t({type:"isControl",data:"enter"===e&&!c})},P=Object(o.useMemo)((function(){return"center"===n.pausePlacement?{left:"50%",top:"50%",transform:"translate(-50%, -50%)"}:{right:"30px",bottom:"60px"}}),[n.pausePlacement]),R=Object(o.useMemo)((function(){return n.setPauseButtonContent?n.setPauseButtonContent:s.a.createElement(h,{iconClass:"player",fill:"#fff",fontSize:"55px",className:"play-icon",style:P})}),[P,n.setPauseButtonContent]),D=function(e){y.current="move"===e};return s.a.createElement("div",{className:"JoL-controller-container",onMouseEnter:function(e){return[O("enter")]},onMouseLeave:function(e){return[O("leave")]},ref:v},s.a.createElement("div",{id:"play-or-pause-mask",className:"JoL-click-to-play-or-pause",onMouseLeave:function(e){g.current=!1,v.current.style.cursor="pointer"},onMouseMove:function(e){g.current=!0,y.current=!1},onClick:function(){u&&u()}}),A(n.isShowPauseButton)?!l&&!c&&s.a.createElement(s.a.Fragment,null,R):null,s.a.createElement("div",{className:"JoL-progress-and-controls-wrap",onMouseMove:function(e){return[D("move")]},onMouseLeave:function(e){return[D("leave")]}},T?s.a.createElement(re,{setIsscreenshot:w,screenshotLoading:C,theme:n.theme,language:n.language}):null,s.a.createElement(F,null),s.a.createElement(te,{setIsscreenshot:w,setScreenshotLoading:_})),c?n.setEndPlayContent?n.setEndPlayContent:s.a.createElement(ne,{handle:function(){return[u(),O("enter")]},language:n.language}):null,!r.isControl&&n.isProgressFloat?s.a.createElement(ie,{duration:d,currentTime:f}):null)})),oe=n(35),se=n.n(oe);function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(91),n(93);var de=Object(o.forwardRef)((function(e,t){var n=e.option,r=e.className,i=e.style,l=e.onProgressMouseDown,u=e.onPlay,c=e.onPause,d=e.onTimeChange,f=e.onEndEd,p=e.onProgressMouseUp,g=e.onError,y=e.onvolumechange,S=e.onQualityChange,T=n.videoSrc,w=n.width,k=n.height,L=n.theme,C=n.poster,_=n.setBufferContent,A=n.videoType,O=n.toastPosition,P=n.autoPlay,R=n.mode,D=Object(o.useRef)(null),I=Object(o.useRef)(null),M=Object(o.useRef)(null),F=Object(o.useRef)(null),N=Object(o.useState)(!1),j=a(N,2),B=j[0],U=j[1],G=Object(o.useRef)(!1),z=function(){var e=Object(o.useReducer)((function(e,t){switch(t.type){case"isControl":return v(v({},e),{},{isControl:t.data});case"progressSliderChangeVal":return v(v({},e),{},{progressSliderChangeVal:t.data});case"progressMouseUpChangeVal":return v(v({},e),{},{progressMouseUpChangeVal:t.data});case"quality":return v(v({},e),{},{quality:t.data});default:return e}}),m),t=a(e,2);return{videoFlow:t[0],dispatch:t[1]}}(),H=z.videoFlow,K=z.dispatch,V=E(),W=function(){U(!0)},J=function(){U(!1)},q=function(e){var t=e.target,n=t.videoWidth,r=t.videoHeight;if(w&&k)M.current.style.width="".concat(w,"px"),M.current.style.height="".concat(k,"px");else if("widthFix"===R&&w){var i=w*r/n;M.current.style.height="".concat(i,"px"),M.current.style.width="".concat(w,"px")}else if("heightFix"===R&&k){var a=n*k/r;M.current.style.width="".concat(a,"px"),M.current.style.height="".concat(k,"px")}else M.current.style.width="".concat(w||n,"px"),M.current.style.height="".concat(k||r,"px")},Y=x({videoElement:I.current},[I.current]),Q=Y.videoAttributes,$=Y.videoMethod;(function(e,t,n){var r=e.isPlay,i=e.currentTime,a=e.isEndEd,s=e.error,l=e.volume,u=t.progressSliderChangeVal,c=t.progressMouseUpChangeVal,d=t.quality,f=n.onProgressMouseDown,h=n.onPlay,p=n.onPause,v=n.onTimeChange,g=n.onEndEd,m=n.onProgressMouseUp,y=n.onError,b=n.onvolumechange,E=n.onQualityChange;Object(o.useEffect)((function(){t.progressSliderChangeVal&&f&&f(e)}),[u]),Object(o.useEffect)((function(){t.progressMouseUpChangeVal&&m&&m(e)}),[c]),Object(o.useEffect)((function(){r?h&&h(e):p&&p(e)}),[r]),Object(o.useEffect)((function(){i&&v&&v(e)}),[i]),Object(o.useEffect)((function(){a&&g&&g(e)}),[a]),Object(o.useEffect)((function(){s&&y&&y()}),[s]),Object(o.useEffect)((function(){l&&b&&b(e)}),[l]),Object(o.useEffect)((function(){d&&E&&E(d)}),[d])})(Q,H,{onProgressMouseDown:l,onProgressMouseUp:p,onPlay:u,onPause:c,onTimeChange:d,onEndEd:f,onError:g,onvolumechange:y,onQualityChange:S}),Object(o.useEffect)((function(){V();var e=I.current;return function(e){if(A&&"hls"===A&&se.a.isSupported()){var t=new se.a;t.loadSource(T),t.attachMedia(e)}}(e),n.autoPlay&&(G.current=!0,I.current.volume=0),F.current=setTimeout((function(){0===e.networkState||3===e.networkState?X({message:"Error\uff1aVideo source not found",duration:4e3,position:O}):clearTimeout(F.current)}),3e3),e.addEventListener("canplay",q),e.addEventListener("waiting",W),e.addEventListener("playing",J),function(){F.current&&clearTimeout(F.current),e.removeEventListener("waiting",W),e.removeEventListener("playing",J)}}),[n]),Object(o.useEffect)((function(){return P&&document.addEventListener("mousemove",(function(){return Z(P)})),function(){P&&document.removeEventListener("mousemove",(function(){return Z}))}}),[P]);var Z=Object(o.useCallback)((function(e){if(e){if(!G.current||!I.current)return null;var t=I.current.play();void 0!==t&&t.catch((function(e){I.current.volume=.6,G.current=!1})).then((function(){I.current.play(),I.current.volume=.6,G.current=!1}))}}),[]);Object(o.useImperativeHandle)(t,(function(){return ue(ue({video:I.current},$),Q)}));var ee=Object(o.useMemo)((function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("source",{src:T,type:"video/mp4"}),s.a.createElement("source",{src:T,type:"video/ogg"}),s.a.createElement("source",{src:T,type:"video/webm"}))}),[T]),te=Object(o.useMemo)((function(){return Object.assign({},{videoRef:I.current,videoContainerRef:M.current,lightOffMaskRef:D.current,dispatch:K,videoFlow:H,propsAttributes:n})}),[I.current,H,n]);return s.a.createElement("div",{className:"JoL-player-container ".concat(r),ref:M,style:i,id:"JoL-player-container"},s.a.createElement("div",{className:"JoL-light-off-mask",ref:D}),s.a.createElement("video",{autoPlay:P,muted:G.current,className:"JoL-player",ref:I,src:T,poster:C||void 0,id:"JoL-player"},ee),B&&(_||s.a.createElement(h,{iconClass:"loading",fill:L||"#ffb821",className:"player-loading",fontSize:"55px"})),s.a.createElement(b.Provider,{value:te},s.a.createElement(ae,null)))}));!function(e){e.keys().map(e)}(n(95)),t.default=de}])},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(h,e)&&(f.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,y);g[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,y);g[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,y);g[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var E=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),T=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),C=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var F,N=Object.assign;function j(e){if(void 0===F)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var B=!1;function U(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function G(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case w:return"Fragment";case T:return"Portal";case L:return"Profiler";case k:return"StrictMode";case A:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case x:return(e._context.displayName||"Context")+".Provider";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return N({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function $(e,t){Q(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return N({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ae(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var me=N({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ee=null;function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,we=null,ke=null;function Le(e){if(e=bi(e)){if("function"!==typeof Te)throw Error(a(280));var t=e.stateNode;t&&(t=Si(t),Te(e.stateNode,e.type,t))}}function xe(e){we?ke?ke.push(e):ke=[e]:we=e}function Ce(){if(we){var e=we,t=ke;if(ke=we=null,Le(e),t)for(e=0;e<t.length;e++)Le(t[e])}}function _e(e,t){return e(t)}function Ae(){}var Oe=!1;function Pe(e,t,n){if(Oe)return e(t,n);Oe=!0;try{return _e(e,t,n)}finally{Oe=!1,(null!==we||null!==ke)&&(Ae(),Ce())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=Si(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(c)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){De=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(ce){De=!1}function Me(e,t,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Fe=!1,Ne=null,je=!1,Be=null,Ue={onError:function(e){Fe=!0,Ne=e}};function Ge(e,t,n,r,i,a,o,s,l){Fe=!1,Ne=null,Me.apply(Ue,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(ze(e)!==e)throw Error(a(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ke(i),e;if(o===r)return Ke(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Je=i.unstable_scheduleCallback,qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Qe=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=dt(s):0!==(a&=o)&&(r=dt(a))}else 0!==(o=n&~i)?r=dt(o):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function Et(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var St,Tt,wt,kt,Lt,xt=!1,Ct=[],_t=null,At=null,Ot=null,Pt=new Map,Rt=new Map,Dt=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":_t=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Ft(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&Tt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Nt(e){var t=yi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Lt(e.priority,(function(){wt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&Tt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Ee=r,n.target.dispatchEvent(r),Ee=null,t.shift()}return!0}function Bt(e,t,n){jt(e)&&n.delete(t)}function Ut(){xt=!1,null!==_t&&jt(_t)&&(_t=null),null!==At&&jt(At)&&(At=null),null!==Ot&&jt(Ot)&&(Ot=null),Pt.forEach(Bt),Rt.forEach(Bt)}function Gt(e,t){e.blockedOn===t&&(e.blockedOn=null,xt||(xt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function zt(e){function t(t){return Gt(t,e)}if(0<Ct.length){Gt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==_t&&Gt(_t,e),null!==At&&Gt(At,e),null!==Ot&&Gt(Ot,e),Pt.forEach(t),Rt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Nt(n),null===n.blockedOn&&Dt.shift()}var Ht=E.ReactCurrentBatchConfig,Kt=!0;function Vt(e,t,n,r){var i=bt,a=Ht.transition;Ht.transition=null;try{bt=1,Jt(e,t,n,r)}finally{bt=i,Ht.transition=a}}function Wt(e,t,n,r){var i=bt,a=Ht.transition;Ht.transition=null;try{bt=4,Jt(e,t,n,r)}finally{bt=i,Ht.transition=a}}function Jt(e,t,n,r){if(Kt){var i=Yt(e,t,n,r);if(null===i)Kr(e,t,r,qt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return _t=Ft(_t,e,t,n,r,i),!0;case"dragenter":return At=Ft(At,e,t,n,r,i),!0;case"mouseover":return Ot=Ft(Ot,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Pt.set(a,Ft(Pt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Ft(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<It.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&St(a),null===(a=Yt(e,t,n,r))&&Kr(e,t,r,qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var qt=null;function Yt(e,t,n,r){if(qt=null,null!==(e=yi(e=Se(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,$t=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=$t,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return N(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(un),dn=N({},un,{view:0,detail:0}),fn=an(dn),hn=N({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ln,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(hn),vn=an(N({},hn,{dataTransfer:0})),gn=an(N({},dn,{relatedTarget:0})),mn=an(N({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=N({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),En=an(N({},un,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function Ln(){return kn}var xn=N({},dn,{key:function(e){if(e.key){var t=Sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Tn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ln,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=an(xn),_n=an(N({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(N({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ln})),On=an(N({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=N({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(Pn),Dn=[9,13,27,32],In=c&&"CompositionEvent"in window,Mn=null;c&&"documentMode"in document&&(Mn=document.documentMode);var Fn=c&&"TextEvent"in window&&!Mn,Nn=c&&(!In||Mn&&8<Mn&&11>=Mn),jn=String.fromCharCode(32),Bn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Vn(e,t,n,r){xe(r),0<(t=Wr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Jn=null;function qn(e){jr(e,0)}function Yn(e){if(J(Ei(e)))return e}function Xn(e,t){if("change"===e)return t}var Qn=!1;if(c){var $n;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}$n=Zn}else $n=!1;Qn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Jn=Wn=null)}function nr(e){if("value"===e.propertyName&&Yn(Jn)){var t=[];Vn(t,Jn,e,Se(e)),Pe(qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Jn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Jn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=q((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,mr=null,yr=null,br=!1;function Er(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==q(r)||("selectionStart"in(r=gr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Wr(mr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function Sr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Tr={animationend:Sr("Animation","AnimationEnd"),animationiteration:Sr("Animation","AnimationIteration"),animationstart:Sr("Animation","AnimationStart"),transitionend:Sr("Transition","TransitionEnd")},wr={},kr={};function Lr(e){if(wr[e])return wr[e];if(!Tr[e])return e;var t,n=Tr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return wr[e]=n[t];return e}c&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete Tr.animationend.animation,delete Tr.animationiteration.animation,delete Tr.animationstart.animation),"TransitionEvent"in window||delete Tr.transitionend.transition);var xr=Lr("animationend"),Cr=Lr("animationiteration"),_r=Lr("animationstart"),Ar=Lr("transitionend"),Or=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Or.set(e,t),l(t,[e])}for(var Dr=0;Dr<Pr.length;Dr++){var Ir=Pr[Dr];Rr(Ir.toLowerCase(),"on"+(Ir[0].toUpperCase()+Ir.slice(1)))}Rr(xr,"onAnimationEnd"),Rr(Cr,"onAnimationIteration"),Rr(_r,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Ar,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Nr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,l,u){if(Ge.apply(this,arguments),Fe){if(!Fe)throw Error(a(198));var c=Ne;Fe=!1,Ne=null,je||(je=!0,Be=c)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;Nr(i,s,u),a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;Nr(i,s,u),a=l}}}if(je)throw e=Be,je=!1,Be=null,e}function Br(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Gr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Gr]){e[Gr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Fr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Gr]||(t[Gr]=!0,Ur("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Xt(t)){case 1:var i=Vt;break;case 4:i=Wt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=yi(s)))return;if(5===(l=o.tag)||6===l){r=a=o;continue e}s=s.parentNode}}r=r.return}Pe((function(){var r=a,i=Se(n),o=[];e:{var s=Or.get(e);if(void 0!==s){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":u="focus",l=gn;break;case"focusout":u="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case xr:case Cr:case _r:l=mn;break;case Ar:l=On;break;case"scroll":l=fn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=_n}var c=0!==(4&t),d=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==f&&(null!=(v=Re(p,f))&&c.push(Vr(p,v,h)))),d)break;p=p.return}0<c.length&&(s=new l(s,u,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Ee||!(u=n.relatedTarget||n.fromElement)||!yi(u)&&!u[pi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?yi(u):null)&&(u!==(d=ze(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=pn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=_n,v="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==l?s:Ei(l),h=null==u?s:Ei(u),(s=new c(v,p+"leave",l,n,i)).target=d,s.relatedTarget=h,v=null,yi(i)===r&&((c=new c(f,p+"enter",u,n,i)).target=h,c.relatedTarget=d,v=c),d=v,l&&u)e:{for(f=u,p=0,h=c=l;h;h=Jr(h))p++;for(h=0,v=f;v;v=Jr(v))h++;for(;0<p-h;)c=Jr(c),p--;for(;0<h-p;)f=Jr(f),h--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Jr(c),f=Jr(f)}c=null}else c=null;null!==l&&qr(o,s,l,c,!1),null!==u&&null!==d&&qr(o,d,u,c,!0)}if("select"===(l=(s=r?Ei(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Xn;else if(Kn(s))if(Qn)g=or;else{g=ir;var m=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ar);switch(g&&(g=g(e,r))?Vn(o,g,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ee(s,"number",s.value)),m=r?Ei(r):window,e){case"focusin":(Kn(m)||"true"===m.contentEditable)&&(gr=m,mr=r,yr=null);break;case"focusout":yr=mr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,Er(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":Er(o,n,i)}var y;if(In)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Nn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(y=en()):($t="value"in(Qt=i)?Qt.value:Qt.textContent,zn=!0)),0<(m=Wr(r,b)).length&&(b=new En(b,e,null,n,i),o.push({event:b,listeners:m}),y?b.data=y:null!==(y=Gn(n))&&(b.data=y))),(y=Fn?function(e,t){switch(e){case"compositionend":return Gn(t);case"keypress":return 32!==t.which?null:(Bn=!0,jn);case"textInput":return(e=t.data)===jn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!In&&Un(e,t)?(e=en(),Zt=$t=Qt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new En("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}jr(o,t)}))}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(Vr(e,a,i)),null!=(a=Re(e,t))&&r.push(Vr(e,a,i))),e=e.return}return r}function Jr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=Re(n,a))&&o.unshift(Vr(n,l,s)):i||null!=(l=Re(n,a))&&o.push(Vr(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function $r(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),fi="__reactFiber$"+di,hi="__reactProps$"+di,pi="__reactContainer$"+di,vi="__reactEvents$"+di,gi="__reactListeners$"+di,mi="__reactHandles$"+di;function yi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[fi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Ei(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function Si(e){return e[hi]||null}var Ti=[],wi=-1;function ki(e){return{current:e}}function Li(e){0>wi||(e.current=Ti[wi],Ti[wi]=null,wi--)}function xi(e,t){wi++,Ti[wi]=e.current,e.current=t}var Ci={},_i=ki(Ci),Ai=ki(!1),Oi=Ci;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Li(Ai),Li(_i)}function Ii(e,t,n){if(_i.current!==Ci)throw Error(a(168));xi(_i,t),xi(Ai,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,H(e)||"Unknown",i));return N({},n,r)}function Fi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Oi=_i.current,xi(_i,e),xi(Ai,Ai.current),!0}function Ni(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Mi(e,t,Oi),r.__reactInternalMemoizedMergedChildContext=e,Li(Ai),Li(_i),xi(_i,e)):Li(Ai),xi(Ai,n)}var ji=null,Bi=!1,Ui=!1;function Gi(e){null===ji?ji=[e]:ji.push(e)}function zi(){if(!Ui&&null!==ji){Ui=!0;var e=0,t=bt;try{var n=ji;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Bi=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Je(Ze,zi),i}finally{bt=t,Ui=!1}}return null}var Hi=[],Ki=0,Vi=null,Wi=0,Ji=[],qi=0,Yi=null,Xi=1,Qi="";function $i(e,t){Hi[Ki++]=Wi,Hi[Ki++]=Vi,Vi=e,Wi=t}function Zi(e,t,n){Ji[qi++]=Xi,Ji[qi++]=Qi,Ji[qi++]=Yi,Yi=e;var r=Xi;e=Qi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,Qi=a+e}else Xi=1<<a|n<<i|r,Qi=e}function ea(e){null!==e.return&&($i(e,1),Zi(e,1,0))}function ta(e){for(;e===Vi;)Vi=Hi[--Ki],Hi[Ki]=null,Wi=Hi[--Ki],Hi[Ki]=null;for(;e===Yi;)Yi=Ji[--qi],Ji[qi]=null,Qi=Ji[--qi],Ji[qi]=null,Xi=Ji[--qi],Ji[qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Ru(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Xi,overflow:Qi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ru(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ua(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(la(e))throw Error(a(418));t=ui(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function da(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(la(e))throw fa(),Error(a(418));for(;t;)oa(e,t),t=ui(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ui(e.stateNode.nextSibling):null;return!0}function fa(){for(var e=ra;e;)e=ui(e.nextSibling)}function ha(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=E.ReactCurrentBatchConfig;function ga(e,t){if(e&&e.defaultProps){for(var n in t=N({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ma=ki(null),ya=null,ba=null,Ea=null;function Sa(){Ea=ba=ya=null}function Ta(e){var t=ma.current;Li(ma),e._currentValue=t}function wa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ka(e,t){ya=e,Ea=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Es=!0),e.firstContext=null)}function La(e){var t=e._currentValue;if(Ea!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ya)throw Error(a(308));ba=e,ya.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var xa=null;function Ca(e){null===xa?xa=[e]:xa.push(e)}function _a(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ca(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Oa=!1;function Pa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ia(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Al)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ca(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function Ma(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Fa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Na(e,t,n,r){var i=e.updateQueue;Oa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===o?a=u:o.next=u,o=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(o=0,c=u=l=null,s=a;;){var f=s.lane,h=s.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(f=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=v.payload)?p.call(h,d,f):p)||void 0===f)break e;d=N({},d,f);break e;case 2:Oa=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else h={eventTime:h,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=h,l=d):c=c.next=h,o|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===c&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Nl|=o,e.lanes=o,e.memoizedState=d}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ba=(new r.Component).refs;function Ua(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:N({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ga={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tu(),i=nu(e),a=Da(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ia(e,a,i))&&(ru(t,e,i,r),Ma(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tu(),i=nu(e),a=Da(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ia(e,a,i))&&(ru(t,e,i,r),Ma(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tu(),r=nu(e),i=Da(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ia(e,i,r))&&(ru(t,e,r,n),Ma(t,e,r))}};function za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,a))}function Ha(e,t,n){var r=!1,i=Ci,a=t.contextType;return"object"===typeof a&&null!==a?a=La(a):(i=Ri(t)?Oi:_i.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ci),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ga,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ka(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ga.enqueueReplaceState(t,t.state,null)}function Va(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ba,Pa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=La(a):(a=Ri(t)?Oi:_i.current,i.context=Pi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ua(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ga.enqueueReplaceState(i,i.state,null),Na(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Wa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ba&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ja(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Iu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=ju(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var a=n.type;return a===w?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&qa(a)===t.type)?((r=i(t,n.props)).ref=Wa(e,t,n),r.return=e,r):((r=Mu(n.type,n.key,n.props,null,e.mode,r)).ref=Wa(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Fu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=ju(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case S:return(n=Mu(t.type,t.key,t.props,null,e.mode,n)).ref=Wa(e,null,t),n.return=e,n;case T:return(t=Bu(t,e.mode,n)).return=e,t;case R:return f(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Fu(t,e.mode,n,null)).return=e,t;Ja(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case S:return n.key===i?u(e,t,n,r):null;case T:return n.key===i?c(e,t,n,r):null;case R:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:d(e,t,n,r,null);Ja(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case T:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return d(t,e=e.get(n)||null,r,i,null);Ja(t,r)}return null}function v(i,a,s,l){for(var u=null,c=null,d=a,v=a=0,g=null;null!==d&&v<s.length;v++){d.index>v?(g=d,d=null):g=d.sibling;var m=h(i,d,s[v],l);if(null===m){null===d&&(d=g);break}e&&d&&null===m.alternate&&t(i,d),a=o(m,a,v),null===c?u=m:c.sibling=m,c=m,d=g}if(v===s.length)return n(i,d),ia&&$i(i,v),u;if(null===d){for(;v<s.length;v++)null!==(d=f(i,s[v],l))&&(a=o(d,a,v),null===c?u=d:c.sibling=d,c=d);return ia&&$i(i,v),u}for(d=r(i,d);v<s.length;v++)null!==(g=p(d,i,v,s[v],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?v:g.key),a=o(g,a,v),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach((function(e){return t(i,e)})),ia&&$i(i,v),u}function g(i,s,l,u){var c=M(l);if("function"!==typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var d=c=null,v=s,g=s=0,m=null,y=l.next();null!==v&&!y.done;g++,y=l.next()){v.index>g?(m=v,v=null):m=v.sibling;var b=h(i,v,y.value,u);if(null===b){null===v&&(v=m);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,g),null===d?c=b:d.sibling=b,d=b,v=m}if(y.done)return n(i,v),ia&&$i(i,g),c;if(null===v){for(;!y.done;g++,y=l.next())null!==(y=f(i,y.value,u))&&(s=o(y,s,g),null===d?c=y:d.sibling=y,d=y);return ia&&$i(i,g),c}for(v=r(i,v);!y.done;g++,y=l.next())null!==(y=p(v,i,g,y.value,u))&&(e&&null!==y.alternate&&v.delete(null===y.key?g:y.key),s=o(y,s,g),null===d?c=y:d.sibling=y,d=y);return e&&v.forEach((function(e){return t(i,e)})),ia&&$i(i,g),c}return function e(r,a,o,l){if("object"===typeof o&&null!==o&&o.type===w&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case S:e:{for(var u=o.key,c=a;null!==c;){if(c.key===u){if((u=o.type)===w){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===R&&qa(u)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=Wa(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===w?((a=Fu(o.props.children,r.mode,l,o.key)).return=r,r=a):((l=Mu(o.type,o.key,o.props,null,r.mode,l)).ref=Wa(r,a,o),l.return=r,r=l)}return s(r);case T:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Bu(o,r.mode,l)).return=r,r=a}return s(r);case R:return e(r,a,(c=o._init)(o._payload),l)}if(te(o))return v(r,a,o,l);if(M(o))return g(r,a,o,l);Ja(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=ju(o,r.mode,l)).return=r,r=a),s(r)):n(r,a)}}var Xa=Ya(!0),Qa=Ya(!1),$a={},Za=ki($a),eo=ki($a),to=ki($a);function no(e){if(e===$a)throw Error(a(174));return e}function ro(e,t){switch(xi(to,t),xi(eo,e),xi(Za,$a),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Li(Za),xi(Za,t)}function io(){Li(Za),Li(eo),Li(to)}function ao(e){no(to.current);var t=no(Za.current),n=le(t,e.type);t!==n&&(xi(eo,e),xi(Za,n))}function oo(e){eo.current===e&&(Li(Za),Li(eo))}var so=ki(0);function lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var uo=[];function co(){for(var e=0;e<uo.length;e++)uo[e]._workInProgressVersionPrimary=null;uo.length=0}var fo=E.ReactCurrentDispatcher,ho=E.ReactCurrentBatchConfig,po=0,vo=null,go=null,mo=null,yo=!1,bo=!1,Eo=0,So=0;function To(){throw Error(a(321))}function wo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ko(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:ls,e=n(r,i),bo){o=0;do{if(bo=!1,Eo=0,25<=o)throw Error(a(301));o+=1,mo=go=null,t.updateQueue=null,fo.current=us,e=n(r,i)}while(bo)}if(fo.current=os,t=null!==go&&null!==go.next,po=0,mo=go=vo=null,yo=!1,t)throw Error(a(300));return e}function Lo(){var e=0!==Eo;return Eo=0,e}function xo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===mo?vo.memoizedState=mo=e:mo=mo.next=e,mo}function Co(){if(null===go){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=go.next;var t=null===mo?vo.memoizedState:mo.next;if(null!==t)mo=t,go=e;else{if(null===e)throw Error(a(310));e={memoizedState:(go=e).memoizedState,baseState:go.baseState,baseQueue:go.baseQueue,queue:go.queue,next:null},null===mo?vo.memoizedState=mo=e:mo=mo.next=e}return mo}function _o(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=Co(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=go,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=s=null,u=null,c=o;do{var d=c.lane;if((po&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=f,s=r):u=u.next=f,vo.lanes|=d,Nl|=d}c=c.next}while(null!==c&&c!==o);null===u?s=r:u.next=l,sr(r,t.memoizedState)||(Es=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Nl|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Oo(e){var t=Co(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(Es=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Po(){}function Ro(e,t){var n=vo,r=Co(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,Es=!0),r=r.queue,Ko(Mo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==mo&&1&mo.memoizedState.tag){if(n.flags|=2048,Bo(9,Io.bind(null,n,r,i,t),void 0,null),null===Ol)throw Error(a(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Io(e,t,n,r){t.value=n,t.getSnapshot=r,Fo(t)&&No(e)}function Mo(e,t,n){return n((function(){Fo(t)&&No(e)}))}function Fo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function No(e){var t=Aa(e,1);null!==t&&ru(t,e,1,-1)}function jo(e){var t=xo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_o,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Bo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return Co().memoizedState}function Go(e,t,n,r){var i=xo();vo.flags|=e,i.memoizedState=Bo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=Co();r=void 0===r?null:r;var a=void 0;if(null!==go){var o=go.memoizedState;if(a=o.destroy,null!==r&&wo(r,o.deps))return void(i.memoizedState=Bo(t,n,a,r))}vo.flags|=e,i.memoizedState=Bo(1|t,n,a,r)}function Ho(e,t){return Go(8390656,8,e,t)}function Ko(e,t){return zo(2048,8,e,t)}function Vo(e,t){return zo(4,2,e,t)}function Wo(e,t){return zo(4,4,e,t)}function Jo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Jo.bind(null,t,e),n)}function Yo(){}function Xo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&wo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&wo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $o(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,Es=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Nl|=n,e.baseState=!0),t)}function Zo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function es(){return Co().memoizedState}function ts(e,t,n){var r=nu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=_a(e,t,n,r))){ru(n,e,r,tu()),as(n,t,r)}}function ns(e,t,n){var r=nu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var l=t.interleaved;return null===l?(i.next=i,Ca(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=_a(e,t,i,r))&&(ru(n,e,r,i=tu()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){bo=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var os={readContext:La,useCallback:To,useContext:To,useEffect:To,useImperativeHandle:To,useInsertionEffect:To,useLayoutEffect:To,useMemo:To,useReducer:To,useRef:To,useState:To,useDebugValue:To,useDeferredValue:To,useTransition:To,useMutableSource:To,useSyncExternalStore:To,useId:To,unstable_isNewReconciler:!1},ss={readContext:La,useCallback:function(e,t){return xo().memoizedState=[e,void 0===t?null:t],e},useContext:La,useEffect:Ho,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Go(4194308,4,Jo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Go(4194308,4,e,t)},useInsertionEffect:function(e,t){return Go(4,2,e,t)},useMemo:function(e,t){var n=xo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},xo().memoizedState=e},useState:jo,useDebugValue:Yo,useDeferredValue:function(e){return xo().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Zo.bind(null,e[1]),xo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=xo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ol)throw Error(a(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Ho(Mo.bind(null,r,o,e),[e]),r.flags|=2048,Bo(9,Io.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=xo(),t=Ol.identifierPrefix;if(ia){var n=Qi;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=Eo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=So++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:La,useCallback:Xo,useContext:La,useEffect:Ko,useImperativeHandle:qo,useInsertionEffect:Vo,useLayoutEffect:Wo,useMemo:Qo,useReducer:Ao,useRef:Uo,useState:function(){return Ao(_o)},useDebugValue:Yo,useDeferredValue:function(e){return $o(Co(),go.memoizedState,e)},useTransition:function(){return[Ao(_o)[0],Co().memoizedState]},useMutableSource:Po,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1},us={readContext:La,useCallback:Xo,useContext:La,useEffect:Ko,useImperativeHandle:qo,useInsertionEffect:Vo,useLayoutEffect:Wo,useMemo:Qo,useReducer:Oo,useRef:Uo,useState:function(){return Oo(_o)},useDebugValue:Yo,useDeferredValue:function(e){var t=Co();return null===go?t.memoizedState=e:$o(t,go.memoizedState,e)},useTransition:function(){return[Oo(_o)[0],Co().memoizedState]},useMutableSource:Po,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=G(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vl||(Vl=!0,Wl=r),fs(0,t)},n}function vs(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){fs(0,t),"function"!==typeof r&&(null===Jl?Jl=new Set([this]):Jl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=xu.bind(null,e,t,n),t.then(e,e))}function ms(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,Ia(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=E.ReactCurrentOwner,Es=!1;function Ss(e,t,n,r){t.child=null===e?Qa(t,null,n,r):Xa(t,e.child,n,r)}function Ts(e,t,n,r,i){n=n.render;var a=t.ref;return ka(t,i),r=ko(e,t,n,r,a,i),n=Lo(),null===e||Es?(ia&&n&&ea(t),t.flags|=1,Ss(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vs(e,t,i))}function ws(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Du(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ks(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Vs(e,t,i)}return t.flags|=1,(e=Iu(a,r)).ref=t.ref,e.return=t,t.child=e}function ks(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===t.ref){if(Es=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Vs(e,t,i);0!==(131072&e.flags)&&(Es=!0)}}return Cs(e,t,n,r,i)}function Ls(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xi(Il,Dl),Dl|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xi(Il,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,xi(Il,Dl),Dl|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xi(Il,Dl),Dl|=r;return Ss(e,t,i,n),t.child}function xs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,n,r,i){var a=Ri(n)?Oi:_i.current;return a=Pi(t,a),ka(t,i),n=ko(e,t,n,r,a,i),r=Lo(),null===e||Es?(ia&&r&&ea(t),t.flags|=1,Ss(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vs(e,t,i))}function _s(e,t,n,r,i){if(Ri(n)){var a=!0;Fi(t)}else a=!1;if(ka(t,i),null===t.stateNode)Ks(e,t),Ha(t,n,r),Va(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=La(u):u=Pi(t,u=Ri(n)?Oi:_i.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==u)&&Ka(t,o,r,u),Oa=!1;var f=t.memoizedState;o.state=f,Na(t,r,o,i),l=t.memoizedState,s!==r||f!==l||Ai.current||Oa?("function"===typeof c&&(Ua(t,n,c,r),l=t.memoizedState),(s=Oa||za(t,n,s,r,f,l,u))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ra(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:ga(t.type,s),o.props=u,d=t.pendingProps,f=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=La(l):l=Pi(t,l=Ri(n)?Oi:_i.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||f!==l)&&Ka(t,o,r,l),Oa=!1,f=t.memoizedState,o.state=f,Na(t,r,o,i);var p=t.memoizedState;s!==d||f!==p||Ai.current||Oa?("function"===typeof h&&(Ua(t,n,h,r),p=t.memoizedState),(u=Oa||za(t,n,u,r,f,p,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return As(e,t,n,r,a,i)}function As(e,t,n,r,i,a){xs(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Ni(t,n,!1),Vs(e,t,a);r=t.stateNode,bs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Xa(t,e.child,null,a),t.child=Xa(t,null,s,a)):Ss(e,t,s,a),t.memoizedState=r.state,i&&Ni(t,n,!0),t.child}function Os(e){var t=e.stateNode;t.pendingContext?Ii(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ii(0,t.context,!1),ro(e,t.containerInfo)}function Ps(e,t,n,r,i){return ha(),pa(i),t.flags|=256,Ss(e,t,n,r),t.child}var Rs,Ds,Is,Ms,Fs={dehydrated:null,treeContext:null,retryLane:0};function Ns(e){return{baseLanes:e,cachePool:null,transitions:null}}function js(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),xi(so,1&o),null===e)return ua(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Nu(l,i,0,null),e=Fu(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ns(n),t.memoizedState=Fs,e):Bs(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=ds(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Nu({mode:"visible",children:r.children},i,0,null),(o=Fu(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Xa(t,e.child,null,s),t.child.memoizedState=Ns(s),t.memoizedState=Fs,o);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Us(e,t,s,r=ds(o=Error(a(419)),r,void 0))}if(l=0!==(s&e.childLanes),Es||l){if(null!==(r=Ol)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Aa(e,i),ru(r,e,i,-1))}return gu(),Us(e,t,s,r=ds(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=_u.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ui(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Ji[qi++]=Xi,Ji[qi++]=Qi,Ji[qi++]=Yi,Xi=e.id,Qi=e.overflow,Yi=t),t=Bs(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(s){s=i.fallback,l=t.mode,r=(o=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Iu(o,u)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Iu(r,s):(s=Fu(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Ns(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Fs,i}return e=(s=e.child).sibling,i=Iu(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Bs(e,t){return(t=Nu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&pa(r),Xa(t,e.child,null,n),(e=Bs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Gs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),wa(e.return,t,n)}function zs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Hs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Ss(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Gs(e,n,t);else if(19===e.tag)Gs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xi(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===lo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===lo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zs(t,!0,n,null,a);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ks(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Nl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Iu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Iu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Js(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function qs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Js(t),null;case 1:case 17:return Ri(t.type)&&Di(),Js(t),null;case 3:return r=t.stateNode,io(),Li(Ai),Li(_i),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(su(aa),aa=null))),Ds(e,t),Js(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Is(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Js(t),null}if(e=no(Za.current),da(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[fi]=t,r[hi]=o,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Br(Mr[i],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":X(r,o),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Br("invalid",r);break;case"textarea":ie(r,o),Br("invalid",r)}for(var l in ye(n,o),i=null,o)if(o.hasOwnProperty(l)){var u=o[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,u,e),i=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Br("scroll",r)}switch(n){case"input":W(r),Z(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[fi]=t,e[hi]=r,Rs(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Br("cancel",e),Br("close",e),i=r;break;case"iframe":case"object":case"embed":Br("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Br(Mr[i],e);i=r;break;case"source":Br("error",e),i=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),i=r;break;case"details":Br("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),Br("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=N({},r,{value:void 0}),Br("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Br("invalid",e)}for(o in ye(n,i),u=i)if(u.hasOwnProperty(o)){var c=u[o];"style"===o?ge(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&fe(e,c):"number"===typeof c&&fe(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Br("scroll",e):null!=c&&b(e,o,c,l))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Js(t),null;case 6:if(e&&null!=t.stateNode)Ms(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),da(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Js(t),null;case 13:if(Li(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))fa(),ha(),t.flags|=98560,o=!1;else if(o=da(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[fi]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Js(t),o=!1}else null!==aa&&(su(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Ml&&(Ml=3):gu())),null!==t.updateQueue&&(t.flags|=4),Js(t),null);case 4:return io(),Ds(e,t),null===e&&zr(t.stateNode.containerInfo),Js(t),null;case 10:return Ta(t.type._context),Js(t),null;case 19:if(Li(so),null===(o=t.memoizedState))return Js(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Ws(o,!1);else{if(0!==Ml||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=lo(e))){for(t.flags|=128,Ws(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xi(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Qe()>Hl&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=lo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ia)return Js(t),null}else 2*Qe()-o.renderingStartTime>Hl&&1073741824!==n&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Qe(),t.sibling=null,n=so.current,xi(so,r?1&n|2:1&n),t):(Js(t),null);case 22:case 23:return fu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Dl)&&(Js(t),6&t.subtreeFlags&&(t.flags|=8192)):Js(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ys(e,t){switch(ta(t),t.tag){case 1:return Ri(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Li(Ai),Li(_i),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Li(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Li(so),null;case 4:return io(),null;case 10:return Ta(t.type._context),null;case 22:case 23:return fu(),null;default:return null}}Rs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ds=function(){},Is=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=N({},i,{value:void 0}),r=N({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(o||(o=[]),o.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(o=o||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Br("scroll",e),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Ms=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xs=!1,Qs=!1,$s="function"===typeof WeakSet?WeakSet:Set,Zs=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Lu(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){Lu(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tl(t,n,a)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[hi],delete t[vi],delete t[gi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var dl=null,fl=!1;function hl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Qs||el(n,t);case 6:var r=dl,i=fl;dl=null,hl(e,t,n),fl=i,null!==(dl=r)&&(fl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(fl?(e=dl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),zt(e)):li(dl,n.stateNode));break;case 4:r=dl,i=fl,dl=n.stateNode.containerInfo,fl=!0,hl(e,t,n),dl=r,fl=i;break;case 0:case 11:case 14:case 15:if(!Qs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tl(n,t,o),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Qs&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Lu(n,t,s)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Qs=(r=Qs)||null!==n.memoizedState,hl(e,t,n),Qs=r):hl(e,t,n);break;default:hl(e,t,n)}}function vl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $s),t.forEach((function(t){var r=Au.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,fl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,fl=!0;break e}l=l.return}if(null===dl)throw Error(a(160));pl(o,s,i),dl=null,fl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){Lu(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(g){Lu(e,e.return,g)}try{rl(5,e,e.return)}catch(g){Lu(e,e.return,g)}}break;case 1:gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(g){Lu(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===o.type&&null!=o.name&&Q(i,o),be(l,s);var c=be(l,o);for(s=0;s<u.length;s+=2){var d=u[s],f=u[s+1];"style"===d?ge(i,f):"dangerouslySetInnerHTML"===d?de(i,f):"children"===d?fe(i,f):b(i,d,f,c)}switch(l){case"input":$(i,o);break;case"textarea":ae(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[hi]=o}catch(g){Lu(e,e.return,g)}}break;case 6:if(gl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Lu(e,e.return,g)}}break;case 3:if(gl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){Lu(e,e.return,g)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zl=Qe())),4&r&&vl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Qs=(c=Qs)||d,gl(t,e),Qs=c):gl(t,e),yl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Zs=e,d=e.child;null!==d;){for(f=Zs=d;null!==Zs;){switch(p=(h=Zs).child,h.tag){case 0:case 11:case 14:case 15:rl(4,h,h.return);break;case 1:el(h,h.return);var v=h.stateNode;if("function"===typeof v.componentWillUnmount){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){Lu(r,n,g)}}break;case 5:el(h,h.return);break;case 22:if(null!==h.memoizedState){Tl(f);continue}}null!==p?(p.return=h,Zs=p):Tl(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{i=f.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=f.stateNode,s=void 0!==(u=f.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=ve("display",s))}catch(g){Lu(e,e.return,g)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){Lu(e,e.return,g)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gl(t,e),yl(e),4&r&&vl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),cl(e,ll(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ul(e,ll(e),o);break;default:throw Error(a(161))}}catch(s){Lu(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Zs=e,El(e,t,n)}function El(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Xs;if(!o){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Qs;s=Xs;var u=Qs;if(Xs=o,(Qs=l)&&!u)for(Zs=i;null!==Zs;)l=(o=Zs).child,22===o.tag&&null!==o.memoizedState?wl(i):null!==l?(l.return=o,Zs=l):wl(i);for(;null!==a;)Zs=a,El(a,t,n),a=a.sibling;Zs=i,Xs=s,Qs=u}Sl(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zs=a):Sl(e)}}function Sl(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qs||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ga(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&zt(f)}}}break;default:throw Error(a(163))}Qs||512&t.flags&&al(t)}catch(h){Lu(t,t.return,h)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function Tl(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function wl(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){Lu(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Lu(t,i,l)}}var a=t.return;try{al(t)}catch(l){Lu(t,a,l)}break;case 5:var o=t.return;try{al(t)}catch(l){Lu(t,o,l)}}}catch(l){Lu(t,t.return,l)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var kl,Ll=Math.ceil,xl=E.ReactCurrentDispatcher,Cl=E.ReactCurrentOwner,_l=E.ReactCurrentBatchConfig,Al=0,Ol=null,Pl=null,Rl=0,Dl=0,Il=ki(0),Ml=0,Fl=null,Nl=0,jl=0,Bl=0,Ul=null,Gl=null,zl=0,Hl=1/0,Kl=null,Vl=!1,Wl=null,Jl=null,ql=!1,Yl=null,Xl=0,Ql=0,$l=null,Zl=-1,eu=0;function tu(){return 0!==(6&Al)?Qe():-1!==Zl?Zl:Zl=Qe()}function nu(e){return 0===(1&e.mode)?1:0!==(2&Al)&&0!==Rl?Rl&-Rl:null!==va.transition?(0===eu&&(eu=vt()),eu):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function ru(e,t,n,r){if(50<Ql)throw Ql=0,$l=null,Error(a(185));mt(e,n,r),0!==(2&Al)&&e===Ol||(e===Ol&&(0===(2&Al)&&(jl|=n),4===Ml&&lu(e,Rl)),iu(e,r),1===n&&0===Al&&0===(1&t.mode)&&(Hl=Qe()+500,Bi&&zi()))}function iu(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,l=i[o];-1===l?0!==(s&n)&&0===(s&r)||(i[o]=ht(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ft(e,e===Ol?Rl:0);if(0===r)null!==n&&qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&qe(n),1===t)0===e.tag?function(e){Bi=!0,Gi(e)}(uu.bind(null,e)):Gi(uu.bind(null,e)),oi((function(){0===(6&Al)&&zi()})),n=null;else{switch(Et(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ou(n,au.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function au(e,t){if(Zl=-1,eu=0,0!==(6&Al))throw Error(a(327));var n=e.callbackNode;if(wu()&&e.callbackNode!==n)return null;var r=ft(e,e===Ol?Rl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mu(e,r);else{t=r;var i=Al;Al|=2;var o=vu();for(Ol===e&&Rl===t||(Kl=null,Hl=Qe()+500,hu(e,t));;)try{bu();break}catch(l){pu(e,l)}Sa(),xl.current=o,Al=i,null!==Pl?t=0:(Ol=null,Rl=0,t=Ml)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ou(e,i))),1===t)throw n=Fl,hu(e,0),lu(e,r),iu(e,Qe()),n;if(6===t)lu(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mu(e,r))&&(0!==(o=pt(e))&&(r=o,t=ou(e,o))),1===t))throw n=Fl,hu(e,0),lu(e,r),iu(e,Qe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:Tu(e,Gl,Kl);break;case 3:if(lu(e,r),(130023424&r)===r&&10<(t=zl+500-Qe())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Tu.bind(null,e,Gl,Kl),t);break}Tu(e,Gl,Kl);break;case 4:if(lu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ll(r/1960))-r)){e.timeoutHandle=ri(Tu.bind(null,e,Gl,Kl),r);break}Tu(e,Gl,Kl);break;default:throw Error(a(329))}}}return iu(e,Qe()),e.callbackNode===n?au.bind(null,e):null}function ou(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(hu(e,t).flags|=256),2!==(e=mu(e,t))&&(t=Gl,Gl=n,null!==t&&su(t)),e}function su(e){null===Gl?Gl=e:Gl.push.apply(Gl,e)}function lu(e,t){for(t&=~Bl,t&=~jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function uu(e){if(0!==(6&Al))throw Error(a(327));wu();var t=ft(e,0);if(0===(1&t))return iu(e,Qe()),null;var n=mu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ou(e,r))}if(1===n)throw n=Fl,hu(e,0),lu(e,t),iu(e,Qe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Tu(e,Gl,Kl),iu(e,Qe()),null}function cu(e,t){var n=Al;Al|=1;try{return e(t)}finally{0===(Al=n)&&(Hl=Qe()+500,Bi&&zi())}}function du(e){null!==Yl&&0===Yl.tag&&0===(6&Al)&&wu();var t=Al;Al|=1;var n=_l.transition,r=bt;try{if(_l.transition=null,bt=1,e)return e()}finally{bt=r,_l.transition=n,0===(6&(Al=t))&&zi()}}function fu(){Dl=Il.current,Li(Il)}function hu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),Li(Ai),Li(_i),co();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Li(so);break;case 10:Ta(r.type._context);break;case 22:case 23:fu()}n=n.return}if(Ol=e,Pl=e=Iu(e.current,null),Rl=Dl=t,Ml=0,Fl=null,Bl=jl=Nl=0,Gl=Ul=null,null!==xa){for(t=0;t<xa.length;t++)if(null!==(r=(n=xa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}xa=null}return e}function pu(e,t){for(;;){var n=Pl;try{if(Sa(),fo.current=os,yo){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,mo=go=vo=null,bo=!1,Eo=0,Cl.current=null,null===n||null===n.return){Ml=1,Fl=t,Pl=null;break}e:{var o=e,s=n.return,l=n,u=t;if(t=Rl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ms(s);if(null!==p){p.flags&=-257,ys(p,s,l,0,t),1&p.mode&&gs(o,c,t),u=c;var v=(t=p).updateQueue;if(null===v){var g=new Set;g.add(u),t.updateQueue=g}else v.add(u);break e}if(0===(1&t)){gs(o,c,t),gu();break e}u=Error(a(426))}else if(ia&&1&l.mode){var m=ms(s);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),ys(m,s,l,0,t),pa(cs(u,l));break e}}o=u=cs(u,l),4!==Ml&&(Ml=2),null===Ul?Ul=[o]:Ul.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Fa(o,ps(0,u,t));break e;case 1:l=u;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Jl||!Jl.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Fa(o,vs(o,l,t));break e}}o=o.return}while(null!==o)}Su(n)}catch(E){t=E,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function vu(){var e=xl.current;return xl.current=os,null===e?os:e}function gu(){0!==Ml&&3!==Ml&&2!==Ml||(Ml=4),null===Ol||0===(268435455&Nl)&&0===(268435455&jl)||lu(Ol,Rl)}function mu(e,t){var n=Al;Al|=2;var r=vu();for(Ol===e&&Rl===t||(Kl=null,hu(e,t));;)try{yu();break}catch(i){pu(e,i)}if(Sa(),Al=n,xl.current=r,null!==Pl)throw Error(a(261));return Ol=null,Rl=0,Ml}function yu(){for(;null!==Pl;)Eu(Pl)}function bu(){for(;null!==Pl&&!Ye();)Eu(Pl)}function Eu(e){var t=kl(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?Su(e):Pl=t,Cl.current=null}function Su(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=qs(n,t,Dl)))return void(Pl=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Ml=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Ml&&(Ml=5)}function Tu(e,t,n){var r=bt,i=_l.transition;try{_l.transition=null,bt=1,function(e,t,n,r){do{wu()}while(null!==Yl);if(0!==(6&Al))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ol&&(Pl=Ol=null,Rl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||ql||(ql=!0,Ou(tt,(function(){return wu(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=_l.transition,_l.transition=null;var s=bt;bt=1;var l=Al;Al|=4,Cl.current=null,function(e,t){if(ei=Kt,hr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(S){n=null;break e}var s=0,l=-1,u=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(l=s+i),f!==o||0!==r&&3!==f.nodeType||(u=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++c===i&&(l=s),h===o&&++d===r&&(u=s),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var g=v.memoizedProps,m=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ga(t.type,g),m);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var E=t.stateNode.containerInfo;1===E.nodeType?E.textContent="":9===E.nodeType&&E.documentElement&&E.removeChild(E.documentElement);break;default:throw Error(a(163))}}catch(S){Lu(t,t.return,S)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}v=nl,nl=!1}(e,n),ml(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,bl(n,e,i),Xe(),Al=l,bt=s,_l.transition=o}else e.current=n;if(ql&&(ql=!1,Yl=e,Xl=i),o=e.pendingLanes,0===o&&(Jl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),iu(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Vl)throw Vl=!1,e=Wl,Wl=null,e;0!==(1&Xl)&&0!==e.tag&&wu(),o=e.pendingLanes,0!==(1&o)?e===$l?Ql++:(Ql=0,$l=e):Ql=0,zi()}(e,t,n,r)}finally{_l.transition=i,bt=r}return null}function wu(){if(null!==Yl){var e=Et(Xl),t=_l.transition,n=bt;try{if(_l.transition=null,bt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,Xl=0,0!==(6&Al))throw Error(a(331));var i=Al;for(Al|=4,Zs=e.current;null!==Zs;){var o=Zs,s=o.child;if(0!==(16&Zs.flags)){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Zs=c;null!==Zs;){var d=Zs;switch(d.tag){case 0:case 11:case 15:rl(8,d,o)}var f=d.child;if(null!==f)f.return=d,Zs=f;else for(;null!==Zs;){var h=(d=Zs).sibling,p=d.return;if(ol(d),d===c){Zs=null;break}if(null!==h){h.return=p,Zs=h;break}Zs=p}}}var v=o.alternate;if(null!==v){var g=v.child;if(null!==g){v.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(null!==g)}}Zs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(o=Zs).flags))switch(o.tag){case 0:case 11:case 15:rl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Zs=y;break e}Zs=o.return}}var b=e.current;for(Zs=b;null!==Zs;){var E=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==E)E.return=s,Zs=E;else e:for(s=b;null!==Zs;){if(0!==(2048&(l=Zs).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(T){Lu(l,l.return,T)}if(l===s){Zs=null;break e}var S=l.sibling;if(null!==S){S.return=l.return,Zs=S;break e}Zs=l.return}}if(Al=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(T){}r=!0}return r}finally{bt=n,_l.transition=t}}return!1}function ku(e,t,n){e=Ia(e,t=ps(0,t=cs(n,t),1),1),t=tu(),null!==e&&(mt(e,1,t),iu(e,t))}function Lu(e,t,n){if(3===e.tag)ku(e,e,n);else for(;null!==t;){if(3===t.tag){ku(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Jl||!Jl.has(r))){t=Ia(t,e=vs(t,e=cs(n,e),1),1),e=tu(),null!==t&&(mt(t,1,e),iu(t,e));break}}t=t.return}}function xu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tu(),e.pingedLanes|=e.suspendedLanes&n,Ol===e&&(Rl&n)===n&&(4===Ml||3===Ml&&(130023424&Rl)===Rl&&500>Qe()-zl?hu(e,0):Bl|=n),iu(e,t)}function Cu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=tu();null!==(e=Aa(e,t))&&(mt(e,t,n),iu(e,n))}function _u(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cu(e,n)}function Au(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Cu(e,n)}function Ou(e,t){return Je(e,t)}function Pu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ru(e,t,n,r){return new Pu(e,t,n,r)}function Du(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Iu(e,t){var n=e.alternate;return null===n?((n=Ru(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mu(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Du(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case w:return Fu(n.children,i,o,t);case k:s=8,i|=8;break;case L:return(e=Ru(12,n,t,2|i)).elementType=L,e.lanes=o,e;case A:return(e=Ru(13,n,t,i)).elementType=A,e.lanes=o,e;case O:return(e=Ru(19,n,t,i)).elementType=O,e.lanes=o,e;case D:return Nu(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:s=10;break e;case C:s=9;break e;case _:s=11;break e;case P:s=14;break e;case R:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ru(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Fu(e,t,n,r){return(e=Ru(7,e,r,t)).lanes=n,e}function Nu(e,t,n,r){return(e=Ru(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function ju(e,t,n){return(e=Ru(6,e,null,t)).lanes=n,e}function Bu(e,t,n){return(t=Ru(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Gu(e,t,n,r,i,a,o,s,l){return e=new Uu(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ru(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pa(a),e}function zu(e){if(!e)return Ci;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Mi(e,n,t)}return t}function Hu(e,t,n,r,i,a,o,s,l){return(e=Gu(n,r,!0,e,0,a,0,s,l)).context=zu(null),n=e.current,(a=Da(r=tu(),i=nu(n))).callback=void 0!==t&&null!==t?t:null,Ia(n,a,i),e.current.lanes=i,mt(e,i,r),iu(e,r),e}function Ku(e,t,n,r){var i=t.current,a=tu(),o=nu(i);return n=zu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ia(i,t,o))&&(ru(e,i,o,a),Ma(e,i,o)),o}function Vu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Ju(e,t){Wu(e,t),(e=e.alternate)&&Wu(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)Es=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Es=!1,function(e,t,n){switch(t.tag){case 3:Os(t),ha();break;case 5:ao(t);break;case 1:Ri(t.type)&&Fi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;xi(ma,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(xi(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?js(e,t,n):(xi(so,1&so.current),null!==(e=Vs(e,t,n))?e.sibling:null);xi(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Hs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),xi(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Ls(e,t,n)}return Vs(e,t,n)}(e,t,n);Es=0!==(131072&e.flags)}else Es=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ks(e,t),e=t.pendingProps;var i=Pi(t,_i.current);ka(t,n),i=ko(null,t,r,e,i,n);var o=Lo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Fi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Pa(t),i.updater=Ga,t.stateNode=i,i._reactInternals=t,Va(t,r,e,n),t=As(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),Ss(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ks(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Du(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===_)return 11;if(e===P)return 14}return 2}(r),e=ga(r,e),i){case 0:t=Cs(null,t,r,e,n);break e;case 1:t=_s(null,t,r,e,n);break e;case 11:t=Ts(null,t,r,e,n);break e;case 14:t=ws(null,t,r,ga(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:ga(r,i),n);case 1:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:ga(r,i),n);case 3:e:{if(Os(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ra(e,t),Na(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ps(e,t,r,n,i=cs(Error(a(423)),t));break e}if(r!==i){t=Ps(e,t,r,n,i=cs(Error(a(424)),t));break e}for(ra=ui(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Qa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),r===i){t=Vs(e,t,n);break e}Ss(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ua(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),xs(e,t),Ss(e,t,s,n),t.child;case 6:return null===e&&ua(t),null;case 13:return js(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xa(t,null,r,n):Ss(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ga(r,i),n);case 7:return Ss(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ss(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,xi(ma,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ai.current){t=Vs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===o.tag){(u=Da(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),wa(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),wa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}Ss(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ka(t,n),r=r(i=La(i)),t.flags|=1,Ss(e,t,r,n),t.child;case 14:return i=ga(r=t.type,t.pendingProps),ws(e,t,r,i=ga(r.type,i),n);case 15:return ks(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ga(r,i),Ks(e,t),t.tag=1,Ri(r)?(e=!0,Fi(t)):e=!1,ka(t,n),Ha(t,r,i),Va(t,r,i,n),As(null,t,r,!0,e,n);case 19:return Hs(e,t,n);case 22:return Ls(e,t,n)}throw Error(a(156,t.tag))};var qu="function"===typeof reportError?reportError:function(e){console.error(e)};function Yu(e){this._internalRoot=e}function Xu(e){this._internalRoot=e}function Qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $u(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zu(){}function ec(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Vu(o);s.call(e)}}Ku(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Vu(o);a.call(e)}}var o=Hu(t,r,e,0,null,!1,0,"",Zu);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),du(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Vu(l);s.call(e)}}var l=Gu(e,0,!1,null,0,!1,0,"",Zu);return e._reactRootContainer=l,e[pi]=l.current,zr(8===e.nodeType?e.parentNode:e),du((function(){Ku(t,l,n,r)})),l}(n,t,e,i,r);return Vu(o)}Xu.prototype.render=Yu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Ku(e,t,null,null)},Xu.prototype.unmount=Yu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;du((function(){Ku(null,e,null,null)})),t[pi]=null}},Xu.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Nt(e)}},St=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),iu(t,Qe()),0===(6&Al)&&(Hl=Qe()+500,zi()))}break;case 13:du((function(){var t=Aa(e,1);if(null!==t){var n=tu();ru(t,e,1,n)}})),Ju(e,1)}},Tt=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)ru(t,e,134217728,tu());Ju(e,134217728)}},wt=function(e){if(13===e.tag){var t=nu(e),n=Aa(e,t);if(null!==n)ru(n,e,t,tu());Ju(e,t)}},kt=function(){return bt},Lt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Te=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Si(r);if(!i)throw Error(a(90));J(r),$(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},_e=cu,Ae=du;var tc={usingClientEntryPoint:!1,Events:[bi,Ei,Si,xe,Ce,cu]},nc={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),at=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qu(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:T,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qu(e))throw Error(a(299));var n=!1,r="",i=qu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Gu(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Yu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return du(e)},t.hydrate=function(e,t,n){if(!$u(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qu(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=qu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Hu(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xu(t)},t.render=function(e,t,n){if(!$u(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$u(e))throw Error(a(40));return!!e._reactRootContainer&&(du((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$u(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,a={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:a,_owner:s.current}}t.jsx=u,t.jsxs=u},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,g={};function m(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var E=b.prototype=new y;E.constructor=b,v(E,m.prototype),E.isPureReactComponent=!0;var S=Array.isArray,T=Object.prototype.hasOwnProperty,w={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function L(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)T.call(t,i)&&!k.hasOwnProperty(i)&&(a[i]=t[i]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:w.current}}function x(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===a?"."+_(l,0):a,S(o)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(x(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(l=0,a=""===a?".":a+":",S(e))for(var u=0;u<e.length;u++){var c=a+_(s=e[u],u);l+=A(s,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=A(s=s.value,t,i,c=a+_(s,u++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function O(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},D={transition:null},I={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:D,ReactCurrentOwner:w};t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!x(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=w.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)T.call(t,u)&&!k.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=L,t.createFactory=function(e){var t=L.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=x,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6598:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}function a(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}n.r(t),n.d(t,{__DO_NOT_USE__ActionTypes:function(){return d},applyMiddleware:function(){return b},bindActionCreators:function(){return m},combineReducers:function(){return v},compose:function(){return y},createStore:function(){return h},legacy_createStore:function(){return p}});var u="function"===typeof Symbol&&Symbol.observable||"@@observable",c=function(){return Math.random().toString(36).substring(7).split("").join(".")},d={INIT:"@@redux/INIT"+c(),REPLACE:"@@redux/REPLACE"+c(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+c()}};function f(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function h(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(l(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(l(1));return n(h)(e,t)}if("function"!==typeof e)throw new Error(l(2));var i=e,a=t,o=[],s=o,c=!1;function p(){s===o&&(s=o.slice())}function v(){if(c)throw new Error(l(3));return a}function g(e){if("function"!==typeof e)throw new Error(l(4));if(c)throw new Error(l(5));var t=!0;return p(),s.push(e),function(){if(t){if(c)throw new Error(l(6));t=!1,p();var n=s.indexOf(e);s.splice(n,1),o=null}}}function m(e){if(!f(e))throw new Error(l(7));if("undefined"===typeof e.type)throw new Error(l(8));if(c)throw new Error(l(9));try{c=!0,a=i(a,e)}finally{c=!1}for(var t=o=s,n=0;n<t.length;n++){(0,t[n])()}return e}return m({type:d.INIT}),(r={dispatch:m,subscribe:g,getState:v,replaceReducer:function(e){if("function"!==typeof e)throw new Error(l(10));i=e,m({type:d.REPLACE})}})[u]=function(){var e,t=g;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(l(11));function n(){e.next&&e.next(v())}return n(),{unsubscribe:t(n)}}})[u]=function(){return this},e},r}var p=h;function v(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:d.INIT}))throw new Error(l(12));if("undefined"===typeof n(void 0,{type:d.PROBE_UNKNOWN_ACTION()}))throw new Error(l(13))}))}(n)}catch(s){a=s}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},s=0;s<o.length;s++){var u=o[s],c=n[u],d=e[u],f=c(d,t);if("undefined"===typeof f){t&&t.type;throw new Error(l(14))}i[u]=f,r=r||f!==d}return(r=r||o.length!==Object.keys(e).length)?i:e}}function g(e,t){return function(){return t(e.apply(this,arguments))}}function m(e,t){if("function"===typeof e)return g(e,t);if("object"!==typeof e||null===e)throw new Error(l(16));var n={};for(var r in e){var i=e[r];"function"===typeof i&&(n[r]=g(i,t))}return n}function y(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function b(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(l(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=y.apply(void 0,a)(n.dispatch),s(s({},n),{},{dispatch:r})}}}},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>a(l,n))u<i&&0>a(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<i&&0>a(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,f=null,h=3,p=!1,v=!1,g=!1,m="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function E(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function S(e){if(g=!1,E(e),!v)if(null!==r(u))v=!0,D(T);else{var t=r(c);null!==t&&I(S,t.startTime-e)}}function T(e,n){v=!1,g&&(g=!1,y(x),x=-1),p=!0;var a=h;try{for(E(n),f=r(u);null!==f&&(!(f.expirationTime>n)||e&&!A());){var o=f.callback;if("function"===typeof o){f.callback=null,h=f.priorityLevel;var s=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(u)&&i(u),E(n)}else i(u);f=r(u)}if(null!==f)var l=!0;else{var d=r(c);null!==d&&I(S,d.startTime-n),l=!1}return l}finally{f=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,k=!1,L=null,x=-1,C=5,_=-1;function A(){return!(t.unstable_now()-_<C)}function O(){if(null!==L){var e=t.unstable_now();_=e;var n=!0;try{n=L(!0,e)}finally{n?w():(k=!1,L=null)}}else k=!1}if("function"===typeof b)w=function(){b(O)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,R=P.port2;P.port1.onmessage=O,w=function(){R.postMessage(null)}}else w=function(){m(O,0)};function D(e){L=e,k||(k=!0,w())}function I(e,n){x=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(T))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(u)&&e===r(c)&&(g?(y(x),x=-1):g=!0,I(S,a-o))):(e.sortIndex=s,n(u,e),v||p||(v=!0,D(T))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},5132:function(e,t,n){"use strict";var r=n(5263),i=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(3331)),o=i(n(6690)),s=i(n(9728)),l=n(6598),u=i(n(8518)),c=r(n(5726)),d=r(n(4534)),f=function(){function e(t){(0,o.default)(this,e),this.store=t||(0,l.createStore)(u.default),this.video=null,this.rootElement=null}return(0,s.default)(e,[{key:"getActions",value:function(){var e=this,t=this.store.dispatch,n=(0,a.default)({},c,d);return Object.keys(n).filter((function(e){return"function"===typeof n[e]})).reduce((function(r,i){var a;return r[i]=(a=n[i],function(){var n=a.apply(e,arguments);"undefined"!==typeof n&&t(n)}),r}),{})}},{key:"getState",value:function(){return this.store.getState()}},{key:"subscribeToStateChange",value:function(e,t){t||(t=this.getState.bind(this));var n=t();return this.store.subscribe((function(){var r=t();if(r!==n){var i=n;n=r,e(r,i)}}))}},{key:"subscribeToOperationStateChange",value:function(e){var t=this;return this.subscribeToStateChange(e,(function(){return t.getState().operation}))}},{key:"subscribeToPlayerStateChange",value:function(e){var t=this;return this.subscribeToStateChange(e,(function(){return t.getState().player}))}}]),e}();t.default=f},5726:function(e,t,n){"use strict";var r=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.handleFullscreenChange=function(e){return{type:o,isFullscreen:e}},t.activate=function(e){return{type:s,activity:e}},t.userActivate=function(e){return{type:l,activity:e}},t.play=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{action:"play",source:""};return this.video.play(),{type:a,operation:e}},t.pause=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{action:"pause",source:""};return this.video.pause(),{type:a,operation:e}},t.togglePlay=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{action:"toggle-play",source:""};return this.video.togglePlay(),{type:a,operation:e}},t.seek=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{action:"seek",source:""};return this.video.seek(e),{type:a,operation:t}},t.forward=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{action:"forward-".concat(e),source:""};return this.video.forward(e),{type:a,operation:t}},t.replay=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{action:"replay-".concat(e),source:""};return this.video.replay(e),{type:a,operation:t}},t.changeRate=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{action:"change-rate",source:""};return this.video.playbackRate=e,{type:a,operation:t}},t.changeVolume=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{action:"change-volume",source:""},n=e;e<0&&(n=0);e>1&&(n=1);return this.video.volume=n,{type:a,operation:t}},t.mute=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{action:e?"muted":"unmuted",source:""};return this.video.muted=e,{type:a,operation:t}},t.toggleFullscreen=function(e){if(i.default.enabled)return i.default.isFullscreen?i.default.exit():i.default.request(this.rootElement),{type:a,operation:{action:"toggle-fullscreen",source:""}};return{type:o,isFullscreen:!e.isFullscreen}},t.USER_ACTIVATE=t.PLAYER_ACTIVATE=t.FULLSCREEN_CHANGE=t.OPERATE=void 0;var i=r(n(4889)),a="video-react/OPERATE";t.OPERATE=a;var o="video-react/FULLSCREEN_CHANGE";t.FULLSCREEN_CHANGE=o;var s="video-react/PLAYER_ACTIVATE";t.PLAYER_ACTIVATE=s;var l="video-react/USER_ACTIVATE";t.USER_ACTIVATE=l},4534:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleLoadStart=function(e){return{type:n,videoProps:e}},t.handleCanPlay=function(e){return{type:r,videoProps:e}},t.handleWaiting=function(e){return{type:i,videoProps:e}},t.handleCanPlayThrough=function(e){return{type:a,videoProps:e}},t.handlePlaying=function(e){return{type:o,videoProps:e}},t.handlePlay=function(e){return{type:s,videoProps:e}},t.handlePause=function(e){return{type:l,videoProps:e}},t.handleEnd=function(e){return{type:u,videoProps:e}},t.handleSeeking=function(e){return{type:c,videoProps:e}},t.handleSeeked=function(e){return{type:d,videoProps:e}},t.handleDurationChange=function(e){return{type:p,videoProps:e}},t.handleTimeUpdate=function(e){return{type:v,videoProps:e}},t.handleVolumeChange=function(e){return{type:g,videoProps:e}},t.handleProgressChange=function(e){return{type:m,videoProps:e}},t.handleRateChange=function(e){return{type:y,videoProps:e}},t.handleSuspend=function(e){return{type:b,videoProps:e}},t.handleAbort=function(e){return{type:E,videoProps:e}},t.handleEmptied=function(e){return{type:S,videoProps:e}},t.handleStalled=function(e){return{type:T,videoProps:e}},t.handleLoadedMetaData=function(e){return{type:w,videoProps:e}},t.handleLoadedData=function(e){return{type:k,videoProps:e}},t.handleResize=function(e){return{type:L,videoProps:e}},t.handleError=function(e){return{type:x,videoProps:e}},t.handleSeekingTime=function(e){return{type:f,time:e}},t.handleEndSeeking=function(e){return{type:h,time:e}},t.activateTextTrack=function(e){return{type:C,textTrack:e}},t.ACTIVATE_TEXT_TRACK=t.ERROR=t.RESIZE=t.LOADED_DATA=t.LOADED_META_DATA=t.STALLED=t.EMPTIED=t.ABORT=t.SUSPEND=t.RATE_CHANGE=t.PROGRESS_CHANGE=t.VOLUME_CHANGE=t.TIME_UPDATE=t.DURATION_CHANGE=t.END_SEEKING=t.SEEKING_TIME=t.SEEKED=t.SEEKING=t.END=t.PAUSE=t.PLAY=t.PLAYING=t.CAN_PLAY_THROUGH=t.WAITING=t.CAN_PLAY=t.LOAD_START=void 0;var n="video-react/LOAD_START";t.LOAD_START=n;var r="video-react/CAN_PLAY";t.CAN_PLAY=r;var i="video-react/WAITING";t.WAITING=i;var a="video-react/CAN_PLAY_THROUGH";t.CAN_PLAY_THROUGH=a;var o="video-react/PLAYING";t.PLAYING=o;var s="video-react/PLAY";t.PLAY=s;var l="video-react/PAUSE";t.PAUSE=l;var u="video-react/END";t.END=u;var c="video-react/SEEKING";t.SEEKING=c;var d="video-react/SEEKED";t.SEEKED=d;var f="video-react/SEEKING_TIME";t.SEEKING_TIME=f;var h="video-react/END_SEEKING";t.END_SEEKING=h;var p="video-react/DURATION_CHANGE";t.DURATION_CHANGE=p;var v="video-react/TIME_UPDATE";t.TIME_UPDATE=v;var g="video-react/VOLUME_CHANGE";t.VOLUME_CHANGE=g;var m="video-react/PROGRESS_CHANGE";t.PROGRESS_CHANGE=m;var y="video-react/RATE_CHANGE";t.RATE_CHANGE=y;var b="video-react/SUSPEND";t.SUSPEND=b;var E="video-react/ABORT";t.ABORT=E;var S="video-react/EMPTIED";t.EMPTIED=S;var T="video-react/STALLED";t.STALLED=T;var w="video-react/LOADED_META_DATA";t.LOADED_META_DATA=w;var k="video-react/LOADED_DATA";t.LOADED_DATA=k;var L="video-react/RESIZE";t.RESIZE=L;var x="video-react/ERROR";t.ERROR=x;var C="video-react/ACTIVATE_TEXT_TRACK";t.ACTIVATE_TEXT_TRACK=C},9635:function(e,t,n){"use strict";var r=n(5263),i=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(6690)),o=i(n(9728)),s=i(n(4993)),l=i(n(3808)),u=i(n(6115)),c=i(n(1655)),d=i(n(2007)),f=r(n(2791)),h=i(n(1694)),p={manager:d.default.object,className:d.default.string},v=function(e){function t(e,n){var r;return(0,a.default)(this,t),(r=(0,s.default)(this,(0,l.default)(t).call(this,e,n))).timer=null,e.manager.subscribeToOperationStateChange(r.handleStateChange.bind((0,u.default)(r))),r.state={hidden:!0,operation:{}},r}return(0,c.default)(t,e),(0,o.default)(t,[{key:"handleStateChange",value:function(e,t){var n=this;e.count!==t.count&&"shortcut"===e.operation.source&&(this.timer&&(clearTimeout(this.timer),this.timer=null),this.setState({hidden:!1,count:e.count,operation:e.operation}),this.timer=setTimeout((function(){n.setState({hidden:!0}),n.timer=null}),500))}},{key:"render",value:function(){if("shortcut"!==this.state.operation.source)return null;var e=this.state.hidden?{display:"none"}:null;return f.default.createElement("div",{className:(0,h.default)({"video-react-bezel":!0,"video-react-bezel-animation":this.state.count%2===0,"video-react-bezel-animation-alt":this.state.count%2===1},this.props.className),style:e,role:"status","aria-label":this.state.operation.action},f.default.createElement("div",{className:(0,h.default)("video-react-bezel-icon","video-react-bezel-icon-".concat(this.state.operation.action))}))}}]),t}(f.Component);t.default=v,v.propTypes=p,v.displayName="Bezel"},8453:function(e,t,n){"use strict";var r=n(5263),i=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(6690)),o=i(n(9728)),s=i(n(4993)),l=i(n(3808)),u=i(n(6115)),c=i(n(1655)),d=i(n(2007)),f=r(n(2791)),h=i(n(1694)),p={actions:d.default.object,player:d.default.object,position:d.default.string,className:d.default.string},v=function(e){function t(e,n){var r;return(0,a.default)(this,t),(r=(0,s.default)(this,(0,l.default)(t).call(this,e,n))).handleClick=r.handleClick.bind((0,u.default)(r)),r}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){}},{key:"handleClick",value:function(){this.props.actions.play()}},{key:"render",value:function(){var e=this.props,t=e.player,n=e.position;return f.default.createElement("button",{className:(0,h.default)("video-react-button","video-react-big-play-button","video-react-big-play-button-".concat(n),this.props.className,{"big-play-button-hide":t.hasStarted||!t.currentSrc}),type:"button","aria-live":"polite",tabIndex:"0",onClick:this.handleClick},f.default.createElement("span",{className:"video-react-control-text"},"Play Video"))}}]),t}(f.Component);t.default=v,v.propTypes=p,v.defaultProps={position:"left"},v.displayName="BigPlayButton"},6656:function(e,t,n){"use strict";var r=n(5263),i=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(434)),o=i(n(3331)),s=i(n(6690)),l=i(n(9728)),u=i(n(4993)),c=i(n(3808)),d=i(n(6115)),f=i(n(1655)),h=i(n(2007)),p=r(n(2791)),v=i(n(1694)),g={tagName:h.default.string,onClick:h.default.func.isRequired,onFocus:h.default.func,onBlur:h.default.func,className:h.default.string},m=function(e){function t(e,n){var r;return(0,s.default)(this,t),(r=(0,u.default)(this,(0,c.default)(t).call(this,e,n))).handleClick=r.handleClick.bind((0,d.default)(r)),r.handleFocus=r.handleFocus.bind((0,d.default)(r)),r.handleBlur=r.handleBlur.bind((0,d.default)(r)),r.handleKeypress=r.handleKeypress.bind((0,d.default)(r)),r}return(0,f.default)(t,e),(0,l.default)(t,[{key:"componentWillUnmount",value:function(e){this.handleBlur(e)}},{key:"handleKeypress",value:function(e){32!==e.which&&13!==e.which||(e.preventDefault(),this.handleClick(e))}},{key:"handleClick",value:function(e){(0,this.props.onClick)(e)}},{key:"handleFocus",value:function(e){document.addEventListener("keydown",this.handleKeypress),this.props.onFocus&&this.props.onFocus(e)}},{key:"handleBlur",value:function(e){document.removeEventListener("keydown",this.handleKeypress),this.props.onBlur&&this.props.onBlur(e)}},{key:"render",value:function(){var e=this.props.tagName,t=(0,o.default)({},this.props);return delete t.tagName,delete t.className,p.default.createElement(e,(0,a.default)({className:(0,v.default)(this.props.className),role:"button",tabIndex:"0",onClick:this.handleClick,onFocus:this.handleFocus,onBlur:this.handleBlur},t))}}]),t}(p.Component);t.default=m,m.propTypes=g,m.defaultProps={tagName:"div"},m.displayName="ClickableComponent"},7374:function(e,t,n){"use strict";var r=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var i=r(n(2007)),a=r(n(2791)),o=r(n(1694)),s={player:i.default.object,className:i.default.string};function l(e){var t=e.player,n=e.className;return t.error?null:a.default.createElement("div",{className:(0,o.default)("video-react-loading-spinner",n)})}l.propTypes=s,l.displayName="LoadingSpinner"},8549:function(e,t,n){"use strict";var r=n(5263),i=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(3331)),o=i(n(8416)),s=i(n(215)),l=i(n(6690)),u=i(n(9728)),c=i(n(4993)),d=i(n(3808)),f=i(n(6115)),h=i(n(1655)),p=i(n(2007)),v=r(n(2791)),g=i(n(1694)),m=i(n(5132)),y=i(n(8453)),b=i(n(7374)),E=i(n(1517)),S=i(n(3289)),T=i(n(9635)),w=i(n(6300)),k=i(n(2613)),L=r(n(5695)),x=n(7463),C=n(4737),_=i(n(4889)),A={children:p.default.any,width:p.default.oneOfType([p.default.string,p.default.number]),height:p.default.oneOfType([p.default.string,p.default.number]),fluid:p.default.bool,muted:p.default.bool,playsInline:p.default.bool,aspectRatio:p.default.string,className:p.default.string,videoId:p.default.string,startTime:p.default.number,loop:p.default.bool,autoPlay:p.default.bool,src:p.default.string,poster:p.default.string,preload:p.default.oneOf(["auto","metadata","none"]),onLoadStart:p.default.func,onWaiting:p.default.func,onCanPlay:p.default.func,onCanPlayThrough:p.default.func,onPlaying:p.default.func,onEnded:p.default.func,onSeeking:p.default.func,onSeeked:p.default.func,onPlay:p.default.func,onPause:p.default.func,onProgress:p.default.func,onDurationChange:p.default.func,onError:p.default.func,onSuspend:p.default.func,onAbort:p.default.func,onEmptied:p.default.func,onStalled:p.default.func,onLoadedMetadata:p.default.func,onLoadedData:p.default.func,onTimeUpdate:p.default.func,onRateChange:p.default.func,onVolumeChange:p.default.func,store:p.default.object},O=function(e){function t(e){var n;return(0,l.default)(this,t),(n=(0,c.default)(this,(0,d.default)(t).call(this,e))).controlsHideTimer=null,n.video=null,n.manager=new m.default(e.store),n.actions=n.manager.getActions(),n.manager.subscribeToPlayerStateChange(n.handleStateChange.bind((0,f.default)(n))),n.getStyle=n.getStyle.bind((0,f.default)(n)),n.handleResize=n.handleResize.bind((0,f.default)(n)),n.getChildren=n.getChildren.bind((0,f.default)(n)),n.handleMouseMove=(0,C.throttle)(n.handleMouseMove.bind((0,f.default)(n)),250),n.handleMouseDown=n.handleMouseDown.bind((0,f.default)(n)),n.startControlsTimer=n.startControlsTimer.bind((0,f.default)(n)),n.handleFullScreenChange=n.handleFullScreenChange.bind((0,f.default)(n)),n.handleKeyDown=n.handleKeyDown.bind((0,f.default)(n)),n.handleFocus=n.handleFocus.bind((0,f.default)(n)),n.handleBlur=n.handleBlur.bind((0,f.default)(n)),n}return(0,h.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){this.handleResize(),window.addEventListener("resize",this.handleResize),_.default.addEventListener(this.handleFullScreenChange)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),_.default.removeEventListener(this.handleFullScreenChange),this.controlsHideTimer&&window.clearTimeout(this.controlsHideTimer)}},{key:"getDefaultChildren",value:function(e){var t=this;return[v.default.createElement(S.default,{ref:function(e){t.video=e,t.manager.video=t.video},key:"video",order:0},e),v.default.createElement(E.default,{key:"poster-image",order:1}),v.default.createElement(b.default,{key:"loading-spinner",order:2}),v.default.createElement(T.default,{key:"bezel",order:3}),v.default.createElement(y.default,{key:"big-play-button",order:4}),v.default.createElement(k.default,{key:"control-bar",order:5}),v.default.createElement(w.default,{key:"shortcut",order:99})]}},{key:"getChildren",value:function(e){e.className;var t=e.children,n=(0,s.default)(e,["className","children"]),r=v.default.Children.toArray(this.props.children).filter((function(e){return!(0,C.isVideoChild)(e)})),i=this.getDefaultChildren(t);return(0,C.mergeAndSortChildren)(i,r,n)}},{key:"setWidthOrHeight",value:function(e,t,n){var r;"string"===typeof n?"auto"===n?r="auto":n.match(/\d+%/)&&(r=n):"number"===typeof n&&(r="".concat(n,"px")),Object.assign(e,(0,o.default)({},t,r))}},{key:"getStyle",value:function(){var e,t,n=this.props,r=n.fluid,i=n.aspectRatio,a=n.height,o=n.width,s=this.manager.getState().player,l={},u=(void 0!==i&&"auto"!==i?i:s.videoWidth?"".concat(s.videoWidth,":").concat(s.videoHeight):"16:9").split(":"),c=u[1]/u[0];return e=void 0!==o?o:void 0!==a?a/c:s.videoWidth||400,t=void 0!==a?a:e*c,r?l.paddingTop="".concat(100*c,"%"):(this.setWidthOrHeight(l,"width",e),this.setWidthOrHeight(l,"height",t)),l}},{key:"getState",value:function(){return this.manager.getState()}},{key:"play",value:function(){this.video.play()}},{key:"pause",value:function(){this.video.pause()}},{key:"load",value:function(){this.video.load()}},{key:"addTextTrack",value:function(){var e;(e=this.video).addTextTrack.apply(e,arguments)}},{key:"canPlayType",value:function(){var e;(e=this.video).canPlayType.apply(e,arguments)}},{key:"seek",value:function(e){this.video.seek(e)}},{key:"forward",value:function(e){this.video.forward(e)}},{key:"replay",value:function(e){this.video.replay(e)}},{key:"toggleFullscreen",value:function(){this.video.toggleFullscreen()}},{key:"subscribeToStateChange",value:function(e){return this.manager.subscribeToPlayerStateChange(e)}},{key:"handleResize",value:function(){}},{key:"handleFullScreenChange",value:function(e){e.target===this.manager.rootElement&&this.actions.handleFullscreenChange(_.default.isFullscreen)}},{key:"handleMouseDown",value:function(){this.startControlsTimer()}},{key:"handleMouseMove",value:function(){this.startControlsTimer()}},{key:"handleKeyDown",value:function(){this.startControlsTimer()}},{key:"startControlsTimer",value:function(){var e=this,t=3e3;v.default.Children.forEach(this.props.children,(function(e){if(v.default.isValidElement(e)&&e.type===k.default){var n=e.props.autoHideTime;"number"===typeof n&&(t=n)}})),this.actions.userActivate(!0),clearTimeout(this.controlsHideTimer),this.controlsHideTimer=setTimeout((function(){e.actions.userActivate(!1)}),t)}},{key:"handleStateChange",value:function(e,t){e.isFullscreen!==t.isFullscreen&&(this.handleResize(),(0,x.focusNode)(this.manager.rootElement)),this.forceUpdate()}},{key:"handleFocus",value:function(){this.actions.activate(!0)}},{key:"handleBlur",value:function(){this.actions.activate(!1)}},{key:"render",value:function(){var e=this,t=this.props.fluid,n=this.manager.getState().player,r=n.paused,i=n.hasStarted,o=n.waiting,s=n.seeking,l=n.isFullscreen,u=n.userActivity,c=(0,a.default)({},this.props,{player:n,actions:this.actions,manager:this.manager,store:this.manager.store,video:this.video?this.video.video:null}),d=this.getChildren(c);return v.default.createElement("div",{className:(0,g.default)({"video-react-controls-enabled":!0,"video-react-has-started":i,"video-react-paused":r,"video-react-playing":!r,"video-react-waiting":o,"video-react-seeking":s,"video-react-fluid":t,"video-react-fullscreen":l,"video-react-user-inactive":!u,"video-react-user-active":u,"video-react-workinghover":!L.IS_IOS},"video-react",this.props.className),style:this.getStyle(),ref:function(t){e.manager.rootElement=t},role:"region",onTouchStart:this.handleMouseDown,onMouseDown:this.handleMouseDown,onTouchMove:this.handleMouseMove,onMouseMove:this.handleMouseMove,onKeyDown:this.handleKeyDown,onFocus:this.handleFocus,onBlur:this.handleBlur,tabIndex:"-1"},d)}},{key:"playbackRate",get:function(){return this.video.playbackRate},set:function(e){this.video.playbackRate=e}},{key:"muted",get:function(){return this.video.muted},set:function(e){this.video.muted=e}},{key:"volume",get:function(){return this.video.volume},set:function(e){this.video.volume=e}},{key:"videoWidth",get:function(){return this.video.videoWidth}},{key:"videoHeight",get:function(){return this.video.videoHeight}}]),t}(v.Component);t.default=O,O.contextTypes={store:p.default.object},O.propTypes=A,O.defaultProps={fluid:!0,muted:!1,playsInline:!1,preload:"auto",aspectRatio:"auto"},O.displayName="Player"},1517:function(e,t,n){"use strict";var r=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(2007)),a=r(n(2791)),o=r(n(1694)),s={poster:i.default.string,player:i.default.object,actions:i.default.object,className:i.default.string};function l(e){var t=e.poster,n=e.player,r=e.actions,i=e.className;return!t||n.hasStarted?null:a.default.createElement("div",{className:(0,o.default)("video-react-poster",i),style:{backgroundImage:'url("'.concat(t,'")')},onClick:function(){n.paused&&r.play()}})}l.propTypes=s,l.displayName="PosterImage";var u=l;t.default=u},6300:function(e,t,n){"use strict";var r=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(8416)),a=r(n(861)),o=r(n(6690)),s=r(n(9728)),l=r(n(4993)),u=r(n(3808)),c=r(n(6115)),d=r(n(1655)),f=n(2791),h=r(n(2007)),p=n(7463),v={clickable:h.default.bool,dblclickable:h.default.bool,manager:h.default.object,actions:h.default.object,player:h.default.object,shortcuts:h.default.array},g=function(e){function t(e,n){var r;return(0,o.default)(this,t),(r=(0,l.default)(this,(0,u.default)(t).call(this,e,n))).defaultShortcuts=[{keyCode:32,handle:r.togglePlay},{keyCode:75,handle:r.togglePlay},{keyCode:70,handle:r.toggleFullscreen},{keyCode:37,handle:function(e,t){e.hasStarted&&t.replay(5,{action:"replay-5",source:"shortcut"})}},{keyCode:74,handle:function(e,t){e.hasStarted&&t.replay(10,{action:"replay-10",source:"shortcut"})}},{keyCode:39,handle:function(e,t){e.hasStarted&&t.forward(5,{action:"forward-5",source:"shortcut"})}},{keyCode:76,handle:function(e,t){e.hasStarted&&t.forward(10,{action:"forward-10",source:"shortcut"})}},{keyCode:36,handle:function(e,t){e.hasStarted&&t.seek(0)}},{keyCode:35,handle:function(e,t){e.hasStarted&&t.seek(e.duration)}},{keyCode:38,handle:function(e,t){var n=e.volume+.05;n>1&&(n=1),t.changeVolume(n,{action:"volume-up",source:"shortcut"})}},{keyCode:40,handle:function(e,t){var n=e.volume-.05;n<0&&(n=0);var r=n>0?"volume-down":"volume-off";t.changeVolume(n,{action:r,source:"shortcut"})}},{keyCode:190,shift:!0,handle:function(e,t){var n=e.playbackRate;n>=1.5?n=2:n>=1.25?n=1.5:n>=1?n=1.25:n>=.5?n=1:n>=.25?n=.5:n>=0&&(n=.25),t.changeRate(n,{action:"fast-forward",source:"shortcut"})}},{keyCode:188,shift:!0,handle:function(e,t){var n=e.playbackRate;n<=.5?n=.25:n<=1?n=.5:n<=1.25?n=1:n<=1.5?n=1.25:n<=2&&(n=1.5),t.changeRate(n,{action:"fast-rewind",source:"shortcut"})}}],r.shortcuts=(0,a.default)(r.defaultShortcuts),r.mergeShortcuts=r.mergeShortcuts.bind((0,c.default)(r)),r.handleKeyPress=r.handleKeyPress.bind((0,c.default)(r)),r.handleClick=r.handleClick.bind((0,c.default)(r)),r.handleDoubleClick=r.handleDoubleClick.bind((0,c.default)(r)),r}return(0,d.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){this.mergeShortcuts(),document.addEventListener("keydown",this.handleKeyPress),document.addEventListener("click",this.handleClick),document.addEventListener("dblclick",this.handleDoubleClick)}},{key:"componentDidUpdate",value:function(e){e.shortcuts!==this.props.shortcuts&&this.mergeShortcuts()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyPress),document.removeEventListener("click",this.handleClick),document.removeEventListener("dblclick",this.handleDoubleClick)}},{key:"mergeShortcuts",value:function(){var e=function(e){var t=e.keyCode,n=void 0===t?0:t,r=e.ctrl,i=void 0!==r&&r,a=e.shift,o=void 0!==a&&a,s=e.alt,l=void 0!==s&&s;return"".concat(n,":").concat(i,":").concat(o,":").concat(l)},t=this.defaultShortcuts.reduce((function(t,n){return Object.assign(t,(0,i.default)({},e(n),n))}),{}),n=(this.props.shortcuts||[]).reduce((function(t,n){var r=n.keyCode,a=n.handle;return r&&"function"===typeof a?Object.assign(t,(0,i.default)({},e(n),n)):t}),t),r=function(e){var t=0;return["ctrl","shift","alt"].forEach((function(n){e[n]&&t++})),t};this.shortcuts=Object.keys(n).map((function(e){return n[e]})).sort((function(e,t){return r(t)-r(e)}))}},{key:"togglePlay",value:function(e,t){e.paused?t.play({action:"play",source:"shortcut"}):t.pause({action:"pause",source:"shortcut"})}},{key:"toggleFullscreen",value:function(e,t){t.toggleFullscreen(e)}},{key:"handleKeyPress",value:function(e){var t=this.props,n=t.player,r=t.actions;if(n.isActive&&(!document.activeElement||!((0,p.hasClass)(document.activeElement,"video-react-control")||(0,p.hasClass)(document.activeElement,"video-react-menu-button-active")||(0,p.hasClass)(document.activeElement,"video-react-big-play-button")))){var i=e.keyCode||e.which,a=e.ctrlKey||e.metaKey,o=e.shiftKey,s=e.altKey,l=this.shortcuts.filter((function(e){return!(!e.keyCode||e.keyCode-i!==0)&&!(void 0!==e.ctrl&&e.ctrl!==a||void 0!==e.shift&&e.shift!==o||void 0!==e.alt&&e.alt!==s)}))[0];l&&(l.handle(n,r),e.preventDefault())}}},{key:"canBeClicked",value:function(e,t){return!(!e.isActive||"VIDEO"!==t.target.nodeName||4!==e.readyState)}},{key:"handleClick",value:function(e){var t=this.props,n=t.player,r=t.actions,i=t.clickable;this.canBeClicked(n,e)&&i&&this.togglePlay(n,r)}},{key:"handleDoubleClick",value:function(e){var t=this.props,n=t.player,r=t.actions,i=t.dblclickable;this.canBeClicked(n,e)&&i&&this.toggleFullscreen(n,r)}},{key:"render",value:function(){return null}}]),t}(f.Component);t.default=g,g.propTypes=v,g.defaultProps={clickable:!0,dblclickable:!0},g.displayName="Shortcut"},6054:function(e,t,n){"use strict";var r=n(5263),i=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(6690)),o=i(n(9728)),s=i(n(4993)),l=i(n(3808)),u=i(n(6115)),c=i(n(1655)),d=i(n(2007)),f=r(n(2791)),h=i(n(1694)),p=r(n(7463)),v={className:d.default.string,onMouseDown:d.default.func,onMouseMove:d.default.func,stepForward:d.default.func,stepBack:d.default.func,sliderActive:d.default.func,sliderInactive:d.default.func,onMouseUp:d.default.func,onFocus:d.default.func,onBlur:d.default.func,onClick:d.default.func,getPercent:d.default.func,vertical:d.default.bool,children:d.default.node,label:d.default.string,valuenow:d.default.string,valuetext:d.default.string},g=function(e){function t(e,n){var r;return(0,a.default)(this,t),(r=(0,s.default)(this,(0,l.default)(t).call(this,e,n))).handleMouseDown=r.handleMouseDown.bind((0,u.default)(r)),r.handleMouseMove=r.handleMouseMove.bind((0,u.default)(r)),r.handleMouseUp=r.handleMouseUp.bind((0,u.default)(r)),r.handleFocus=r.handleFocus.bind((0,u.default)(r)),r.handleBlur=r.handleBlur.bind((0,u.default)(r)),r.handleClick=r.handleClick.bind((0,u.default)(r)),r.handleKeyPress=r.handleKeyPress.bind((0,u.default)(r)),r.stepForward=r.stepForward.bind((0,u.default)(r)),r.stepBack=r.stepBack.bind((0,u.default)(r)),r.calculateDistance=r.calculateDistance.bind((0,u.default)(r)),r.getProgress=r.getProgress.bind((0,u.default)(r)),r.renderChildren=r.renderChildren.bind((0,u.default)(r)),r.state={active:!1},r}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentWillUnmount",value:function(){document.removeEventListener("mousemove",this.handleMouseMove,!0),document.removeEventListener("mouseup",this.handleMouseUp,!0),document.removeEventListener("touchmove",this.handleMouseMove,!0),document.removeEventListener("touchend",this.handleMouseUp,!0),document.removeEventListener("keydown",this.handleKeyPress,!0)}},{key:"getProgress",value:function(){var e=this.props.getPercent;if(!e)return 0;var t=e();return("number"!==typeof t||t<0||t===1/0)&&(t=0),t}},{key:"handleMouseDown",value:function(e){var t=this.props.onMouseDown;document.addEventListener("mousemove",this.handleMouseMove,!0),document.addEventListener("mouseup",this.handleMouseUp,!0),document.addEventListener("touchmove",this.handleMouseMove,!0),document.addEventListener("touchend",this.handleMouseUp,!0),this.setState({active:!0}),this.props.sliderActive&&this.props.sliderActive(e),this.handleMouseMove(e),t&&t(e)}},{key:"handleMouseMove",value:function(e){var t=this.props.onMouseMove;t&&t(e)}},{key:"handleMouseUp",value:function(e){e.preventDefault();var t=this.props.onMouseUp;document.removeEventListener("mousemove",this.handleMouseMove,!0),document.removeEventListener("mouseup",this.handleMouseUp,!0),document.removeEventListener("touchmove",this.handleMouseMove,!0),document.removeEventListener("touchend",this.handleMouseUp,!0),this.setState({active:!1}),this.props.sliderInactive&&this.props.sliderInactive(e),t&&t(e)}},{key:"handleFocus",value:function(e){document.addEventListener("keydown",this.handleKeyPress,!0),this.props.onFocus&&this.props.onFocus(e)}},{key:"handleBlur",value:function(e){document.removeEventListener("keydown",this.handleKeyPress,!0),this.props.onBlur&&this.props.onBlur(e)}},{key:"handleClick",value:function(e){e.preventDefault(),this.props.onClick&&this.props.onClick(e)}},{key:"handleKeyPress",value:function(e){37===e.which||40===e.which?(e.preventDefault(),e.stopPropagation(),this.stepBack()):38!==e.which&&39!==e.which||(e.preventDefault(),e.stopPropagation(),this.stepForward())}},{key:"stepForward",value:function(){this.props.stepForward&&this.props.stepForward()}},{key:"stepBack",value:function(){this.props.stepBack&&this.props.stepBack()}},{key:"calculateDistance",value:function(e){var t=this.slider,n=p.getPointerPosition(t,e);return this.props.vertical?n.y:n.x}},{key:"renderChildren",value:function(){var e=this.getProgress(),t="".concat((100*e).toFixed(2),"%");return f.default.Children.map(this.props.children,(function(n){return f.default.cloneElement(n,{progress:e,percentage:t})}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.vertical,r=t.label,i=t.valuenow,a=t.valuetext;return f.default.createElement("div",{className:(0,h.default)(this.props.className,{"video-react-slider-vertical":n,"video-react-slider-horizontal":!n,"video-react-sliding":this.state.active},"video-react-slider"),ref:function(t){e.slider=t},tabIndex:"0",role:"slider",onMouseDown:this.handleMouseDown,onTouchStart:this.handleMouseDown,onFocus:this.handleFocus,onBlur:this.handleBlur,onClick:this.handleClick,"aria-label":r||"","aria-valuenow":i||"","aria-valuetext":a||"","aria-valuemin":0,"aria-valuemax":100},this.renderChildren())}}]),t}(f.Component);t.default=g,g.propTypes=v,g.displayName="Slider"},3289:function(e,t,n){"use strict";var r=n(5263),i=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(3331)),o=i(n(6690)),s=i(n(9728)),l=i(n(4993)),u=i(n(3808)),c=i(n(6115)),d=i(n(1655)),f=i(n(2007)),h=r(n(2791)),p=i(n(1694)),v=n(4737),g={actions:f.default.object,player:f.default.object,children:f.default.any,startTime:f.default.number,loop:f.default.bool,muted:f.default.bool,autoPlay:f.default.bool,playsInline:f.default.bool,src:f.default.string,poster:f.default.string,className:f.default.string,preload:f.default.oneOf(["auto","metadata","none"]),crossOrigin:f.default.string,onLoadStart:f.default.func,onWaiting:f.default.func,onCanPlay:f.default.func,onCanPlayThrough:f.default.func,onPlaying:f.default.func,onEnded:f.default.func,onSeeking:f.default.func,onSeeked:f.default.func,onPlay:f.default.func,onPause:f.default.func,onProgress:f.default.func,onDurationChange:f.default.func,onError:f.default.func,onSuspend:f.default.func,onAbort:f.default.func,onEmptied:f.default.func,onStalled:f.default.func,onLoadedMetadata:f.default.func,onLoadedData:f.default.func,onTimeUpdate:f.default.func,onRateChange:f.default.func,onVolumeChange:f.default.func,onResize:f.default.func},m=function(e){function t(e){var n;return(0,o.default)(this,t),(n=(0,l.default)(this,(0,u.default)(t).call(this,e))).video=null,n.play=n.play.bind((0,c.default)(n)),n.pause=n.pause.bind((0,c.default)(n)),n.seek=n.seek.bind((0,c.default)(n)),n.forward=n.forward.bind((0,c.default)(n)),n.replay=n.replay.bind((0,c.default)(n)),n.toggleFullscreen=n.toggleFullscreen.bind((0,c.default)(n)),n.getProperties=n.getProperties.bind((0,c.default)(n)),n.renderChildren=n.renderChildren.bind((0,c.default)(n)),n.handleLoadStart=n.handleLoadStart.bind((0,c.default)(n)),n.handleCanPlay=n.handleCanPlay.bind((0,c.default)(n)),n.handleCanPlayThrough=n.handleCanPlayThrough.bind((0,c.default)(n)),n.handlePlay=n.handlePlay.bind((0,c.default)(n)),n.handlePlaying=n.handlePlaying.bind((0,c.default)(n)),n.handlePause=n.handlePause.bind((0,c.default)(n)),n.handleEnded=n.handleEnded.bind((0,c.default)(n)),n.handleWaiting=n.handleWaiting.bind((0,c.default)(n)),n.handleSeeking=n.handleSeeking.bind((0,c.default)(n)),n.handleSeeked=n.handleSeeked.bind((0,c.default)(n)),n.handleFullscreenChange=n.handleFullscreenChange.bind((0,c.default)(n)),n.handleError=n.handleError.bind((0,c.default)(n)),n.handleSuspend=n.handleSuspend.bind((0,c.default)(n)),n.handleAbort=n.handleAbort.bind((0,c.default)(n)),n.handleEmptied=n.handleEmptied.bind((0,c.default)(n)),n.handleStalled=n.handleStalled.bind((0,c.default)(n)),n.handleLoadedMetaData=n.handleLoadedMetaData.bind((0,c.default)(n)),n.handleLoadedData=n.handleLoadedData.bind((0,c.default)(n)),n.handleTimeUpdate=n.handleTimeUpdate.bind((0,c.default)(n)),n.handleRateChange=n.handleRateChange.bind((0,c.default)(n)),n.handleVolumeChange=n.handleVolumeChange.bind((0,c.default)(n)),n.handleDurationChange=n.handleDurationChange.bind((0,c.default)(n)),n.handleProgress=(0,v.throttle)(n.handleProgress.bind((0,c.default)(n)),250),n.handleKeypress=n.handleKeypress.bind((0,c.default)(n)),n.handleTextTrackChange=n.handleTextTrackChange.bind((0,c.default)(n)),n}return(0,d.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){this.forceUpdate(),this.video&&this.video.textTracks&&(this.video.textTracks.onaddtrack=this.handleTextTrackChange,this.video.textTracks.onremovetrack=this.handleTextTrackChange)}},{key:"getProperties",value:function(){var e=this;return this.video?v.mediaProperties.reduce((function(t,n){return t[n]=e.video[n],t}),{}):null}},{key:"handleTextTrackChange",value:function(){var e=this.props,t=e.actions,n=e.player;if(this.video&&this.video.textTracks){var r=Array.from(this.video.textTracks).find((function(e){return"showing"===e.mode}));r!==n.activeTextTrack&&t.activateTextTrack(r)}}},{key:"play",value:function(){var e=this.video.play();void 0!==e&&e.catch((function(){})).then((function(){}))}},{key:"pause",value:function(){var e=this.video.pause();void 0!==e&&e.catch((function(){})).then((function(){}))}},{key:"load",value:function(){this.video.load()}},{key:"addTextTrack",value:function(){var e;(e=this.video).addTextTrack.apply(e,arguments)}},{key:"canPlayType",value:function(){var e;(e=this.video).canPlayType.apply(e,arguments)}},{key:"togglePlay",value:function(){this.video.paused?this.play():this.pause()}},{key:"seek",value:function(e){try{this.video.currentTime=e}catch(t){}}},{key:"forward",value:function(e){this.seek(this.video.currentTime+e)}},{key:"replay",value:function(e){this.forward(-e)}},{key:"toggleFullscreen",value:function(){var e=this.props,t=e.player;e.actions.toggleFullscreen(t)}},{key:"handleLoadStart",value:function(){var e=this.props,t=e.actions,n=e.onLoadStart;t.handleLoadStart(this.getProperties()),n&&n.apply(void 0,arguments)}},{key:"handleCanPlay",value:function(){var e=this.props,t=e.actions,n=e.onCanPlay;t.handleCanPlay(this.getProperties()),n&&n.apply(void 0,arguments)}},{key:"handleCanPlayThrough",value:function(){var e=this.props,t=e.actions,n=e.onCanPlayThrough;t.handleCanPlayThrough(this.getProperties()),n&&n.apply(void 0,arguments)}},{key:"handlePlaying",value:function(){var e=this.props,t=e.actions,n=e.onPlaying;t.handlePlaying(this.getProperties()),n&&n.apply(void 0,arguments)}},{key:"handlePlay",value:function(){var e=this.props,t=e.actions,n=e.onPlay;t.handlePlay(this.getProperties()),n&&n.apply(void 0,arguments)}},{key:"handlePause",value:function(){var e=this.props,t=e.actions,n=e.onPause;t.handlePause(this.getProperties()),n&&n.apply(void 0,arguments)}},{key:"handleDurationChange",value:function(){var e=this.props,t=e.actions,n=e.onDurationChange;t.handleDurationChange(this.getProperties()),n&&n.apply(void 0,arguments)}},{key:"handleProgress",value:function(){var e=this.props,t=e.actions,n=e.onProgress;this.video&&t.handleProgressChange(this.getProperties()),n&&n.apply(void 0,arguments)}},{key:"handleEnded",value:function(){var e=this.props,t=e.loop,n=e.player,r=e.actions,i=e.onEnded;t?(this.seek(0),this.play()):n.paused||this.pause(),r.handleEnd(this.getProperties()),i&&i.apply(void 0,arguments)}},{key:"handleWaiting",value:function(){var e=this.props,t=e.actions,n=e.onWaiting;t.handleWaiting(this.getProperties()),n&&n.apply(void 0,arguments)}},{key:"handleSeeking",value:function(){var e=this.props,t=e.actions,n=e.onSeeking;t.handleSeeking(this.getProperties()),n&&n.apply(void 0,arguments)}},{key:"handleSeeked",value:function(){var e=this.props,t=e.actions,n=e.onSeeked;t.handleSeeked(this.getProperties()),n&&n.apply(void 0,arguments)}},{key:"handleFullscreenChange",value:function(){}},{key:"handleSuspend",value:function(){var e=this.props,t=e.actions,n=e.onSuspend;t.handleSuspend(this.getProperties()),n&&n.apply(void 0,arguments)}},{key:"handleAbort",value:function(){var e=this.props,t=e.actions,n=e.onAbort;t.handleAbort(this.getProperties()),n&&n.apply(void 0,arguments)}},{key:"handleEmptied",value:function(){var e=this.props,t=e.actions,n=e.onEmptied;t.handleEmptied(this.getProperties()),n&&n.apply(void 0,arguments)}},{key:"handleStalled",value:function(){var e=this.props,t=e.actions,n=e.onStalled;t.handleStalled(this.getProperties()),n&&n.apply(void 0,arguments)}},{key:"handleLoadedMetaData",value:function(){var e=this.props,t=e.actions,n=e.onLoadedMetadata,r=e.startTime;r&&r>0&&(this.video.currentTime=r),t.handleLoadedMetaData(this.getProperties()),n&&n.apply(void 0,arguments)}},{key:"handleLoadedData",value:function(){var e=this.props,t=e.actions,n=e.onLoadedData;t.handleLoadedData(this.getProperties()),n&&n.apply(void 0,arguments)}},{key:"handleTimeUpdate",value:function(){var e=this.props,t=e.actions,n=e.onTimeUpdate;t.handleTimeUpdate(this.getProperties()),n&&n.apply(void 0,arguments)}},{key:"handleRateChange",value:function(){var e=this.props,t=e.actions,n=e.onRateChange;t.handleRateChange(this.getProperties()),n&&n.apply(void 0,arguments)}},{key:"handleVolumeChange",value:function(){var e=this.props,t=e.actions,n=e.onVolumeChange;t.handleVolumeChange(this.getProperties()),n&&n.apply(void 0,arguments)}},{key:"handleError",value:function(){var e=this.props,t=e.actions,n=e.onError;t.handleError(this.getProperties()),n&&n.apply(void 0,arguments)}},{key:"handleResize",value:function(){var e=this.props,t=e.actions,n=e.onResize;t.handleResize(this.getProperties()),n&&n.apply(void 0,arguments)}},{key:"handleKeypress",value:function(){}},{key:"renderChildren",value:function(){var e=this,t=(0,a.default)({},this.props,{video:this.video});return this.video?h.default.Children.toArray(this.props.children).filter(v.isVideoChild).map((function(n){var r;if("string"===typeof n.type){if("source"===n.type){var i=(r=(0,a.default)({},n.props)).onError;r.onError=function(){i&&i.apply(void 0,arguments),e.handleError.apply(e,arguments)}}}else r=t;return h.default.cloneElement(n,r)})):null}},{key:"render",value:function(){var e=this,t=this.props,n=t.loop,r=t.poster,i=t.preload,a=t.src,o=t.autoPlay,s=t.playsInline,l=t.muted,u=t.crossOrigin,c=t.videoId;return h.default.createElement("video",{className:(0,p.default)("video-react-video",this.props.className),id:c,crossOrigin:u,ref:function(t){e.video=t},muted:l,preload:i,loop:n,playsInline:s,autoPlay:o,poster:r,src:a,onLoadStart:this.handleLoadStart,onWaiting:this.handleWaiting,onCanPlay:this.handleCanPlay,onCanPlayThrough:this.handleCanPlayThrough,onPlaying:this.handlePlaying,onEnded:this.handleEnded,onSeeking:this.handleSeeking,onSeeked:this.handleSeeked,onPlay:this.handlePlay,onPause:this.handlePause,onProgress:this.handleProgress,onDurationChange:this.handleDurationChange,onError:this.handleError,onSuspend:this.handleSuspend,onAbort:this.handleAbort,onEmptied:this.handleEmptied,onStalled:this.handleStalled,onLoadedMetadata:this.handleLoadedMetaData,onLoadedData:this.handleLoadedData,onTimeUpdate:this.handleTimeUpdate,onRateChange:this.handleRateChange,onVolumeChange:this.handleVolumeChange,tabIndex:"-1"},this.renderChildren())}},{key:"playbackRate",get:function(){return this.video.playbackRate},set:function(e){this.video.playbackRate=e}},{key:"muted",get:function(){return this.video.muted},set:function(e){this.video.muted=e}},{key:"volume",get:function(){return this.video.volume},set:function(e){e>1&&(e=1),e<0&&(e=0),this.video.volume=e}},{key:"videoWidth",get:function(){return this.video.videoWidth}},{key:"videoHeight",get:function(){return this.video.videoHeight}}]),t}(h.Component);t.default=m,m.propTypes=g,m.displayName="Video"},7626:function(e,t,n){"use strict";var r=n(5263),i=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(6690)),o=i(n(9728)),s=i(n(4993)),l=i(n(3808)),u=i(n(6115)),c=i(n(1655)),d=i(n(2007)),f=r(n(2791)),h=i(n(1694)),p=i(n(6143)),v={player:d.default.object,actions:d.default.object,className:d.default.string,offMenuText:d.default.string,showOffMenu:d.default.bool,kinds:d.default.array},g=function(e){function t(e,n){var r;return(0,a.default)(this,t),(r=(0,s.default)(this,(0,l.default)(t).call(this,e,n))).getTextTrackItems=r.getTextTrackItems.bind((0,u.default)(r)),r.updateState=r.updateState.bind((0,u.default)(r)),r.handleSelectItem=r.handleSelectItem.bind((0,u.default)(r)),r.state=r.getTextTrackItems(),r}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidUpdate",value:function(){this.updateState()}},{key:"getTextTrackItems",value:function(){var e=this.props,t=e.kinds,n=e.player,r=e.offMenuText,i=e.showOffMenu,a=n.textTracks,o=n.activeTextTrack,s={items:[],selectedIndex:0},l=Array.from(a||[]);return 0===l.length||(i&&s.items.push({label:r||"Off",value:null}),l.forEach((function(e){t.length&&!t.includes(e.kind)||s.items.push({label:e.label,value:e.language})})),s.selectedIndex=s.items.findIndex((function(e){return o&&o.language===e.value})),-1===s.selectedIndex&&(s.selectedIndex=0)),s}},{key:"updateState",value:function(){var e=this.getTextTrackItems();e.selectedIndex===this.state.selectedIndex&&this.textTrackItemsAreEqual(e.items,this.state.items)||this.setState(e)}},{key:"textTrackItemsAreEqual",value:function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!t[n]||e[n].label!==t[n].label||e[n].value!==t[n].value)return!1;return!0}},{key:"handleSelectItem",value:function(e){var t=this.props,n=t.player,r=t.actions,i=t.showOffMenu,a=n.textTracks;Array.from(a).forEach((function(t,n){e===(i?n+1:n)?(t.mode="showing",r.activateTextTrack(t)):t.mode="hidden"}))}},{key:"render",value:function(){var e=this.state,t=e.items,n=e.selectedIndex;return f.default.createElement(p.default,{className:(0,h.default)("video-react-closed-caption",this.props.className),onSelectItem:this.handleSelectItem,items:t,selectedIndex:n},f.default.createElement("span",{className:"video-react-control-text"},"Closed Caption"))}}]),t}(f.Component);g.propTypes=v,g.defaultProps={offMenuText:"Off",showOffMenu:!0,kinds:["captions","subtitles"]},g.displayName="ClosedCaptionButton";var m=g;t.default=m},2613:function(e,t,n){"use strict";var r=n(5263),i=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(215)),o=i(n(6690)),s=i(n(9728)),l=i(n(4993)),u=i(n(3808)),c=i(n(6115)),d=i(n(1655)),f=i(n(2007)),h=r(n(2791)),p=i(n(1694)),v=i(n(5749)),g=i(n(6441)),m=i(n(1389)),y=i(n(6062)),b=i(n(9478)),E=i(n(5683)),S=i(n(906)),T=i(n(2561)),w=i(n(4976)),k=i(n(4021)),L=i(n(5444)),x=n(4737),C={children:f.default.any,autoHide:f.default.bool,autoHideTime:f.default.number,disableDefaultControls:f.default.bool,disableCompletely:f.default.bool,className:f.default.string},_=function(e){function t(e){var n;return(0,o.default)(this,t),(n=(0,l.default)(this,(0,u.default)(t).call(this,e))).getDefaultChildren=n.getDefaultChildren.bind((0,c.default)(n)),n.getFullChildren=n.getFullChildren.bind((0,c.default)(n)),n}return(0,d.default)(t,e),(0,s.default)(t,[{key:"getDefaultChildren",value:function(){return[h.default.createElement(g.default,{key:"play-toggle",order:1}),h.default.createElement(k.default,{key:"volume-menu-button",order:4}),h.default.createElement(S.default,{key:"current-time-display",order:5.1}),h.default.createElement(w.default,{key:"time-divider",order:5.2}),h.default.createElement(T.default,{key:"duration-display",order:5.3}),h.default.createElement(v.default,{key:"progress-control",order:6}),h.default.createElement(b.default,{key:"fullscreen-toggle",order:8})]}},{key:"getFullChildren",value:function(){return[h.default.createElement(g.default,{key:"play-toggle",order:1}),h.default.createElement(y.default,{key:"replay-control",order:2}),h.default.createElement(m.default,{key:"forward-control",order:3}),h.default.createElement(k.default,{key:"volume-menu-button",order:4}),h.default.createElement(S.default,{key:"current-time-display",order:5}),h.default.createElement(w.default,{key:"time-divider",order:6}),h.default.createElement(T.default,{key:"duration-display",order:7}),h.default.createElement(v.default,{key:"progress-control",order:8}),h.default.createElement(E.default,{key:"remaining-time-display",order:9}),h.default.createElement(L.default,{rates:[1,1.25,1.5,2],key:"playback-rate",order:10}),h.default.createElement(b.default,{key:"fullscreen-toggle",order:11})]}},{key:"getChildren",value:function(){var e=h.default.Children.toArray(this.props.children),t=this.props.disableDefaultControls?[]:this.getDefaultChildren(),n=this.props,r=(n.className,(0,a.default)(n,["className"]));return(0,x.mergeAndSortChildren)(t,e,r)}},{key:"render",value:function(){var e=this.props,t=e.autoHide,n=e.className,r=e.disableCompletely,i=this.getChildren();return r?null:h.default.createElement("div",{className:(0,p.default)("video-react-control-bar",{"video-react-control-bar-auto-hide":t},n)},i)}}]),t}(h.Component);t.default=_,_.propTypes=C,_.defaultProps={autoHide:!0,disableCompletely:!1},_.displayName="ControlBar"},1389:function(e,t,n){"use strict";var r=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(0,r(n(3545)).default)("forward");i.displayName="ForwardControl";var a=i;t.default=a},3545:function(e,t,n){"use strict";var r=n(5263),i=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(6690)),o=i(n(9728)),s=i(n(4993)),l=i(n(3808)),u=i(n(6115)),c=i(n(1655)),d=i(n(2007)),f=r(n(2791)),h={actions:d.default.object,className:d.default.string,seconds:d.default.oneOf([5,10,30])},p={seconds:10};t.default=function(e){var t=function(t){function n(e,t){var r;return(0,a.default)(this,n),(r=(0,s.default)(this,(0,l.default)(n).call(this,e,t))).handleClick=r.handleClick.bind((0,u.default)(r)),r}return(0,c.default)(n,t),(0,o.default)(n,[{key:"handleClick",value:function(){var t=this.props,n=t.actions,r=t.seconds;"forward"===e?n.forward(r):n.replay(r)}},{key:"render",value:function(){var t=this,n=this.props,r=n.seconds,i=n.className,a=["video-react-control","video-react-button","video-react-icon"];return a.push("video-react-icon-".concat(e,"-").concat(r),"video-react-".concat(e,"-control")),i&&a.push(i),f.default.createElement("button",{ref:function(e){t.button=e},className:a.join(" "),type:"button",onClick:this.handleClick},f.default.createElement("span",{className:"video-react-control-text"},"".concat(e," ").concat(r," seconds")))}}]),n}(f.Component);return t.propTypes=h,t.defaultProps=p,t}},9478:function(e,t,n){"use strict";var r=n(5263),i=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(6690)),o=i(n(9728)),s=i(n(4993)),l=i(n(3808)),u=i(n(6115)),c=i(n(1655)),d=i(n(2007)),f=r(n(2791)),h=i(n(1694)),p={actions:d.default.object,player:d.default.object,className:d.default.string},v=function(e){function t(e,n){var r;return(0,a.default)(this,t),(r=(0,s.default)(this,(0,l.default)(t).call(this,e,n))).handleClick=r.handleClick.bind((0,u.default)(r)),r}return(0,c.default)(t,e),(0,o.default)(t,[{key:"handleClick",value:function(){var e=this.props,t=e.player;e.actions.toggleFullscreen(t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.player,r=t.className;return f.default.createElement("button",{className:(0,h.default)(r,{"video-react-icon-fullscreen-exit":n.isFullscreen,"video-react-icon-fullscreen":!n.isFullscreen},"video-react-fullscreen-control video-react-control video-react-button video-react-icon"),ref:function(t){e.button=t},type:"button",tabIndex:"0",onClick:this.handleClick},f.default.createElement("span",{className:"video-react-control-text"},"Non-Fullscreen"))}}]),t}(f.Component);t.default=v,v.propTypes=p,v.displayName="FullscreenToggle"},7435:function(e,t,n){"use strict";var r=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var i=r(n(2007)),a=r(n(2791)),o=r(n(1694)),s={duration:i.default.number,buffered:i.default.object,className:i.default.string};function l(e){var t=e.buffered,n=e.duration,r=e.className;if(!t||!t.length)return null;var i=t.end(t.length-1),s={};function l(e,t){var n=e/t||0;return"".concat(100*(n>=1?1:n),"%")}i>n&&(i=n),s.width=l(i,n);for(var u=[],c=0;c<t.length;c++){var d=t.start(c),f=t.end(c),h=a.default.createElement("div",{style:{left:l(d,i),width:l(f-d,i)},key:"part-".concat(c)});u.push(h)}return 0===u.length&&(u=null),a.default.createElement("div",{style:s,className:(0,o.default)("video-react-load-progress",r)},a.default.createElement("span",{className:"video-react-control-text"},"Loaded: 0%"),u)}l.propTypes=s,l.displayName="LoadProgressBar"},979:function(e,t,n){"use strict";var r=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(2007)),a=r(n(2791)),o=r(n(1694)),s=n(4737);function l(e){var t=e.duration,n=e.mouseTime,r=e.className,i=e.text;if(!n.time)return null;var l=i||(0,s.formatTime)(n.time,t);return a.default.createElement("div",{className:(0,o.default)("video-react-mouse-display",r),style:{left:"".concat(n.position,"px")},"data-current-time":l})}l.propTypes={duration:i.default.number,mouseTime:i.default.object,className:i.default.string},l.displayName="MouseTimeDisplay";var u=l;t.default=u},1895:function(e,t,n){"use strict";var r=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var i=r(n(2007)),a=r(n(2791)),o=r(n(1694)),s=n(4737),l={currentTime:i.default.number,duration:i.default.number,percentage:i.default.string,className:i.default.string};function u(e){var t=e.currentTime,n=e.duration,r=e.percentage,i=e.className;return a.default.createElement("div",{"data-current-time":(0,s.formatTime)(t,n),className:(0,o.default)("video-react-play-progress video-react-slider-bar",i),style:{width:r}},a.default.createElement("span",{className:"video-react-control-text"},"Progress: ".concat(r)))}u.propTypes=l,u.displayName="PlayProgressBar"},6441:function(e,t,n){"use strict";var r=n(5263),i=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(6690)),o=i(n(9728)),s=i(n(4993)),l=i(n(3808)),u=i(n(6115)),c=i(n(1655)),d=i(n(2007)),f=r(n(2791)),h=i(n(1694)),p={actions:d.default.object,player:d.default.object,className:d.default.string},v=function(e){function t(e,n){var r;return(0,a.default)(this,t),(r=(0,s.default)(this,(0,l.default)(t).call(this,e,n))).handleClick=r.handleClick.bind((0,u.default)(r)),r}return(0,c.default)(t,e),(0,o.default)(t,[{key:"handleClick",value:function(){var e=this.props,t=e.actions;e.player.paused?t.play():t.pause()}},{key:"render",value:function(){var e=this,t=this.props,n=t.player,r=t.className,i=n.paused?"Play":"Pause";return f.default.createElement("button",{ref:function(t){e.button=t},className:(0,h.default)(r,{"video-react-play-control":!0,"video-react-control":!0,"video-react-button":!0,"video-react-paused":n.paused,"video-react-playing":!n.paused}),type:"button",tabIndex:"0",onClick:this.handleClick},f.default.createElement("span",{className:"video-react-control-text"},i))}}]),t}(f.Component);t.default=v,v.propTypes=p,v.displayName="PlayToggle"},40:function(e,t,n){"use strict";var r=n(5263),i=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(6690)),o=i(n(9728)),s=i(n(4993)),l=i(n(3808)),u=i(n(1655)),c=r(n(2791)),d=i(n(5444)),f=n(4737),h=function(e){function t(e,n){var r;return(0,a.default)(this,t),r=(0,s.default)(this,(0,l.default)(t).call(this,e,n)),(0,f.deprecatedWarning)("PlaybackRate","PlaybackRateMenuButton"),r}return(0,u.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return c.default.createElement(d.default,this.props)}}]),t}(c.Component);t.default=h,h.displayName="PlaybackRate"},5444:function(e,t,n){"use strict";var r=n(5263),i=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(6690)),o=i(n(9728)),s=i(n(4993)),l=i(n(3808)),u=i(n(6115)),c=i(n(1655)),d=i(n(2007)),f=r(n(2791)),h=i(n(1694)),p=i(n(6143)),v={player:d.default.object,actions:d.default.object,rates:d.default.array,className:d.default.string},g=function(e){function t(e,n){var r;return(0,a.default)(this,t),(r=(0,s.default)(this,(0,l.default)(t).call(this,e,n))).handleSelectItem=r.handleSelectItem.bind((0,u.default)(r)),r}return(0,c.default)(t,e),(0,o.default)(t,[{key:"handleSelectItem",value:function(e){var t=this.props,n=t.rates,r=t.actions;e>=0&&e<n.length&&r.changeRate(n[e])}},{key:"render",value:function(){var e=this.props,t=e.rates,n=e.player,r=t.map((function(e){return{label:"".concat(e,"x"),value:e}})),i=t.indexOf(n.playbackRate)||0;return f.default.createElement(p.default,{className:(0,h.default)("video-react-playback-rate",this.props.className),onSelectItem:this.handleSelectItem,items:r,selectedIndex:i},f.default.createElement("span",{className:"video-react-control-text"},"Playback Rate"),f.default.createElement("div",{className:"video-react-playback-rate-value"},"".concat(n.playbackRate.toFixed(2),"x")))}}]),t}(f.Component);g.propTypes=v,g.defaultProps={rates:[2,1.5,1.25,1,.5,.25]},g.displayName="PlaybackRateMenuButton";var m=g;t.default=m},5749:function(e,t,n){"use strict";var r=n(5263),i=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(434)),o=i(n(6690)),s=i(n(9728)),l=i(n(4993)),u=i(n(3808)),c=i(n(6115)),d=i(n(1655)),f=i(n(2007)),h=r(n(2791)),p=i(n(1694)),v=r(n(7463)),g=i(n(9984)),m={player:f.default.object,className:f.default.string},y=function(e){function t(e,n){var r;return(0,o.default)(this,t),(r=(0,l.default)(this,(0,u.default)(t).call(this,e,n))).state={mouseTime:{time:null,position:0}},r.handleMouseMoveThrottle=r.handleMouseMove.bind((0,c.default)(r)),r}return(0,d.default)(t,e),(0,s.default)(t,[{key:"handleMouseMove",value:function(e){if(e.pageX){var t=this.props.player.duration,n=this.seekBar,r=v.getPointerPosition(n,e).x*t,i=e.pageX-v.findElPosition(n).left;this.setState({mouseTime:{time:r,position:i}})}}},{key:"render",value:function(){var e=this,t=this.props.className;return h.default.createElement("div",{onMouseMove:this.handleMouseMoveThrottle,className:(0,p.default)("video-react-progress-control video-react-control",t)},h.default.createElement(g.default,(0,a.default)({mouseTime:this.state.mouseTime,ref:function(t){e.seekBar=t}},this.props)))}}]),t}(h.Component);t.default=y,y.propTypes=m,y.displayName="ProgressControl"},6062:function(e,t,n){"use strict";var r=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(0,r(n(3545)).default)("replay");i.displayName="ReplayControl";var a=i;t.default=a},9984:function(e,t,n){"use strict";var r=n(5263),i=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(6690)),o=i(n(9728)),s=i(n(4993)),l=i(n(3808)),u=i(n(6115)),c=i(n(1655)),d=i(n(2007)),f=r(n(2791)),h=i(n(1694)),p=i(n(6054)),v=i(n(1895)),g=i(n(7435)),m=i(n(979)),y=n(4737),b={player:d.default.object,mouseTime:d.default.object,actions:d.default.object,className:d.default.string},E=function(e){function t(e,n){var r;return(0,a.default)(this,t),(r=(0,s.default)(this,(0,l.default)(t).call(this,e,n))).getPercent=r.getPercent.bind((0,u.default)(r)),r.getNewTime=r.getNewTime.bind((0,u.default)(r)),r.stepForward=r.stepForward.bind((0,u.default)(r)),r.stepBack=r.stepBack.bind((0,u.default)(r)),r.handleMouseDown=r.handleMouseDown.bind((0,u.default)(r)),r.handleMouseMove=r.handleMouseMove.bind((0,u.default)(r)),r.handleMouseUp=r.handleMouseUp.bind((0,u.default)(r)),r}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"getPercent",value:function(){var e=this.props.player,t=e.currentTime,n=(e.seekingTime||t)/e.duration;return n>=1?1:n}},{key:"getNewTime",value:function(e){var t=this.props.player.duration,n=this.slider.calculateDistance(e)*t;return n===t?n-.1:n}},{key:"handleMouseDown",value:function(){}},{key:"handleMouseUp",value:function(e){var t=this.props.actions,n=this.getNewTime(e);t.seek(n),t.handleEndSeeking(n)}},{key:"handleMouseMove",value:function(e){var t=this.props.actions,n=this.getNewTime(e);t.handleSeekingTime(n)}},{key:"stepForward",value:function(){this.props.actions.forward(5)}},{key:"stepBack",value:function(){this.props.actions.replay(5)}},{key:"render",value:function(){var e=this,t=this.props,n=t.player,r=n.currentTime,i=n.seekingTime,a=n.duration,o=n.buffered,s=t.mouseTime,l=i||r;return f.default.createElement(p.default,{ref:function(t){e.slider=t},label:"video progress bar",className:(0,h.default)("video-react-progress-holder",this.props.className),valuenow:(100*this.getPercent()).toFixed(2),valuetext:(0,y.formatTime)(l,a),onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp,getPercent:this.getPercent,stepForward:this.stepForward,stepBack:this.stepBack},f.default.createElement(g.default,{buffered:o,currentTime:l,duration:a}),f.default.createElement(m.default,{duration:a,mouseTime:s}),f.default.createElement(v.default,{currentTime:l,duration:a}))}}]),t}(f.Component);t.default=E,E.propTypes=b,E.displayName="SeekBar"},4021:function(e,t,n){"use strict";var r=n(5263),i=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(434)),o=i(n(6690)),s=i(n(9728)),l=i(n(4993)),u=i(n(3808)),c=i(n(6115)),d=i(n(1655)),f=i(n(2007)),h=r(n(2791)),p=i(n(1694)),v=i(n(7984)),g=i(n(6354)),m={player:f.default.object,actions:f.default.object,vertical:f.default.bool,className:f.default.string,alwaysShowVolume:f.default.bool},y=function(e){function t(e,n){var r;return(0,o.default)(this,t),(r=(0,l.default)(this,(0,u.default)(t).call(this,e,n))).state={active:!1},r.handleClick=r.handleClick.bind((0,c.default)(r)),r.handleFocus=r.handleFocus.bind((0,c.default)(r)),r.handleBlur=r.handleBlur.bind((0,c.default)(r)),r}return(0,d.default)(t,e),(0,s.default)(t,[{key:"handleClick",value:function(){var e=this.props,t=e.player;e.actions.mute(!t.muted)}},{key:"handleFocus",value:function(){this.setState({active:!0})}},{key:"handleBlur",value:function(){this.setState({active:!1})}},{key:"render",value:function(){var e=this.props,t=e.vertical,n=e.player,r=e.className,i=!t,o=this.volumeLevel;return h.default.createElement(v.default,{className:(0,p.default)(r,{"video-react-volume-menu-button-vertical":t,"video-react-volume-menu-button-horizontal":!t,"video-react-vol-muted":n.muted,"video-react-vol-0":0===o&&!n.muted,"video-react-vol-1":1===o,"video-react-vol-2":2===o,"video-react-vol-3":3===o,"video-react-slider-active":this.props.alwaysShowVolume||this.state.active,"video-react-lock-showing":this.props.alwaysShowVolume||this.state.active},"video-react-volume-menu-button"),onClick:this.handleClick,inline:i},h.default.createElement(g.default,(0,a.default)({onFocus:this.handleFocus,onBlur:this.handleBlur},this.props)))}},{key:"volumeLevel",get:function(){var e=this.props.player,t=e.volume,n=e.muted,r=3;return 0===t||n?r=0:t<.33?r=1:t<.67&&(r=2),r}}]),t}(h.Component);y.propTypes=m,y.defaultProps={vertical:!1},y.displayName="VolumeMenuButton";var b=y;t.default=b},8866:function(e,t,n){"use strict";var r=n(5263),i=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(6690)),o=i(n(9728)),s=i(n(4993)),l=i(n(3808)),u=i(n(6115)),c=i(n(1655)),d=i(n(2007)),f=r(n(2791)),h={children:d.default.any},p=function(e){function t(e,n){var r;return(0,a.default)(this,t),(r=(0,s.default)(this,(0,l.default)(t).call(this,e,n))).handleClick=r.handleClick.bind((0,u.default)(r)),r}return(0,c.default)(t,e),(0,o.default)(t,[{key:"handleClick",value:function(e){e.preventDefault()}},{key:"render",value:function(){return f.default.createElement("div",{className:"video-react-menu video-react-lock-showing",role:"presentation",onClick:this.handleClick},f.default.createElement("ul",{className:"video-react-menu-content"},this.props.children))}}]),t}(f.Component);t.default=p,p.propTypes=h,p.displayName="Menu"},6143:function(e,t,n){"use strict";var r=n(5263),i=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(6690)),o=i(n(9728)),s=i(n(4993)),l=i(n(3808)),u=i(n(6115)),c=i(n(1655)),d=i(n(2007)),f=r(n(2791)),h=i(n(1694)),p=i(n(8866)),v=i(n(7673)),g=i(n(6656)),m={inline:d.default.bool,items:d.default.array,className:d.default.string,onSelectItem:d.default.func,children:d.default.any,selectedIndex:d.default.number},y=function(e){function t(e,n){var r;return(0,a.default)(this,t),(r=(0,s.default)(this,(0,l.default)(t).call(this,e,n))).state={active:!1,activateIndex:e.selectedIndex||0},r.commitSelection=r.commitSelection.bind((0,u.default)(r)),r.activateMenuItem=r.activateMenuItem.bind((0,u.default)(r)),r.handleClick=r.handleClick.bind((0,u.default)(r)),r.renderMenu=r.renderMenu.bind((0,u.default)(r)),r.handleFocus=r.handleFocus.bind((0,u.default)(r)),r.handleBlur=r.handleBlur.bind((0,u.default)(r)),r.handleUpArrow=r.handleUpArrow.bind((0,u.default)(r)),r.handleDownArrow=r.handleDownArrow.bind((0,u.default)(r)),r.handleEscape=r.handleEscape.bind((0,u.default)(r)),r.handleReturn=r.handleReturn.bind((0,u.default)(r)),r.handleTab=r.handleTab.bind((0,u.default)(r)),r.handleKeyPress=r.handleKeyPress.bind((0,u.default)(r)),r.handleSelectItem=r.handleSelectItem.bind((0,u.default)(r)),r.handleIndexChange=r.handleIndexChange.bind((0,u.default)(r)),r}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidUpdate",value:function(e){e.selectedIndex!==this.props.selectedIndex&&this.activateMenuItem(this.props.selectedIndex)}},{key:"commitSelection",value:function(e){this.setState({activateIndex:e}),this.handleIndexChange(e)}},{key:"activateMenuItem",value:function(e){this.setState({activateIndex:e}),this.handleIndexChange(e)}},{key:"handleIndexChange",value:function(e){(0,this.props.onSelectItem)(e)}},{key:"handleClick",value:function(){this.setState((function(e){return{active:!e.active}}))}},{key:"handleFocus",value:function(){document.addEventListener("keydown",this.handleKeyPress)}},{key:"handleBlur",value:function(){this.setState({active:!1}),document.removeEventListener("keydown",this.handleKeyPress)}},{key:"handleUpArrow",value:function(e){var t=this.props.items;if(this.state.active){e.preventDefault();var n=this.state.activateIndex-1;n<0&&(n=t.length?t.length-1:0),this.activateMenuItem(n)}}},{key:"handleDownArrow",value:function(e){var t=this.props.items;if(this.state.active){e.preventDefault();var n=this.state.activateIndex+1;n>=t.length&&(n=0),this.activateMenuItem(n)}}},{key:"handleTab",value:function(e){this.state.active&&(e.preventDefault(),this.commitSelection(this.state.activateIndex))}},{key:"handleReturn",value:function(e){e.preventDefault(),this.state.active?this.commitSelection(this.state.activateIndex):this.setState({active:!0})}},{key:"handleEscape",value:function(){this.setState({active:!1,activateIndex:0})}},{key:"handleKeyPress",value:function(e){27===e.which?this.handleEscape(e):9===e.which?this.handleTab(e):13===e.which?this.handleReturn(e):38===e.which?this.handleUpArrow(e):40===e.which&&this.handleDownArrow(e)}},{key:"handleSelectItem",value:function(e){this.commitSelection(e)}},{key:"renderMenu",value:function(){var e=this;if(!this.state.active)return null;var t=this.props.items;return f.default.createElement(p.default,null,t.map((function(t,n){return f.default.createElement(v.default,{item:t,index:n,onSelectItem:e.handleSelectItem,activateIndex:e.state.activateIndex,key:"item-".concat(n++)})})))}},{key:"render",value:function(){var e=this,t=this.props,n=t.inline,r=t.className;return f.default.createElement(g.default,{className:(0,h.default)(r,{"video-react-menu-button-inline":!!n,"video-react-menu-button-popup":!n,"video-react-menu-button-active":this.state.active},"video-react-control video-react-button video-react-menu-button"),role:"button",tabIndex:"0",ref:function(t){e.menuButton=t},onClick:this.handleClick,onFocus:this.handleFocus,onBlur:this.handleBlur},this.props.children,this.renderMenu())}}]),t}(f.Component);t.default=y,y.propTypes=m,y.displayName="MenuButton"},7673:function(e,t,n){"use strict";var r=n(5263),i=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(6690)),o=i(n(9728)),s=i(n(4993)),l=i(n(3808)),u=i(n(6115)),c=i(n(1655)),d=i(n(2007)),f=r(n(2791)),h=i(n(1694)),p={item:d.default.object,index:d.default.number,activateIndex:d.default.number,onSelectItem:d.default.func},v=function(e){function t(e,n){var r;return(0,a.default)(this,t),(r=(0,s.default)(this,(0,l.default)(t).call(this,e,n))).handleClick=r.handleClick.bind((0,u.default)(r)),r}return(0,c.default)(t,e),(0,o.default)(t,[{key:"handleClick",value:function(){var e=this.props,t=e.index;(0,e.onSelectItem)(t)}},{key:"render",value:function(){var e=this.props,t=e.item,n=e.index,r=e.activateIndex;return f.default.createElement("li",{className:(0,h.default)({"video-react-menu-item":!0,"video-react-selected":n===r}),role:"menuitem",onClick:this.handleClick},t.label,f.default.createElement("span",{className:"video-react-control-text"}))}}]),t}(f.Component);t.default=v,v.propTypes=p,v.displayName="MenuItem"},2859:function(e,t,n){"use strict";var r=n(5263),i=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(6690)),o=i(n(9728)),s=i(n(4993)),l=i(n(3808)),u=i(n(6115)),c=i(n(1655)),d=i(n(2007)),f=r(n(2791)),h={player:d.default.object,children:d.default.any},p=function(e){function t(e,n){var r;return(0,a.default)(this,t),(r=(0,s.default)(this,(0,l.default)(t).call(this,e,n))).handleClick=r.handleClick.bind((0,u.default)(r)),r}return(0,c.default)(t,e),(0,o.default)(t,[{key:"handleClick",value:function(e){e.preventDefault()}},{key:"render",value:function(){var e=this.props.children;return f.default.createElement("div",{className:"video-react-menu",onClick:this.handleClick},f.default.createElement("div",{className:"video-react-menu-content"},e))}}]),t}(f.Component);t.default=p,p.propTypes=h,p.displayName="Popup"},7984:function(e,t,n){"use strict";var r=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var i=r(n(434)),a=r(n(3331)),o=r(n(2007)),s=r(n(2791)),l=r(n(1694)),u=r(n(6656)),c=r(n(2859)),d={inline:o.default.bool,onClick:o.default.func.isRequired,onFocus:o.default.func,onBlur:o.default.func,className:o.default.string};function f(e){var t=e.inline,n=e.className,r=(0,a.default)({},e);return delete r.children,delete r.inline,delete r.className,s.default.createElement(u.default,(0,i.default)({className:(0,l.default)(n,{"video-react-menu-button-inline":!!t,"video-react-menu-button-popup":!t},"video-react-control video-react-button video-react-menu-button")},r),s.default.createElement(c.default,e))}f.propTypes=d,f.defaultProps={inline:!0},f.displayName="PopupButton"},906:function(e,t,n){"use strict";var r=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(2007)),a=r(n(2791)),o=r(n(1694)),s=n(4737),l={player:i.default.object,className:i.default.string};function u(e){var t=e.player,n=t.currentTime,r=t.duration,i=e.className,l=(0,s.formatTime)(n,r);return a.default.createElement("div",{className:(0,o.default)("video-react-current-time video-react-time-control video-react-control",i)},a.default.createElement("div",{className:"video-react-current-time-display","aria-live":"off"},a.default.createElement("span",{className:"video-react-control-text"},"Current Time "),l))}u.propTypes=l,u.displayName="CurrentTimeDisplay";var c=u;t.default=c},2561:function(e,t,n){"use strict";var r=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(2007)),a=r(n(2791)),o=r(n(1694)),s=n(4737),l={player:i.default.object,className:i.default.string};function u(e){var t=e.player.duration,n=e.className,r=(0,s.formatTime)(t);return a.default.createElement("div",{className:(0,o.default)(n,"video-react-duration video-react-time-control video-react-control")},a.default.createElement("div",{className:"video-react-duration-display","aria-live":"off"},a.default.createElement("span",{className:"video-react-control-text"},"Duration Time "),r))}u.propTypes=l,u.displayName="DurationDisplay";var c=u;t.default=c},5683:function(e,t,n){"use strict";var r=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(2007)),a=r(n(2791)),o=r(n(1694)),s=n(4737),l={player:i.default.object,className:i.default.string};function u(e){var t=e.player,n=t.currentTime,r=t.duration,i=e.className,l=r-n,u=(0,s.formatTime)(l);return a.default.createElement("div",{className:(0,o.default)("video-react-remaining-time video-react-time-control video-react-control",i)},a.default.createElement("div",{className:"video-react-remaining-time-display","aria-live":"off"},a.default.createElement("span",{className:"video-react-control-text"},"Remaining Time "),"-".concat(u)))}u.propTypes=l,u.displayName="RemainingTimeDisplay";var c=u;t.default=c},4976:function(e,t,n){"use strict";var r=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var i=r(n(2007)),a=r(n(2791)),o=r(n(1694)),s={separator:i.default.string,className:i.default.string};function l(e){var t=e.separator,n=e.className,r=t||"/";return a.default.createElement("div",{className:(0,o.default)("video-react-time-control video-react-time-divider",n),dir:"ltr"},a.default.createElement("div",null,a.default.createElement("span",null,r)))}l.propTypes=s,l.displayName="TimeDivider"},6354:function(e,t,n){"use strict";var r=n(5263),i=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(434)),o=i(n(6690)),s=i(n(9728)),l=i(n(4993)),u=i(n(3808)),c=i(n(6115)),d=i(n(1655)),f=i(n(2007)),h=r(n(2791)),p=i(n(1694)),v=i(n(6054)),g=i(n(6358)),m={actions:f.default.object,player:f.default.object,className:f.default.string,onFocus:f.default.func,onBlur:f.default.func},y=function(e){function t(e,n){var r;return(0,o.default)(this,t),(r=(0,l.default)(this,(0,u.default)(t).call(this,e,n))).state={percentage:"0%"},r.handleMouseMove=r.handleMouseMove.bind((0,c.default)(r)),r.handlePercentageChange=r.handlePercentageChange.bind((0,c.default)(r)),r.checkMuted=r.checkMuted.bind((0,c.default)(r)),r.getPercent=r.getPercent.bind((0,c.default)(r)),r.stepForward=r.stepForward.bind((0,c.default)(r)),r.stepBack=r.stepBack.bind((0,c.default)(r)),r.handleFocus=r.handleFocus.bind((0,c.default)(r)),r.handleBlur=r.handleBlur.bind((0,c.default)(r)),r.handleClick=r.handleClick.bind((0,c.default)(r)),r}return(0,d.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){}},{key:"getPercent",value:function(){var e=this.props.player;return e.muted?0:e.volume}},{key:"checkMuted",value:function(){var e=this.props,t=e.player,n=e.actions;t.muted&&n.mute(!1)}},{key:"handleMouseMove",value:function(e){var t=this.props.actions;this.checkMuted();var n=this.slider.calculateDistance(e);t.changeVolume(n)}},{key:"stepForward",value:function(){var e=this.props,t=e.player,n=e.actions;this.checkMuted(),n.changeVolume(t.volume+.1)}},{key:"stepBack",value:function(){var e=this.props,t=e.player,n=e.actions;this.checkMuted(),n.changeVolume(t.volume-.1)}},{key:"handleFocus",value:function(e){this.props.onFocus&&this.props.onFocus(e)}},{key:"handleBlur",value:function(e){this.props.onBlur&&this.props.onBlur(e)}},{key:"handlePercentageChange",value:function(e){e!==this.state.percentage&&this.setState({percentage:e})}},{key:"handleClick",value:function(e){e.stopPropagation()}},{key:"render",value:function(){var e=this,t=this.props,n=t.player,r=t.className,i=(100*n.volume).toFixed(2);return h.default.createElement(v.default,(0,a.default)({ref:function(t){e.slider=t},label:"volume level",valuenow:i,valuetext:"".concat(i,"%"),onMouseMove:this.handleMouseMove,onFocus:this.handleFocus,onBlur:this.handleBlur,onClick:this.handleClick,sliderActive:this.handleFocus,sliderInactive:this.handleBlur,getPercent:this.getPercent,onPercentageChange:this.handlePercentageChange,stepForward:this.stepForward,stepBack:this.stepBack},this.props,{className:(0,p.default)(r,"video-react-volume-bar video-react-slider-bar")}),h.default.createElement(g.default,this.props))}}]),t}(h.Component);y.propTypes=m,y.displayName="VolumeBar";var b=y;t.default=b},6358:function(e,t,n){"use strict";var r=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(2007)),a=r(n(2791)),o=r(n(1694)),s={percentage:i.default.string,vertical:i.default.bool,className:i.default.string};function l(e){var t=e.percentage,n=e.vertical,r=e.className,i={};return n?i.height=t:i.width=t,a.default.createElement("div",{className:(0,o.default)(r,"video-react-volume-level"),style:i},a.default.createElement("span",{className:"video-react-control-text"}))}l.propTypes=s,l.defaultProps={percentage:"100%",vertical:!1},l.displayName="VolumeLevel";var u=l;t.default=u},2932:function(e,t,n){"use strict";var r=n(5263),i=n(4836);var a=i(n(8549)),o=i(n(3289)),s=i(n(8453)),l=i(n(7374)),u=i(n(1517)),c=i(n(6054)),d=i(n(9635)),f=i(n(6300)),h=i(n(2613)),p=i(n(6441)),v=i(n(1389)),g=i(n(6062)),m=i(n(9478)),y=i(n(5749)),b=i(n(9984)),E=i(n(1895)),S=i(n(7435)),T=i(n(979)),w=i(n(4021)),k=i(n(5444)),L=i(n(40)),x=i(n(7626)),C=i(n(5683)),_=i(n(906)),A=i(n(2561)),O=i(n(4976)),P=i(n(6143));r(n(5726)),r(n(4534));var R=n(8518)},8518:function(e,t,n){"use strict";var r=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{player:(0,i.default)(e.player,t),operation:(0,a.default)(e.operation,t)}},t.operationReducer=t.playerReducer=void 0;var i=r(n(9865)),a=r(n(8164));var o=i.default;t.playerReducer=o;var s=a.default;t.operationReducer=s},8164:function(e,t,n){"use strict";var r=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;if(t.type===a.OPERATE)return(0,i.default)({},e,{count:e.count+1,operation:(0,i.default)({},e.operation,t.operation)});return e};var i=r(n(3331)),a=n(5726),o={count:0,operation:{action:"",source:""}}},9865:function(e,t,n){"use strict";var r=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.USER_ACTIVATE:return(0,i.default)({},e,{userActivity:t.activity});case o.PLAYER_ACTIVATE:return(0,i.default)({},e,{isActive:t.activity});case o.FULLSCREEN_CHANGE:return(0,i.default)({},e,{isFullscreen:!!t.isFullscreen});case a.SEEKING_TIME:return(0,i.default)({},e,{seekingTime:t.time});case a.END_SEEKING:return(0,i.default)({},e,{seekingTime:0});case a.LOAD_START:return(0,i.default)({},e,t.videoProps,{hasStarted:!1,ended:!1});case a.CAN_PLAY:return(0,i.default)({},e,t.videoProps,{waiting:!1});case a.WAITING:return(0,i.default)({},e,t.videoProps,{waiting:!0});case a.CAN_PLAY_THROUGH:case a.PLAYING:return(0,i.default)({},e,t.videoProps,{waiting:!1});case a.PLAY:return(0,i.default)({},e,t.videoProps,{ended:!1,paused:!1,autoPaused:!1,waiting:!1,hasStarted:!0});case a.PAUSE:return(0,i.default)({},e,t.videoProps,{paused:!0});case a.END:return(0,i.default)({},e,t.videoProps,{ended:!0});case a.SEEKING:return(0,i.default)({},e,t.videoProps,{seeking:!0});case a.SEEKED:return(0,i.default)({},e,t.videoProps,{seeking:!1});case a.ERROR:return(0,i.default)({},e,t.videoProps,{error:"UNKNOWN ERROR",ended:!0});case a.DURATION_CHANGE:case a.TIME_UPDATE:case a.VOLUME_CHANGE:case a.PROGRESS_CHANGE:case a.RATE_CHANGE:case a.SUSPEND:case a.ABORT:case a.EMPTIED:case a.STALLED:case a.LOADED_META_DATA:case a.LOADED_DATA:case a.RESIZE:return(0,i.default)({},e,t.videoProps);case a.ACTIVATE_TEXT_TRACK:return(0,i.default)({},e,{activeTextTrack:t.textTrack});default:return e}};var i=r(n(3331)),a=n(4534),o=n(5726),s={currentSrc:null,duration:0,currentTime:0,seekingTime:0,buffered:null,waiting:!1,seeking:!1,paused:!0,autoPaused:!1,ended:!1,playbackRate:1,muted:!1,volume:1,readyState:0,networkState:0,videoWidth:0,videoHeight:0,hasStarted:!1,userActivity:!0,isActive:!1,isFullscreen:!1,activeTextTrack:null}},5695:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IS_IOS=t.IS_IPOD=t.IS_IPHONE=t.IS_IPAD=void 0;var n="undefined"!==typeof window&&window.navigator?window.navigator.userAgent:"",r=/iPad/i.test(n);t.IS_IPAD=r;var i=/iPhone/i.test(n)&&!r;t.IS_IPHONE=i;var a=/iPod/i.test(n);t.IS_IPOD=a;var o=i||r||a;t.IS_IOS=o},7463:function(e,t){"use strict";function n(e){var t;if(e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect()),!t)return{left:0,top:0};var n=document,r=n.body,i=n.documentElement,a=i.clientLeft||r.clientLeft||0,o=window.pageXOffset||r.scrollLeft,s=t.left+o-a,l=i.clientTop||r.clientTop||0,u=window.pageYOffset||r.scrollTop,c=t.top+u-l;return{left:Math.round(s),top:Math.round(c)}}Object.defineProperty(t,"__esModule",{value:!0}),t.findElPosition=n,t.getPointerPosition=function(e,t){var r={},i=n(e),a=e.offsetWidth,o=e.offsetHeight,s=i.top,l=i.left,u=t.pageY,c=t.pageX;t.changedTouches&&(c=t.changedTouches[0].pageX,u=t.changedTouches[0].pageY);return r.y=Math.max(0,Math.min(1,(s-u+o)/o)),r.x=Math.max(0,Math.min(1,(c-l)/a)),r},t.blurNode=function(e){e&&e.blur&&e.blur()},t.focusNode=function(e){e&&e.focus&&e.focus()},t.hasClass=function(e,t){for(var n=e.className.split(" "),r=0;r<n.length;r++)if(n[r].toLowerCase()===t.toLowerCase())return!0;return!1}},4889:function(e,t,n){"use strict";var r=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(6690)),a=r(n(9728)),o=new(function(){function e(){(0,i.default)(this,e)}return(0,a.default)(e,[{key:"request",value:function(e){e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen()}},{key:"exit",value:function(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()}},{key:"addEventListener",value:function(e){document.addEventListener("fullscreenchange",e),document.addEventListener("webkitfullscreenchange",e),document.addEventListener("mozfullscreenchange",e),document.addEventListener("MSFullscreenChange",e)}},{key:"removeEventListener",value:function(e){document.removeEventListener("fullscreenchange",e),document.removeEventListener("webkitfullscreenchange",e),document.removeEventListener("mozfullscreenchange",e),document.removeEventListener("MSFullscreenChange",e)}},{key:"isFullscreen",get:function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement}},{key:"enabled",get:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled}}]),e}());t.default=o},4737:function(e,t,n){"use strict";var r=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.formatTime=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=Math.floor(e%60),r=Math.floor(e/60%60),i=Math.floor(e/3600),a=Math.floor(t/60%60),o=Math.floor(t/3600);(l(e)||e===1/0)&&(i="-",r="-",n="-");return i=i>0||o>0?"".concat(i,":"):"",r="".concat((i||a>=10)&&r<10?"0".concat(r):r,":"),n=n<10?"0".concat(n):n,i+r+n},t.isVideoChild=function(e){if(e.props&&e.props.isVideoChild)return!0;return"source"===e.type||"track"===e.type},t.mergeAndSortChildren=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=s.default.Children.toArray(t),l=(n.order,(0,o.default)(n,["order"]));return i.filter((function(e){return!e.props.disabled})).concat(e.filter((function(e){return!u(i,(function(t){return c(t,e)}))}))).map((function(t){var n=u(e,(function(e){return c(e,t)})),r=n?n.props:{},i=(0,a.default)({},l,r,t.props);return s.default.cloneElement(t,i,t.props.children)})).sort((function(e,t){return(e.props.order||r)-(t.props.order||r)}))},t.deprecatedWarning=function(e,t){console.warn("WARNING: ".concat(e," will be deprecated soon! Please use ").concat(t," instead."))},t.throttle=function(e,t){var n=arguments,r=!1;return function(){r||(e.apply(void 0,(0,i.default)(n)),r=!0,setTimeout((function(){r=!1}),t))}},t.mediaProperties=void 0;var i=r(n(861)),a=r(n(3331)),o=r(n(215)),s=r(n(2791)),l=Number.isNaN||function(e){return e!==e};var u=function(e,t){return e.filter(t)[0]},c=function(e,t){var n=e.type,r=t.type;return"string"===typeof n||"string"===typeof r?n===r:"function"===typeof n&&"function"===typeof r&&n.displayName===r.displayName};t.mediaProperties=["error","src","srcObject","currentSrc","crossOrigin","networkState","preload","buffered","readyState","seeking","currentTime","duration","paused","defaultPlaybackRate","playbackRate","played","seekable","ended","autoplay","loop","mediaGroup","controller","controls","volume","muted","defaultMuted","audioTracks","videoTracks","textTracks","width","height","videoWidth","videoHeight","poster"]},3897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},5372:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},3405:function(e,t,n){var r=n(3897);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6115:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},7156:function(e){function t(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,i)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(i,a){var o=e.apply(n,r);function s(e){t(o,i,a,s,l,"next",e)}function l(e){t(o,i,a,s,l,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},6690:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},9728:function(e,t,n){var r=n(4062);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},6389:function(e,t,n){var r=n(3808),i=n(9617),a=n(4993);e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return a(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},8416:function(e,t,n){var r=n(4062);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},434:function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},3808:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},1655:function(e,t,n){var r=n(6015);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},4836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},5263:function(e,t,n){var r=n(8698).default;function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}e.exports=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=o?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(a,s,l):a[s]=e[s]}return a.default=e,n&&n.set(e,a),a},e.exports.__esModule=!0,e.exports.default=e.exports},9617:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},9498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},8872:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports},2218:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},2281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},3331:function(e,t,n){var r=n(8416);e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&i.push.apply(i,Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach((function(t){r(e,t,n[t])}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},215:function(e,t,n){var r=n(7071);e.exports=function(e,t){if(null==e)return{};var n,i,a=r(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a},e.exports.__esModule=!0,e.exports.default=e.exports},7071:function(e){e.exports=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i},e.exports.__esModule=!0,e.exports.default=e.exports},4993:function(e,t,n){var r=n(8698).default,i=n(6115);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},7061:function(e,t,n){var r=n(8698).default;function i(){"use strict";e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,a=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(P){d=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),s=new _(r||[]);return o(a,"_invoke",{value:k(e,n,s)}),a}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(P){return{type:"throw",arg:P}}}t.wrap=f;var p={};function v(){}function g(){}function m(){}var y={};d(y,l,(function(){return this}));var b=Object.getPrototypeOf,E=b&&b(b(A([])));E&&E!==n&&a.call(E,l)&&(y=E);var S=m.prototype=v.prototype=Object.create(y);function T(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(i,o,s,l){var u=h(e[i],e,o);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==r(d)&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):t.resolve(d).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,l)}))}l(u.arg)}var i;o(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}})}function k(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return O()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=L(o,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=h(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function L(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,L(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var i=h(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,p;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function A(e){if(e){var t=e[l];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:O}}function O(){return{value:void 0,done:!0}}return g.prototype=m,o(S,"constructor",{value:m,configurable:!0}),o(m,"constructor",{value:g,configurable:!0}),g.displayName=d(m,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,d(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},T(w.prototype),d(w.prototype,u,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new w(f(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},T(S),d(S,c,"Generator"),d(S,l,(function(){return this})),d(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=a.call(i,"catchLoc"),l=a.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},6015:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},7424:function(e,t,n){var r=n(5372),i=n(8872),a=n(6116),o=n(2218);e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,n){var r=n(3405),i=n(9498),a=n(6116),o=n(2281);e.exports=function(e){return r(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},5036:function(e,t,n){var r=n(8698).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},4062:function(e,t,n){var r=n(8698).default,i=n(5036);e.exports=function(e){var t=i(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6116:function(e,t,n){var r=n(3897);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".d1d4a2c2.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="web:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,l;if(void 0!==a)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+a){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var f=function(t,n){s.onerror=s.onload=null,clearTimeout(h);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),l&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="./",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],l=r[2],u=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)l(n)}for(t&&t(r);u<o.length;u++)a=o[u],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkweb=self.webpackChunkweb||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e=n(2791),t=n(1250);n.p,n(2932);var r=n(6910),i=n.n(r),a=n(184),o=[{name:"James Hall",title:"Creative Director",int:"Senior Global Marketing Art Director at Krafton for PUBG, New State Mobile and Moonbreaker. \n          \n          One of the leading designers for the rebranding of PUBG and brand partnerships with Black Pink, Among Us, Mclaren"},{name:"John Harris",title:"VP of Tech",int:"CTO of multiple gaming & tech start ups including DNArt,  Red Robot Labs, Plus3. Lead developer at Crowdstar/Glu.\n\n          Opened his first checking account to buy the sheet music for Chrono Trigger "},{name:"Stojan Madjunkov",title:"Director of Product",int:"Lead Game Designer at Big Viking Games and Sr Product Manager at Jam City developing player to player economies in virtual worlds that generated $100M+ revenue and web3 battler MMO Champions Ascension "},{name:"Tom Tang",title:"Director of Design",int:"A game industry titan standing at 6\u20196 with over 25 years of experience. Leading game design teams and production for dozens of titles including Metal Knight, Fantasy Star Online, Halo Wars, Forza 2, Alan Wake and many more. "},{name:"Brian Wilson",title:"Associate Art Director",int:"Graphic Designer at Activision for multiple Call of Duty titles and Senior Marketing Artist for Ubisoft\u2019s The Division franchise, driving visual identity and branding. Past clients include HBO, WWE, Cartoon Network"},{name:"Yitao Guan",title:"Advisor",int:"Co-Founder and CTO of FunPlus releasing award winning games such as King of Avalon, State of Survival and Family Farm Seaside.\n\n          Programmer and Technologist from web1, web2, to web3 and to webN "},{name:"Anthony Ulrich",title:"Lead Gameplay Engineer",int:"Unity Engineer and Systems Architect for award winning games and projects from Jam City, Moth+Flame and Disney generating $100M+ in revenue. \n\n          Part-time practitioner of homebrew beer and the art of smoked brisket"},{name:"Michael Maurino",title:"Lead Concept Artist",int:"20+ years of experience in Entertainment. Senior Concept Artist at Riot for League of Legends designing champions and skins. Other titles include: Icons Combat Arena, Spellbreak and Fangs."},{name:"Darren Lue",title:"Community Manager",int:"Admin and Head of events for Valorant, LoL and TFT discord communities. Leading teams serving 1.3M+ players, in close collaboration with Riot and other companies including Discord, Dreamhack and Giantslayer"}],s=e.memo((function(){return(0,a.jsxs)("div",{className:"members",children:[(0,a.jsxs)("article",{children:[(0,a.jsx)("img",{src:"asset/Jeremy Horn - Founder.png",title:"Jeremy Horn - Founder.png"}),(0,a.jsx)("h3",{children:"Jeremy Horn"}),(0,a.jsx)("h4",{children:"Founder"}),(0,a.jsxs)("p",{children:["Hit-maker at Funplus, Jam City, Gameloft. Generated $1.5B+ with titles such as Harry Potter, Star Wars, Marvel, Avatar and more. Co-founder of web3 publishing leader @Xteriogames (over $40M raised)."," "]})]}),(0,a.jsx)("ul",{children:o.map((function(e){return(0,a.jsxs)("li",{children:[(0,a.jsxs)("span",{className:"border",children:[(0,a.jsx)("i",{}),(0,a.jsx)("b",{})]}),(0,a.jsx)("img",{src:"asset/".concat(e.name," - ").concat(e.title,".png"),title:"".concat(e.name," - ").concat(e.title)}),(0,a.jsx)("h3",{children:e.name}),(0,a.jsx)("h4",{children:e.title}),(0,a.jsx)("p",{children:e.int})]},e.name)}))})]})})),l=[{name:"Twitter",url:"https://twitter.com/OverworldPlay",icon:(0,a.jsx)("svg",{viewBox:"0 0 24 24","aria-hidden":"true",className:"r-1cvl2hr r-4qtqp9 r-yyyyoo r-16y2uox r-8kz0gk r-dnmrzs r-bnwqim r-1plcrui r-lrvibr r-lrsllp",children:(0,a.jsx)("g",{children:(0,a.jsx)("path",{d:"M23.643 4.937c-.835.37-1.732.62-2.675.733.962-.576 1.7-1.49 2.048-2.578-.9.534-1.897.922-2.958 1.13-.85-.904-2.06-1.47-3.4-1.47-2.572 0-4.658 2.086-4.658 4.66 0 .364.042.718.12 1.06-3.873-.195-7.304-2.05-9.602-4.868-.4.69-.63 1.49-.63 2.342 0 1.616.823 3.043 2.072 3.878-.764-.025-1.482-.234-2.11-.583v.06c0 2.257 1.605 4.14 3.737 4.568-.392.106-.803.162-1.227.162-.3 0-.593-.028-.877-.082.593 1.85 2.313 3.198 4.352 3.234-1.595 1.25-3.604 1.995-5.786 1.995-.376 0-.747-.022-1.112-.065 2.062 1.323 4.51 2.093 7.14 2.093 8.57 0 13.255-7.098 13.255-13.254 0-.2-.005-.402-.014-.602.91-.658 1.7-1.477 2.323-2.41z"})})})}],u=e.memo((function(){return(0,a.jsxs)("header",{className:"header",children:[(0,a.jsx)("a",{className:"logo",href:"/",children:(0,a.jsx)("img",{src:"asset/logo.png"})}),(0,a.jsx)("ul",{className:"media",children:l.map((function(e){return(0,a.jsx)("li",{children:(0,a.jsx)("a",{href:e.url,target:"_blank",children:e.icon})},e.name)}))})]})}));function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var f="undefined"!=typeof performance?function(){return performance.now()}:function(){return Date.now()},h="undefined"!=typeof window?function(e){return window.requestAnimationFrame(e)}:function(e){return setTimeout((function(){return e(f())}),16.666666666666668)},p=!0,v=!1,g=!1,m={delta:0,timestamp:0},y=["read","update","preRender","render","postRender"],b=y.reduce((function(e,t){return e[t]=function(e){var t=[],n=[],r=0,i=!1,a=!1,o=new WeakSet,s={schedule:function(e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i,s=a?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o.add(e),-1===s.indexOf(e)&&(s.push(e),a&&i&&(r=t.length)),e},cancel:function(e){var t=n.indexOf(e);-1!==t&&n.splice(t,1),o.delete(e)},process:function(e){if(i)a=!0;else{var l;if(i=!0,t=(l=[n,t])[0],(n=l[1]).length=0,r=t.length)for(var u=0;u<r;u++){var c=t[u];c(e),o.has(c)&&(s.schedule(c),v=!0)}i=!1,a&&(a=!1,s.process(e))}}};return s}(),e}),{}),E=y.reduce((function(e,t){var n=b[t];return e[t]=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return v||k(),n.schedule(e,t,r)},e}),{}),S=y.reduce((function(e,t){return e[t]=b[t].cancel,e}),{});y.reduce((function(e,t){return e[t]=function(){return b[t].process(m)},e}),{});var T=function(e){return b[e].process(m)},w=function e(t){v=!1,m.delta=p?16.666666666666668:Math.max(Math.min(t-m.timestamp,40),1),m.timestamp=t,g=!0,y.forEach(T),g=!1,v&&(p=!1,h(e))},k=function(){v=!0,p=!0,g||h(w)},L="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:{},x=/^\s+|\s+$/g,C=/^[-+]0x[0-9a-f]+$/i,_=/^0b[01]+$/i,A=/^0o[0-7]+$/i,O=parseInt,P="object"==typeof L&&L&&L.Object===Object&&L,R="object"==typeof self&&self&&self.Object===Object&&self,D=P||R||Function("return this")(),I=Object.prototype.toString,M=Math.max,F=Math.min,N=function(){return D.Date.now()};function j(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function B(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==I.call(e)}(e))return NaN;if(j(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=j(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(x,"");var n=_.test(e);return n||A.test(e)?O(e.slice(2),n?2:8):C.test(e)?NaN:+e}var U=function(e,t,n){var r,i,a,o,s,l,u=0,c=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var n=r,a=i;return r=i=void 0,u=t,o=e.apply(a,n)}function p(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-u>=a}function v(){var e=N();if(p(e))return g(e);s=setTimeout(v,function(e){var n=t-(e-l);return d?F(n,a-(e-u)):n}(e))}function g(e){return s=void 0,f&&r?h(e):(r=i=void 0,o)}function m(){var e=N(),n=p(e);if(r=arguments,i=this,l=e,n){if(void 0===s)return function(e){return u=e,s=setTimeout(v,t),c?h(e):o}(l);if(d)return s=setTimeout(v,t),h(l)}return void 0===s&&(s=setTimeout(v,t)),o}return t=B(t)||0,j(n)&&(c=!!n.leading,a=(d="maxWait"in n)?M(B(n.maxWait)||0,t):a,f="trailing"in n?!!n.trailing:f),m.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=l=i=s=void 0},m.flush=function(){return void 0===s?o:g(N())},m},G={isReady:!1,scrollbarWidth:0,windowHeight:0,windowWidth:0},z=function(){var t=d((0,e.useState)(G),2),n=t[0],r=t[1],i=(0,e.useRef)(G),a=(0,e.useCallback)((function(){var e={isReady:!0,scrollbarWidth:window.innerWidth-document.documentElement.clientWidth,windowHeight:window.innerHeight,windowWidth:window.innerWidth};r(e),i.current=e}),[]);return(0,e.useEffect)((function(){var e=U(a,100);return window.addEventListener("resize",e),a(),function(){window.removeEventListener("resize",e)}}),[a]),{windowSize:n,windowSizeRef:i}},H=function(e,t,n){return e+(t-e)*n},K=function(){return"undefined"!=typeof window&&("ontouchstart"in window||"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0)},V={xMaxOffset:1,xOffset:1,yMaxOffset:1,yOffset:1},W=((0,e.forwardRef)((function(t,n){(0,e.useImperativeHandle)(n,(function(){return{updateValues:G}}));var r=t.children,i=t.strength,a=void 0===i?.14:i,o=t.scrollContainerRef,s=void 0===o?null:o,l=t.enableOnTouchDevice,u=void 0===l||l,c=t.lerpEase,d=void 0===c?.06:c,f=t.isHorizontal,h=void 0!==f&&f,p=t.isAbsolutelyPositioned,v=void 0!==p&&p,g=t.zIndex,m=void 0===g?null:g,y=t.shouldPause,b=void 0===y||y,T=(0,e.useRef)(null),w=(0,e.useRef)(null),k=(0,e.useRef)(1),L=(0,e.useRef)(1),x=(0,e.useRef)(1),C=(0,e.useRef)(1),_=(0,e.useRef)(null),A=(0,e.useRef)(null),O=(0,e.useRef)(!0),P=(0,e.useRef)(V),R=(0,e.useRef)(1),D=(0,e.useRef)(1),I=z().windowSizeRef,M=function(){T.current&&(T.current.style.willChange="transform",_.current=E.render(N,!0),A.current=E.update(j,!0))},F=function(){T.current&&(T.current.style.willChange="auto",_.current&&S.render(_.current),A.current&&S.update(A.current))},N=function(){if(O.current&&T.current){var e=h?1:0;T.current.style.transform="translate(".concat(k.current*a*e,"px, ").concat(L.current*a*(1-e),"px)")}},j=function(e){var t=e.delta;if(O.current){var n=Math.abs(x.current-k.current),r=Math.abs(C.current-L.current);if(!(n<.001&&r<.001)){var i=t/16.666666666666668,a=Math.round(i);a>=1&&(i=a);var o=H(k.current,x.current,d*i);k.current=o;var s=H(L.current,C.current,d*i);L.current=s}}},B=function(){document.hidden?F():M()},G=function(){(function(){if(w&&w.current){J();var e=w.current.getBoundingClientRect();R.current=P.current.xOffset+e.x+.5*e.width,D.current=P.current.yOffset+e.y+.5*e.height}})(),q()},W=U(G,150),J=function(){var e;s&&s.current?P.current={xOffset:(e=s.current).scrollLeft,yOffset:e.scrollTop,xMaxOffset:e.scrollWidth-e.offsetWidth,yMaxOffset:e.scrollHeight-e.offsetHeight}:P.current={xOffset:window.pageXOffset,yOffset:window.pageYOffset,xMaxOffset:document.body.clientWidth-window.innerWidth,yMaxOffset:document.body.clientHeight-window.innerHeight}},q=function(){J();var e=P.current.xOffset-R.current,t=P.current.yOffset-D.current;if(e+=.5*I.current.windowWidth,t+=.5*I.current.windowHeight,x.current=e,C.current=t,Math.abs(C.current)>1.5*I.current.windowHeight||Math.abs(x.current)>1.5*I.current.windowWidth){if(!b)return;O.current=!1}else O.current=!0};return(0,e.useEffect)((function(){if(u||!K()){M();var e=window;return s&&s.current&&(e=s.current),e.addEventListener("scroll",q,{passive:!0}),window.addEventListener("visibilitychange",B),window.addEventListener("resize",W),G(),function(){F(),e.removeEventListener("scroll",q),window.removeEventListener("visibilitychange",B),window.removeEventListener("resize",W)}}}),[]),e.createElement(e.Fragment,null,e.createElement("span",{ref:w,style:{width:"100%",height:"100%",display:"inline-block",userSelect:"none",pointerEvents:"none",position:v?"absolute":"relative",top:0,left:0,zIndex:m||"initial"}},e.createElement("span",{ref:T,style:{backfaceVisibility:"hidden",position:"relative",width:"100%",height:"100%",display:"inline-block",userSelect:"initial",pointerEvents:"initial"}},r)))})),n(9644));function J(){return(0,a.jsxs)("div",{className:"end-content",children:[(0,a.jsx)("h1",{children:"Overworld"}),(0,a.jsx)("img",{className:"logo",src:"asset/logo.png"}),(0,a.jsx)("img",{src:"asset/OVWR_MaleCharacter-2.png"})]})}var q=function(){return e.useEffect((function(){var e=document.querySelector("video").play();void 0!==e&&e.then((function(e){})).catch((function(e){}))})),(0,a.jsxs)("div",{className:"App",children:[(0,a.jsx)(u,{}),(0,a.jsx)(i(),{licenseKey:"YOUR_KEY_HERE",scrollingSpeed:1e3,render:function(e){e.state,e.fullpageApi;return(0,a.jsxs)(i().Wrapper,{children:[(0,a.jsx)("div",{className:"section",children:(0,a.jsx)("div",{className:"video",children:(0,a.jsx)(W.JolPlayer,{option:{mode:"heightFix",autoPlay:!0,setEndPlayContent:(0,a.jsx)(J,{}),videoSrc:"asset/video.mp4",language:"en",isProgressFloat:!1,isShowPauseButton:!1,isToast:!1,isShowSet:!1,isShowScreenshot:!1,isShowPicture:!1,isShowWebFullScreen:!1}})})}),(0,a.jsxs)("div",{className:"section",children:[(0,a.jsx)("img",{src:"asset/img4.jpeg"}),(0,a.jsx)("img",{src:"asset/img5.jpeg"})]}),(0,a.jsx)("div",{className:"section",children:(0,a.jsx)(s,{})})]})}})]})},Y=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};t.createRoot(document.getElementById("root")).render((0,a.jsx)(e.StrictMode,{children:(0,a.jsx)(q,{})})),Y()}()}();
//# sourceMappingURL=main.3243a48d.js.map